[
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1752",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1752/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1752/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1752/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1752",
        "id": 1616319653,
        "node_id": "PR_kwDOF41eh85LoFmi",
        "number": 1752,
        "title": "Update `sky show-gpus`",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/14",
            "html_url": "https://github.com/skypilot-org/skypilot/milestone/14",
            "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/14/labels",
            "id": 9189178,
            "node_id": "MI_kwDOF41eh84AjDc6",
            "number": 14,
            "title": "v0.3",
            "description": "",
            "creator": {
                "login": "concretevitamin",
                "id": 592670,
                "node_id": "MDQ6VXNlcjU5MjY3MA==",
                "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/concretevitamin",
                "html_url": "https://github.com/concretevitamin",
                "followers_url": "https://api.github.com/users/concretevitamin/followers",
                "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
                "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
                "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
                "repos_url": "https://api.github.com/users/concretevitamin/repos",
                "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
                "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 19,
            "state": "closed",
            "created_at": "2023-03-22T00:07:00Z",
            "updated_at": "2023-10-03T02:01:47Z",
            "due_on": null,
            "closed_at": "2023-09-08T19:22:31Z"
        },
        "comments": 9,
        "created_at": "2023-03-09T03:06:21Z",
        "updated_at": "2023-10-03T02:01:47Z",
        "closed_at": "2023-10-03T02:01:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1752",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1752",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1752.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1752.patch",
            "merged_at": null
        },
        "body": "This pr updates `sky show-gpus` and fixes #1733.\r\n\r\nChanges:\r\n\r\n- `sky show-gpus [--cloud CLOUD] [--region REGION]` shows all gpus satisfying the query, but does not show any detailed information (e.g. specs, pricing)\r\n- Using `--all` shows detailed information\r\n- A10, A10G are part of `COMMON_GPU` (@WoosukKwon I forgot which ones you wanted to move out of `COMMON_GPU`, could you remind me?)\r\n\r\nTested:\r\n\r\n- [x] `sky show-gpus`\r\n- [x] `sky show-gpus -a`\r\n- [x] `sky show-gpus --cloud lambda`\r\n- [x] `sky show-gpus --cloud lambda --region us-east-1`\r\n- [x] `sky show-gpus --cloud lambda -a`\r\n- [x] `sky show-gpus --cloud gcp`\r\n- [x] `sky show-gpus --cloud gcp -a`\r\n- [x] `sky show-gpus A100`",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1752/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1752/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1751",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1751/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1751/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1751/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1751",
        "id": 1615997880,
        "node_id": "I_kwDOF41eh85gUiu4",
        "number": 1751,
        "title": "cost-report: clusters that aren't actually launched are shown",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-03-08T21:51:55Z",
        "updated_at": "2023-07-17T02:50:32Z",
        "closed_at": "2023-07-17T02:50:32Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "\r\n\r\nTried a few invocations of\r\n```\r\nsky launch --cloud aws --gpus T4:8 --num-nodes 100 -c hundred-node --down\r\n```\r\nnone of which succeeded in launching anything, as expected.\r\n\r\nHowever, `cost-report` now contains\r\n```\r\nhundred-node                   1 day ago    1h 7m 31s           100x AWS(g4dn.metal, {'T4': 8})                                            TERMINATED  $ 782.400     $880.417\r\nhundred-node                   1 day ago    34s                 100x AWS(g4dn.metal, {'T4': 8})                                            TERMINATED  $ 782.400     $7.389\r\nhundred-node                   1 day ago    43s                 100x AWS(g4dn.metal, {'T4': 8})                                            TERMINATED  $ 782.400     $9.345\r\nhundred-node                   1 day ago    39s                 100x AWS(g4dn.metal, {'T4': 8})                                            TERMINATED  $ 782.400     $8.476\r\n...\r\n```\r\nShould these be included?\r\n\r\n@sumanthgenz ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1751/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1751/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1750",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1750/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1750/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1750/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1750",
        "id": 1614671230,
        "node_id": "PR_kwDOF41eh85LikQB",
        "number": 1750,
        "title": "[Doc] storage.rst typo fix",
        "user": {
            "login": "landscapepainter",
            "id": 34902420,
            "node_id": "MDQ6VXNlcjM0OTAyNDIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/34902420?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/landscapepainter",
            "html_url": "https://github.com/landscapepainter",
            "followers_url": "https://api.github.com/users/landscapepainter/followers",
            "following_url": "https://api.github.com/users/landscapepainter/following{/other_user}",
            "gists_url": "https://api.github.com/users/landscapepainter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/landscapepainter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/landscapepainter/subscriptions",
            "organizations_url": "https://api.github.com/users/landscapepainter/orgs",
            "repos_url": "https://api.github.com/users/landscapepainter/repos",
            "events_url": "https://api.github.com/users/landscapepainter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/landscapepainter/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-03-08T05:16:02Z",
        "updated_at": "2023-03-08T05:25:26Z",
        "closed_at": "2023-03-08T05:25:26Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1750",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1750",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1750.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1750.patch",
            "merged_at": "2023-03-08T05:25:26Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1750/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1750/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1749",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1749/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1749/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1749/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1749",
        "id": 1614492090,
        "node_id": "PR_kwDOF41eh85Lh-Kr",
        "number": 1749,
        "title": "Fix autostop/down for TPU node",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/1",
            "html_url": "https://github.com/skypilot-org/skypilot/milestone/1",
            "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/1/labels",
            "id": 7767342,
            "node_id": "MI_kwDOF41eh84AdoUu",
            "number": 1,
            "title": "TPU",
            "description": null,
            "creator": {
                "login": "concretevitamin",
                "id": 592670,
                "node_id": "MDQ6VXNlcjU5MjY3MA==",
                "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/concretevitamin",
                "html_url": "https://github.com/concretevitamin",
                "followers_url": "https://api.github.com/users/concretevitamin/followers",
                "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
                "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
                "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
                "repos_url": "https://api.github.com/users/concretevitamin/repos",
                "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
                "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 1,
            "closed_issues": 11,
            "state": "open",
            "created_at": "2022-03-15T00:03:55Z",
            "updated_at": "2023-11-13T19:57:09Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 3,
        "created_at": "2023-03-08T01:41:13Z",
        "updated_at": "2023-11-13T19:57:09Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1749",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1749",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1749.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1749.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes https://github.com/skypilot-org/skypilot/issues/1748. This PR also refactors the script for creating/removing TPU nodes.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Tested `sky launch examples/tpu/tpu_node_mnist.yaml --down` and `sky launch examples/tpu/tpu_node_mnist.yaml -i 1`\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1749/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1749/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1748",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1748/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1748/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1748/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1748",
        "id": 1612538449,
        "node_id": "I_kwDOF41eh85gHWJR",
        "number": 1748,
        "title": "[TPU] autostop/autodown are not supported for TPU nodes",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294581,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTgx",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/bug",
                "name": "bug",
                "color": "d73a4a",
                "default": true,
                "description": "Something isn't working"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "infwinston",
                "id": 1206058,
                "node_id": "MDQ6VXNlcjEyMDYwNTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/infwinston",
                "html_url": "https://github.com/infwinston",
                "followers_url": "https://api.github.com/users/infwinston/followers",
                "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
                "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
                "organizations_url": "https://api.github.com/users/infwinston/orgs",
                "repos_url": "https://api.github.com/users/infwinston/repos",
                "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
                "received_events_url": "https://api.github.com/users/infwinston/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-03-07T01:38:16Z",
        "updated_at": "2023-11-13T19:56:43Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "For TPU nodes, we launch/delete them with gcloud scripts as Ray doesn't support it.\r\nhttps://github.com/skypilot-org/skypilot/blob/master/sky/templates/gcp-tpu-delete.sh.j2\r\nIn autostop/autodown event, we call `ray down` to stop/down the host VM but in this case the TPU node resource will leak.\r\nhttps://github.com/skypilot-org/skypilot/blob/1c4fdd61a47314c5901309ce5acc5b1b1b20b872/sky/skylet/events.py#L157\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1748/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1748/timeline",
        "performed_via_github_app": null,
        "state_reason": "reopened"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1747",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1747/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1747/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1747/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1747",
        "id": 1610689425,
        "node_id": "PR_kwDOF41eh85LVIZX",
        "number": 1747,
        "title": "[back compat] Fix configuring private VPC causing old clusters to have wrong `sky_ray.yml`",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-03-06T05:18:54Z",
        "updated_at": "2023-03-06T18:30:46Z",
        "closed_at": "2023-03-06T18:30:43Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1747",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1747",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1747.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1747.patch",
            "merged_at": "2023-03-06T18:30:43Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\nTo reproduce this bug:\r\n- Clear `~/.sky/config.yaml`, launch a cluster `dbg`, have it autostopped\r\n- Now fill in `~/.sky/config.yaml` with private VPC configured\r\n```yaml\r\naws:\r\n  vpc_name: nonexisting-vpc\r\n  use_internal_ips: True\r\n  ssh_proxy_command: ssh -W %h:%p -i ~/.ssh/sky-key -o StrictHostKeyChecking=no ec2-user@1.2.3.4\r\n```\r\n- `sky launch -c dbg -i0` again\r\n- Observe that it correctly restarted in the old default VPC; however, the autostopping would fail, due to `~/.sky/sky_ray.yml` on the remote containing wrong contents:\r\n```yaml\r\nprovider:\r\n  ...  # other fields are correct/preserved\r\n  # BUG: this is added\r\n  vpc_name: nonexisting-vpc\r\n  # BUG: this is not preserved\r\n  use_internal_ips: true\r\n\r\nauth:\r\n  ...\r\n  # BUG: this is added\r\n  ssh_proxy_command: ssh -W %h:%p -i ~/.ssh/sky-key -o StrictHostKeyChecking=no ec2-user@1.2.3.4\r\n```\r\n\r\nThis is due to the ordering of when we call `_optimize_file_mounts()`.  This PR changes it so that we optimize file mounts only after finalizing all source files.\r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - The above repro, which no longer has this problem\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n```\r\npytest tests/test_smoke.py\r\npytest tests/test_smoke.py --aws\r\n```\r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1747/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1747/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1746",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1746/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1746/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1746/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1746",
        "id": 1610460595,
        "node_id": "PR_kwDOF41eh85LUWwH",
        "number": 1746,
        "title": "[Resources] Add memory in resources",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-03-06T00:29:08Z",
        "updated_at": "2023-03-15T05:04:36Z",
        "closed_at": "2023-03-15T05:04:33Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1746",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1746",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1746.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1746.patch",
            "merged_at": "2023-03-15T05:04:33Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes #1673, this simulates the behavior of `cpus` in resources, thanks to the great effort from @WoosukKwon in #1622 \r\n\r\nAdded a memory filtering field for the resources:\r\n1. `memory: 16` the memory should be 16GB\r\n2. `memory: 16+` the memory should be more than 16GB\r\n3. ~~`memory: 4x` the memory to core ratio should be larger than 4 times.~~ (Not expose this API as it might be confusing)\r\n\r\nLogics for choosing the CPU instance to use:\r\n1. Use the general-purpose CPU instance by default, when the `--memory` is not specified\r\n2. Use the cheapest CPU instance that satisfies the requirement, when the `--memory` is specified.\r\n\r\n1. `sky launch -c normal`\r\n```\r\nI 03-07 21:32:21 optimizer.py:712] Considered resources (1 node):\r\nI 03-07 21:32:21 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\nI 03-07 21:32:21 optimizer.py:760]  CLOUD    INSTANCE           vCPUs   Mem(GB)   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 03-07 21:32:21 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\nI 03-07 21:32:21 optimizer.py:760]  AWS      m6i.2xlarge        8       32        -              us-east-2     0.38          \u2714     \r\nI 03-07 21:32:21 optimizer.py:760]  Azure    Standard_D8_v5     8       32        -              eastus        0.38                \r\nI 03-07 21:32:21 optimizer.py:760]  GCP      n2-standard-8      8       32        -              us-central1   0.39                \r\nI 03-07 21:32:21 optimizer.py:760]  Lambda   gpu_1x_a100_sxm4   30      200       A100:1         us-east-1     1.10                \r\nI 03-07 21:32:21 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\n```\r\n2. `sky launch -c cpus --cpus 32+`: general purpose\r\n```\r\nI 03-07 21:33:55 optimizer.py:760] -----------------------------------------------------------------------------------------------\r\nI 03-07 21:33:55 optimizer.py:760]  CLOUD    INSTANCE          vCPUs   Mem(GB)   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 03-07 21:33:55 optimizer.py:760] -----------------------------------------------------------------------------------------------\r\nI 03-07 21:33:55 optimizer.py:760]  AWS      m6i.8xlarge       32      128       -              us-east-2     1.54          \u2714     \r\nI 03-07 21:33:55 optimizer.py:760]  Azure    Standard_D32_v5   32      128       -              eastus        1.54                \r\nI 03-07 21:33:55 optimizer.py:760]  GCP      n2-standard-32    32      128       -              us-central1   1.55                \r\nI 03-07 21:33:55 optimizer.py:760]  Lambda   gpu_4x_a6000      56      400       A6000:4        us-east-1     3.20                \r\nI 03-07 21:33:55 optimizer.py:760] -----------------------------------------------------------------------------------------------\r\n```\r\n3. `sky launch -c compute-optimized --cpus 32+ --memory 32+`\r\n```\r\nI 03-07 21:43:40 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\nI 03-07 21:43:40 optimizer.py:760]  CLOUD    INSTANCE           vCPUs   Mem(GB)   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 03-07 21:43:40 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\nI 03-07 21:43:40 optimizer.py:760]  GCP      n2-highcpu-32      32      32        -              us-central1   1.15          \u2714     \r\nI 03-07 21:43:40 optimizer.py:760]  Azure    Standard_F32s_v2   32      64        -              eastus        1.35                \r\nI 03-07 21:43:40 optimizer.py:760]  AWS      c6i.8xlarge        32      64        -              us-east-2     1.36                \r\nI 03-07 21:43:40 optimizer.py:760]  Lambda   gpu_4x_a6000       56      400       A6000:4        us-east-1     3.20                \r\nI 03-07 21:43:40 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\nI 03-07 21:43:40 optimizer.py:760] \r\n```\r\n4. `sky launch -c memory-optimized --memory 32+`\r\n```\r\nI 03-07 21:44:13 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\nI 03-07 21:44:13 optimizer.py:760]  CLOUD    INSTANCE           vCPUs   Mem(GB)   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 03-07 21:44:13 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\nI 03-07 21:44:13 optimizer.py:760]  AWS      r6i.xlarge         4       32        -              us-east-2     0.25          \u2714     \r\nI 03-07 21:44:13 optimizer.py:760]  Azure    Standard_E4_v5     4       32        -              eastus        0.25                \r\nI 03-07 21:44:13 optimizer.py:760]  GCP      n2-highmem-4       4       32        -              us-central1   0.26                \r\nI 03-07 21:44:13 optimizer.py:760]  Lambda   gpu_1x_a100_sxm4   30      200       A100:1         us-east-1     1.10                \r\nI 03-07 21:44:13 optimizer.py:760] ------------------------------------------------------------------------------------------------\r\n```\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - [x] `pytest tests/test_optimizer_dryruns.py` with added memory related unit tests.\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1746/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1746/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1745",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1745/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1745/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1745/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1745",
        "id": 1610073159,
        "node_id": "PR_kwDOF41eh85LTI9_",
        "number": 1745,
        "title": "[spot] Fix multiprocessing signal handling in spot controller",
        "user": {
            "login": "suquark",
            "id": 13750372,
            "node_id": "MDQ6VXNlcjEzNzUwMzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/13750372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suquark",
            "html_url": "https://github.com/suquark",
            "followers_url": "https://api.github.com/users/suquark/followers",
            "following_url": "https://api.github.com/users/suquark/following{/other_user}",
            "gists_url": "https://api.github.com/users/suquark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suquark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suquark/subscriptions",
            "organizations_url": "https://api.github.com/users/suquark/orgs",
            "repos_url": "https://api.github.com/users/suquark/repos",
            "events_url": "https://api.github.com/users/suquark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suquark/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 9,
        "created_at": "2023-03-05T06:15:24Z",
        "updated_at": "2023-03-16T16:38:39Z",
        "closed_at": "2023-03-16T08:58:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1745",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1745",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1745.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1745.patch",
            "merged_at": "2023-03-16T08:58:56Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nPreviously, we send an interruption signal to the controller process and the controller process handles cleanup. However, we figure out the behavior differs from cloud to cloud (e.g., GCP ignore 'SIGINT'). A possible reason is https://unix.stackexchange.com/questions/356408/strange-problem-with-trap-and-sigint. But anyway, a clean solution is killing the controller process directly, and then cleanup the cluster state.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [x] Relevant individual smoke tests: `pytest tests/test_smoke.py --managed-spot`  (both AWS and GCP as spot controllers)\r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1745/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1745/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1744",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1744/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1744/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1744/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1744",
        "id": 1608718709,
        "node_id": "PR_kwDOF41eh85LOwED",
        "number": 1744,
        "title": "[Optimizer] Add Azure disk price to the optimizer",
        "user": {
            "login": "cblmemo",
            "id": 74357442,
            "node_id": "MDQ6VXNlcjc0MzU3NDQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/74357442?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cblmemo",
            "html_url": "https://github.com/cblmemo",
            "followers_url": "https://api.github.com/users/cblmemo/followers",
            "following_url": "https://api.github.com/users/cblmemo/following{/other_user}",
            "gists_url": "https://api.github.com/users/cblmemo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cblmemo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cblmemo/subscriptions",
            "organizations_url": "https://api.github.com/users/cblmemo/orgs",
            "repos_url": "https://api.github.com/users/cblmemo/repos",
            "events_url": "https://api.github.com/users/cblmemo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cblmemo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-03-03T14:11:38Z",
        "updated_at": "2023-11-10T02:03:13Z",
        "closed_at": "2023-11-10T02:03:13Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1744",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1744",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1744.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1744.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nAdd Azure disk price to the optimizer. This PR is blocking on skypilot-org/skypilot#1642 and resolves #1228 on Azure.\r\n\r\nNeed to change skypilot-org/skypilot-catalog by adding storage.csv to azure/storage.csv for fetching.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1744/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1744/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1743",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1743/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1743/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1743/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1743",
        "id": 1607855610,
        "node_id": "PR_kwDOF41eh85LL1Em",
        "number": 1743,
        "title": "[Spot] Disallow spot autostop",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-03-03T02:51:54Z",
        "updated_at": "2023-03-03T19:07:10Z",
        "closed_at": "2023-03-03T19:07:10Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1743",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1743",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1743.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1743.patch",
            "merged_at": "2023-03-03T19:07:10Z"
        },
        "body": "This PR fixes #1472 by disallowing spot autostop.\r\n\r\nTested:\r\n\r\n- [x] `sky launch --cloud gcp --use-spot -i 5` (disallow)\r\n- [x] `sky launch --cloud gcp --use-spot --down -i 5`\r\n- [x] `sky autostop [spot cluster]` (disallow)\r\n- [x] `sky autostop [spot cluster] -i 5` (disallow)\r\n- [x] `sky autostop [spot cluster] --cancel` \r\n- [x] `sky autostop [spot cluster] --down`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1743/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1743/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1742",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1742/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1742/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1742/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1742",
        "id": 1607608138,
        "node_id": "PR_kwDOF41eh85LK_GB",
        "number": 1742,
        "title": "[UX] Fix the output of `sky spot queue`",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-03-02T22:25:26Z",
        "updated_at": "2023-03-08T05:31:20Z",
        "closed_at": "2023-03-08T05:31:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1742",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1742",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1742.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1742.patch",
            "merged_at": "2023-03-08T05:31:17Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nChanges in this PR:\r\n1. We refactored the code to show a similar message for the spot queue in `sky spot queue` and `sky status`.\r\n2. Make `core` able to be silent with `with core.silent():` context manager\r\n3. Remove the cache for the spot queue as it causes much confusion while providing not many benefits.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] `sky spot queue` during `for i in `seq 10`;  do sky spot launch -n test-large-$i --cloud gcp -y -d --cpus 2 sleep 10000; done`\r\n  - [x] when controller is INIT\r\n  - [x] when controller is UP\r\n  - [x] `sky spot queue -r`\r\n  - [x] `sky spot queue -s`\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1742/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1742/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1741",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1741/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1741/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1741/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1741",
        "id": 1606398790,
        "node_id": "PR_kwDOF41eh85LG318",
        "number": 1741,
        "title": "[Demo][Do not merge] The demo with a centralized Skypilot provisioning service",
        "user": {
            "login": "suquark",
            "id": 13750372,
            "node_id": "MDQ6VXNlcjEzNzUwMzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/13750372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suquark",
            "html_url": "https://github.com/suquark",
            "followers_url": "https://api.github.com/users/suquark/followers",
            "following_url": "https://api.github.com/users/suquark/following{/other_user}",
            "gists_url": "https://api.github.com/users/suquark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suquark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suquark/subscriptions",
            "organizations_url": "https://api.github.com/users/suquark/orgs",
            "repos_url": "https://api.github.com/users/suquark/repos",
            "events_url": "https://api.github.com/users/suquark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suquark/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-03-02T09:08:14Z",
        "updated_at": "2023-11-14T02:03:51Z",
        "closed_at": "2023-11-14T02:03:51Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1741",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1741",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1741.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1741.patch",
            "merged_at": null
        },
        "body": "Provisioning with a centralized Skypilot provisioning service. It can be further extended so that the client-end user needs no cloud credential at all. \r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1741/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1741/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1740",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1740/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1740/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1740/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1740",
        "id": 1605887950,
        "node_id": "PR_kwDOF41eh85LFJ_i",
        "number": 1740,
        "title": "GCP onHostMaintenance config",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-03-02T00:04:19Z",
        "updated_at": "2023-03-07T01:29:10Z",
        "closed_at": "2023-03-07T01:29:06Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1740",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1740",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1740.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1740.patch",
            "merged_at": "2023-03-07T01:29:06Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes https://github.com/skypilot-org/skypilot/issues/1739.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1740/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1740/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1739",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1739/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1739/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1739/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1739",
        "id": 1605838830,
        "node_id": "I_kwDOF41eh85ftyfu",
        "number": 1739,
        "title": "[GCP] CPU VM got rebooted during GCP maintenance event",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294584,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg0",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-03-01T23:22:30Z",
        "updated_at": "2023-03-07T01:29:08Z",
        "closed_at": "2023-03-07T01:29:07Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "In our GCP template, we set\r\nhttps://github.com/skypilot-org/skypilot/blob/e4b99e08fc585ffde28ef84229cc7d83f4664d4c/sky/templates/gcp-ray.yml.j2#L110\r\nas which is required for GPU VMs.\r\n\r\nHowever, for CPU VMs, we should indeed set it to `MIGRATE` which will transparently migrate the CPU VM during any maintenance event ([doc](https://cloud.google.com/compute/docs/instances/setting-vm-host-options#settingoptions)), which happens once a few weeks according to GCP [doc](https://cloud.google.com/compute/docs/instances/host-maintenance-overview#maintenanceevents).\r\n\r\nOne of my long running CPU VMs (for data collection) launched by SkyPilot was just rebooted by GCP.\r\nI had to manually restart my data collection script. I think we should use `MIGRATE` whenever possible for user convenience.\r\n<img width=\"878\" alt=\"image\" src=\"https://user-images.githubusercontent.com/1206058/222289314-a53ec05c-5e6f-426d-b7c5-d5fa705f4e37.png\">\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1739/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1739/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1738",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1738/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1738/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1738/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1738",
        "id": 1605725881,
        "node_id": "PR_kwDOF41eh85LEl09",
        "number": 1738,
        "title": "Remove unsafe colorama.init ",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-03-01T22:00:50Z",
        "updated_at": "2023-03-02T22:04:16Z",
        "closed_at": "2023-03-02T22:04:13Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1738",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1738",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1738.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1738.patch",
            "merged_at": "2023-03-02T22:04:13Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes https://github.com/skypilot-org/skypilot/issues/1694.\r\nAfter removing the `init()`, I was trying to add\r\n```\r\nfrom colorama import just_fix_windows_console\r\njust_fix_windows_console()\r\n```\r\nas suggested by https://github.com/tartley/colorama#initialisation\r\n\r\nBut this function only introduced after `0.4.5` and we pin `colorama<0.4.5` because it conflicts with `aws-cli` for some reason.\r\nhttps://github.com/skypilot-org/skypilot/blob/e4b99e08fc585ffde28ef84229cc7d83f4664d4c/sky/setup_files/setup.py#L73\r\nRelated issue: https://github.com/skypilot-org/skypilot/pull/1323\r\nIs this still the case after we upgrade ray version? @Michaelvll \r\n\r\nor is it safe to add `colorama.init()` in `sky/__init__.py`?\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1738/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1738/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1737",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1737/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1737/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1737/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1737",
        "id": 1602385015,
        "node_id": "PR_kwDOF41eh85K5Qml",
        "number": 1737,
        "title": "[Examples] Add LLM chatbot inference example",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-28T05:14:09Z",
        "updated_at": "2023-04-15T07:11:56Z",
        "closed_at": "2023-04-15T07:11:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1737",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1737",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1737.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1737.patch",
            "merged_at": null
        },
        "body": "Example running flexgen chatbot on SkyPilot.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1737/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1737/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1736",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1736/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1736/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1736/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1736",
        "id": 1602182626,
        "node_id": "PR_kwDOF41eh85K4mTP",
        "number": 1736,
        "title": "[Storage] R2 Cloud Object Storage integration",
        "user": {
            "login": "landscapepainter",
            "id": 34902420,
            "node_id": "MDQ6VXNlcjM0OTAyNDIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/34902420?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/landscapepainter",
            "html_url": "https://github.com/landscapepainter",
            "followers_url": "https://api.github.com/users/landscapepainter/followers",
            "following_url": "https://api.github.com/users/landscapepainter/following{/other_user}",
            "gists_url": "https://api.github.com/users/landscapepainter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/landscapepainter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/landscapepainter/subscriptions",
            "organizations_url": "https://api.github.com/users/landscapepainter/orgs",
            "repos_url": "https://api.github.com/users/landscapepainter/repos",
            "events_url": "https://api.github.com/users/landscapepainter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/landscapepainter/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-28T00:42:05Z",
        "updated_at": "2023-03-26T03:37:20Z",
        "closed_at": "2023-03-26T03:37:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1736",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1736",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1736.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1736.patch",
            "merged_at": "2023-03-26T03:37:19Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\nThis PR integrates another Cloud Object Storage from Cloudflare, R2, which has been requested #1639 .\r\n\r\nIt supports every interactions that can be made to a storage within skypilot besides direct transfer from/to R2 to/from another Cloud Object Storage. This should be addressed in later PR.\r\n\r\nR2 is S3 compatible. Hence, we can reuse `aws s3` and `aws s3api` commands along with `goofys` to interact with the storage along with some additional steps such as providing `<accountid>` and another aws credential used for R2. These should be instructed in the [installation doc](https://skypilot.readthedocs.io/en/latest/getting-started/installation.html). Followings are the difference on using aws-cli between S3 and R2 storages given both are configured.\r\n\r\n**S3**\r\n`aws s3 ls s3://test-bucket`\r\n**R2**\r\n`aws s3 ls s3://test-bucket --endpoint https://<accountid>.r2.cloudflarestorage.com --profile=r2`\r\nAnd working with goofys on R2 works in a similar way as above.\r\n\r\n\r\n### Note:\r\n1. `cloudflare.py` file is not added under `sky/clouds` as cloudflare does not provide computing instances.\r\n2. `test_private_bucket` from `pytest tests/test_smoke.py::TestStorageWithCredentials` is purposely not tested for R2 as it is not necessary considering how R2 and `aws-cli` interact. \r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\n### Tested (run the relevant ones):\r\n- [x] Relevant individual smoke tests: `pytest tests/test_smoke.py::TestStorageWithCredentials` besides `test_private_bucket`\r\n### TODO:\r\n- [x] Add support for R2 Cloud Object Storage\r\n- [x] Update docs\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1736/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 5,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1736/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1735",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1735/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1735/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1735/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1735",
        "id": 1602121134,
        "node_id": "PR_kwDOF41eh85K4ZMP",
        "number": 1735,
        "title": "[Setup] Upgrade support for local ray version to 2.3.0",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-27T23:35:48Z",
        "updated_at": "2023-02-28T21:04:28Z",
        "closed_at": "2023-02-28T21:04:25Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1735",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1735",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1735.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1735.patch",
            "merged_at": "2023-02-28T21:04:25Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nAdd support for ray 2.3.0 local version.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1735/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1735/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1734",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1734/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1734/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1734/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1734",
        "id": 1602118420,
        "node_id": "PR_kwDOF41eh85K4YnW",
        "number": 1734,
        "title": "[Core] Upgrade ray to 2.4.0",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/14",
            "html_url": "https://github.com/skypilot-org/skypilot/milestone/14",
            "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/14/labels",
            "id": 9189178,
            "node_id": "MI_kwDOF41eh84AjDc6",
            "number": 14,
            "title": "v0.3",
            "description": "",
            "creator": {
                "login": "concretevitamin",
                "id": 592670,
                "node_id": "MDQ6VXNlcjU5MjY3MA==",
                "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/concretevitamin",
                "html_url": "https://github.com/concretevitamin",
                "followers_url": "https://api.github.com/users/concretevitamin/followers",
                "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
                "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
                "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
                "repos_url": "https://api.github.com/users/concretevitamin/repos",
                "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
                "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 19,
            "state": "closed",
            "created_at": "2023-03-22T00:07:00Z",
            "updated_at": "2023-10-03T02:01:47Z",
            "due_on": null,
            "closed_at": "2023-09-08T19:22:31Z"
        },
        "comments": 1,
        "created_at": "2023-02-27T23:32:33Z",
        "updated_at": "2023-05-26T18:11:14Z",
        "closed_at": "2023-05-26T18:11:10Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1734",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1734",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1734.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1734.patch",
            "merged_at": "2023-05-26T18:11:10Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis is a routine upgrade of the remote ray version we are using from 2.0.1 to 2.4.0. This is to unblock #1586 \r\n\r\nAzure: the existing azure cluster might be affected by this PR, due to the changes of the VM naming from the upstream ray to avoid name conflicts ([ref](https://github.com/ray-project/ray/pull/31645)). It should be fine for now, as we don't have many active Azure user.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n    - [x] `sky launch` check all the patches work as expected.\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n- [x] `pytest tests/test_smoke.py --aws` \r\n- [x] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n    - [x] AWS\r\n    - [x] GCP\r\n- [x] `pip install .` with the clean python 3.10 environment with `ray==2.0.1` installed.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1734/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1733",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1733/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1733/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1733/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1733",
        "id": 1601878015,
        "node_id": "I_kwDOF41eh85ferf_",
        "number": 1733,
        "title": "[UI] `sky show-gpus` only shows common gpus",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294584,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg0",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            },
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-27T20:16:05Z",
        "updated_at": "2023-03-01T23:45:27Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "`sky show-gpus` only shows some of the [most common gpus](https://github.com/skypilot-org/skypilot/blob/bf093c55687016d17896dded33d8441ca8703584/sky/clouds/service_catalog/__init__.py#L279), which can be confusing (e.g. [here](https://github.com/run-house/runhouse/issues/9#issuecomment-1446603864)). Here are two potential solutions:\r\n\r\n1. Keep the current behavior, but in the output of `sky show-gpus` and `sky show-gpus --cloud CLOUD`, print\r\n```\r\nNOTE:  This list only contains the most common gpus. To see all gpus, please append `--all`.\r\n```\r\n\r\n2. Add the above warning to `sky show-gpus` and make `sky show-gpus --cloud CLOUD` print out all the gpus of  `CLOUD`.\r\n\r\nWhat do people think? ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1733/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1733/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1732",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1732/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1732/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1732/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1732",
        "id": 1601757016,
        "node_id": "PR_kwDOF41eh85K3Ln1",
        "number": 1732,
        "title": "[Spot] Catch the network connection error",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-27T18:49:53Z",
        "updated_at": "2023-02-27T19:52:40Z",
        "closed_at": "2023-02-27T19:52:37Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1732",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1732",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1732.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1732.patch",
            "merged_at": "2023-02-27T19:52:37Z"
        },
        "body": "<!-- Describe the changes in this PR -->\n\nFixes #1731\n\n<!-- Describe the tests ran -->\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\n\nTested (run the relevant ones):\n\n- [ ] Any manual or new tests for this PR (please specify below)\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1732/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1732/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1731",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1731/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1731/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1731/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1731",
        "id": 1601754754,
        "node_id": "I_kwDOF41eh85feNaC",
        "number": 1731,
        "title": "[Spot] Temporary network connection issue on spot controller causing the spot job fails",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294581,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTgx",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/bug",
                "name": "bug",
                "color": "d73a4a",
                "default": true,
                "description": "Something isn't working"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-27T18:48:07Z",
        "updated_at": "2023-02-27T19:52:38Z",
        "closed_at": "2023-02-27T19:52:38Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Our users observe that sometimes the network on the spot controller will have some glitch causing an error `requests.exceptions.ConnectionError` which is not caught by our controller's network check and cause the spot job failed due to `FAILED_CONTROLLER`.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1731/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1731/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1730",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1730/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1730/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1730/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1730",
        "id": 1601735633,
        "node_id": "I_kwDOF41eh85feIvR",
        "number": 1730,
        "title": "[AWS] Skip zones without subnets",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294584,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg0",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            },
            {
                "id": 3251294586,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/good%20first%20issue",
                "name": "good first issue",
                "color": "7057ff",
                "default": true,
                "description": "Good for newcomers"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-02-27T18:31:45Z",
        "updated_at": "2023-11-08T02:09:28Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "According to our user, their VPC setup for a region does not have subnets for all the availability zones, e.g. only have 3 zones out of 6. When the user tries to launch the spot VM, our failover goes through those zones without subnets set up and fails first, which increases the overhead for launching a VM.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1730/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1730/timeline",
        "performed_via_github_app": null,
        "state_reason": "reopened"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1729",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1729/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1729/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1729/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1729",
        "id": 1600229779,
        "node_id": "PR_kwDOF41eh85KyBao",
        "number": 1729,
        "title": "[core] Filter out regions not in proxy command earlier",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-26T22:42:39Z",
        "updated_at": "2023-02-27T18:22:14Z",
        "closed_at": "2023-02-27T18:22:10Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1729",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1729",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1729.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1729.patch",
            "merged_at": "2023-02-27T18:22:10Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nPreviously we filter the regions not in proxy commands in `skypilot_config` when we failover to that region. This will print messages about the region in the optimizer output, making it confusing.\r\n\r\nNow we filter out the regions not included to short-circuit the optimizer and failover for them.\r\n\r\n```\r\n# config.yaml\r\naws:\r\n  ssh_proxy_command:\r\n    us-east-2: ssh -W %h:%p -i ~/.ssh/sky-key  -o StrictHostKeyChecking=no ec2-user@18.188.102.65\r\n```\r\nPrevious output\r\n```\r\n> sky launch -c vpc-aws-spot --cloud aws -t t3.micro --use-spot                                                                                                     \r\nI 02-26 14:41:00 optimizer.py:617] == Optimizer ==\r\nI 02-26 14:41:00 optimizer.py:628] Target: minimizing cost\r\nI 02-26 14:41:00 optimizer.py:640] Estimated cost: $0.0 / hour\r\nI 02-26 14:41:00 optimizer.py:640] \r\nI 02-26 14:41:00 optimizer.py:703] Considered resources (1 node):\r\nI 02-26 14:41:00 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:00 optimizer.py:751]  CLOUD   INSTANCE         vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-26 14:41:00 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:00 optimizer.py:751]  AWS     t3.micro[Spot]   2       -              us-east-1a    0.00          \u2714     \r\nI 02-26 14:41:00 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:00 optimizer.py:751] \r\nLaunching a new cluster 'vpc-aws-spot'. Proceed? [Y/n]: \r\nI 02-26 14:41:02 execution.py:227] Launching an unmanaged spot task, which does not automatically recover from preemptions.\r\nI 02-26 14:41:02 execution.py:227] To get automatic recovery, use managed spot instead: sky spot launch or sky.spot_launch().\r\nI 02-26 14:41:02 cloud_vm_ray_backend.py:3326] Creating a new cluster: \"vpc-aws-spot\" [1x AWS(t3.micro[Spot])].\r\nI 02-26 14:41:02 cloud_vm_ray_backend.py:3326] Tip: to reuse an existing cluster, specify --cluster (-c). Run `sky status` to see existing clusters.\r\nI 02-26 14:41:09 cloud_vm_ray_backend.py:1151] To view detailed progress: tail -n100 -f /Users/zhwu/sky_logs/sky-2023-02-26-14-40-57-433719/provision.log\r\nI 02-26 14:41:10 cloud_vm_ray_backend.py:1211] Failed to find catalog in region us-east-1: No ssh_proxy_command provided for region us-east-1. Skipped.\r\nW 02-26 14:41:10 cloud_vm_ray_backend.py:1747] sky.exceptions.ResourcesUnavailableError: Failed to acquire resources in us-east-1a. Try changing resource requirements or use another zone.\r\nW 02-26 14:41:10 cloud_vm_ray_backend.py:1756] \r\nW 02-26 14:41:10 cloud_vm_ray_backend.py:1756] Provision failed for 1x AWS(t3.micro[Spot]) in us-east-1a. Trying other locations (if any).\r\nI 02-26 14:41:13 optimizer.py:617] == Optimizer ==\r\nI 02-26 14:41:13 optimizer.py:628] Target: minimizing cost\r\nI 02-26 14:41:13 optimizer.py:640] Estimated cost: $0.0 / hour\r\nI 02-26 14:41:13 optimizer.py:640] \r\nI 02-26 14:41:13 optimizer.py:703] Considered resources (1 node):\r\nI 02-26 14:41:13 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:13 optimizer.py:751]  CLOUD   INSTANCE         vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-26 14:41:13 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:13 optimizer.py:751]  AWS     t3.micro[Spot]   2       -              us-east-1b    0.00          \u2714     \r\nI 02-26 14:41:13 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:13 optimizer.py:751] \r\nI 02-26 14:41:13 cloud_vm_ray_backend.py:1151] To view detailed progress: tail -n100 -f /Users/zhwu/sky_logs/sky-2023-02-26-14-40-57-433719/provision.log\r\nI 02-26 14:41:16 cloud_vm_ray_backend.py:1211] Failed to find catalog in region us-east-1: No ssh_proxy_command provided for region us-east-1. Skipped.\r\nW 02-26 14:41:16 cloud_vm_ray_backend.py:1747] sky.exceptions.ResourcesUnavailableError: Failed to acquire resources in us-east-1b. Try changing resource requirements or use another zone.\r\nW 02-26 14:41:16 cloud_vm_ray_backend.py:1756] \r\nW 02-26 14:41:16 cloud_vm_ray_backend.py:1756] Provision failed for 1x AWS(t3.micro[Spot]) in us-east-1b. Trying other locations (if any).\r\nI 02-26 14:41:19 optimizer.py:617] == Optimizer ==\r\nI 02-26 14:41:19 optimizer.py:628] Target: minimizing cost\r\nI 02-26 14:41:19 optimizer.py:640] Estimated cost: $0.0 / hour\r\nI 02-26 14:41:19 optimizer.py:640] \r\nI 02-26 14:41:19 optimizer.py:703] Considered resources (1 node):\r\nI 02-26 14:41:19 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:19 optimizer.py:751]  CLOUD   INSTANCE         vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-26 14:41:19 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:19 optimizer.py:751]  AWS     t3.micro[Spot]   2       -              us-east-1c    0.00          \u2714     \r\nI 02-26 14:41:19 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:19 optimizer.py:751] \r\nI 02-26 14:41:19 cloud_vm_ray_backend.py:1151] To view detailed progress: tail -n100 -f /Users/zhwu/sky_logs/sky-2023-02-26-14-40-57-433719/provision.log\r\nI 02-26 14:41:20 cloud_vm_ray_backend.py:1211] Failed to find catalog in region us-east-1: No ssh_proxy_command provided for region us-east-1. Skipped.\r\nW 02-26 14:41:20 cloud_vm_ray_backend.py:1747] sky.exceptions.ResourcesUnavailableError: Failed to acquire resources in us-east-1c. Try changing resource requirements or use another zone.\r\nW 02-26 14:41:20 cloud_vm_ray_backend.py:1756] \r\nW 02-26 14:41:20 cloud_vm_ray_backend.py:1756] Provision failed for 1x AWS(t3.micro[Spot]) in us-east-1c. Trying other locations (if any).\r\nI 02-26 14:41:23 optimizer.py:617] == Optimizer ==\r\nI 02-26 14:41:23 optimizer.py:628] Target: minimizing cost\r\nI 02-26 14:41:23 optimizer.py:640] Estimated cost: $0.0 / hour\r\nI 02-26 14:41:23 optimizer.py:640] \r\nI 02-26 14:41:23 optimizer.py:703] Considered resources (1 node):\r\nI 02-26 14:41:23 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:23 optimizer.py:751]  CLOUD   INSTANCE         vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-26 14:41:23 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:23 optimizer.py:751]  AWS     t3.micro[Spot]   2       -              us-east-1d    0.00          \u2714     \r\nI 02-26 14:41:23 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:41:23 optimizer.py:751] \r\nI 02-26 14:41:23 cloud_vm_ray_backend.py:1151] To view detailed progress: tail -n100 -f /Users/zhwu/sky_logs/sky-2023-02-26-14-40-57-433719/provision.log\r\nI 02-26 14:41:24 cloud_vm_ray_backend.py:1211] Failed to find catalog in region us-east-1: No ssh_proxy_command provided for region us-east-1. Skipped.\r\nW 02-26 14:41:24 cloud_vm_ray_backend.py:1747] sky.exceptions.ResourcesUnavailableError: Failed to acquire resources in us-east-1d. Try changing resource requirements or use another zone.\r\nW 02-26 14:41:24 cloud_vm_ray_backend.py:1756] \r\nW 02-26 14:41:24 cloud_vm_ray_backend.py:1756] Provision failed for 1x AWS(t3.micro[Spot]) in us-east-1d. Trying other locations (if any).\r\n```\r\n\r\nNew output:\r\n```\r\n> sky launch -c vpc-aws-spot --cloud aws -t t3.micro --use-spot                                                                                \r\nI 02-26 14:42:18 optimizer.py:617] == Optimizer ==\r\nI 02-26 14:42:18 optimizer.py:628] Target: minimizing cost\r\nI 02-26 14:42:18 optimizer.py:640] Estimated cost: $0.0 / hour\r\nI 02-26 14:42:18 optimizer.py:640] \r\nI 02-26 14:42:18 optimizer.py:703] Considered resources (1 node):\r\nI 02-26 14:42:18 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:42:18 optimizer.py:751]  CLOUD   INSTANCE         vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-26 14:42:18 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:42:18 optimizer.py:751]  AWS     t3.micro[Spot]   2       -              us-east-2a    0.00          \u2714     \r\nI 02-26 14:42:18 optimizer.py:751] -----------------------------------------------------------------------------------\r\nI 02-26 14:42:18 optimizer.py:751] \r\nLaunching a new cluster 'vpc-aws-spot'. Proceed? [Y/n]: \r\nI 02-26 14:42:20 execution.py:227] Launching an unmanaged spot task, which does not automatically recover from preemptions.\r\nI 02-26 14:42:20 execution.py:227] To get automatic recovery, use managed spot instead: sky spot launch or sky.spot_launch().\r\nI 02-26 14:42:20 cloud_vm_ray_backend.py:3326] Creating a new cluster: \"vpc-aws-spot\" [1x AWS(t3.micro[Spot])].\r\nI 02-26 14:42:20 cloud_vm_ray_backend.py:3326] Tip: to reuse an existing cluster, specify --cluster (-c). Run `sky status` to see existing clusters.\r\nI 02-26 14:42:26 cloud_vm_ray_backend.py:1151] To view detailed progress: tail -n100 -f /Users/zhwu/sky_logs/sky-2023-02-26-14-42-17-819927/provision.log\r\nI 02-26 14:42:27 cloud_vm_ray_backend.py:1475] Launching on AWS us-east-2 (us-east-2a)\r\n```\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - [x] `sky launch -c vpc-aws --cloud aws --use-spot` with the config.yaml\r\n  - [x] `sky launch -c no-vpc --cloud aws --use-spot` without config.yaml\r\n  - [x] `sky launch -c no-vpc-all-cloud`\r\n- [x] `pytest tests/test_smoke.py`\r\n- [x] `pytest tests/test_smoke.py --aws`\r\n- [x] `sky launch --cloud lambda`",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1729/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1729/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1728",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1728/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1728/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1728/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1728",
        "id": 1599799599,
        "node_id": "PR_kwDOF41eh85KwtfR",
        "number": 1728,
        "title": "[UX] Fix STOPPED clusters being counted as \"pending autostop\".",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-25T18:58:14Z",
        "updated_at": "2023-02-26T17:54:20Z",
        "closed_at": "2023-02-26T17:54:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1728",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1728",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1728.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1728.patch",
            "merged_at": "2023-02-26T17:54:17Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThe bug was due to comparing `ClusterStatus.colored_str() != 'STOPPED'.\r\n\r\nAs part of this change, refactored `status_utils`:\r\n- previously we conflated `cluster_status` with two types of records; now we distinguish them using type aliases\r\n- fix func names and placements\r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n1.\r\n```\r\n\u00bb sky status\r\nNo existing clusters.\r\n\r\nManaged spot controller (autostopped if idle for 10min)\r\nUse spot jobs CLI: sky spot --help\r\nNAME                          LAUNCHED    RESOURCES                            STATUS   AUTOSTOP  COMMAND                      \r\nsky-spot-controller-8a3968f2  13 hrs ago  1x GCP(n2-standard-4, disk_size=50)  STOPPED  10m       sky spot launch -dy --cloud...\r\n```\r\nOn master, an additional line was shown `1 cluster has auto{stop,down} scheduled. Refresh statuses with: sky status --refresh`.\r\n\r\n2.\r\n```\r\n\u00bb sst\r\nClusters\r\nNAME               LAUNCHED     RESOURCES                    STATUS  AUTOSTOP   COMMAND\r\nsky-a35f-zongheng  23 secs ago  1x GCP(n2-standard-8[Spot])  UP      5m (down)  sky launch --cloud gcp -i5...\r\n\r\nManaged spot controller (autostopped if idle for 10min)\r\nUse spot jobs CLI: sky spot --help\r\nNAME                          LAUNCHED    RESOURCES                            STATUS   AUTOSTOP  COMMAND                      \r\nsky-spot-controller-8a3968f2  13 hrs ago  1x GCP(n2-standard-4, disk_size=50)  STOPPED  10m       sky spot launch -dy --cloud...\r\n\r\n1 cluster has auto{stop,down} scheduled. Refresh statuses with: sky status --refresh\r\n```\r\ncorrectly shows 1 cluster has pending autostop.\r\n\r\n3. \r\n```\r\n\u00bb sky cost-report\r\n....\r\n```\r\nlooks normal.\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1728/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1728/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1727",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1727/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1727/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1727/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1727",
        "id": 1599616459,
        "node_id": "PR_kwDOF41eh85KwJPw",
        "number": 1727,
        "title": "[Catalog] Get rid of ray for catalog fetching",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-25T08:40:43Z",
        "updated_at": "2023-02-25T22:26:58Z",
        "closed_at": "2023-02-25T22:26:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1727",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1727",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1727.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1727.patch",
            "merged_at": "2023-02-25T22:26:56Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis PR eliminates the ray dependency for catalog fetching, as it has higher overheads and could cause problems when used with multiprocessing.\r\n\r\nThis PR is separated from #1691 and blocking it.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] `time python -m sky.clouds.service_catalog.data_fetchers.fetch_aws` (2:08 ; original:  2:52)\r\n- [x] `time python -m sky.clouds.service_catalog.data_fetchers.fetch_azure` (54s; original: 1:00)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1727/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1727/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1726",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1726/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1726/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1726/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1726",
        "id": 1599598956,
        "node_id": "PR_kwDOF41eh85KwFub",
        "number": 1726,
        "title": "[show-gpus] Show real-time spot price",
        "user": {
            "login": "cblmemo",
            "id": 74357442,
            "node_id": "MDQ6VXNlcjc0MzU3NDQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/74357442?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cblmemo",
            "html_url": "https://github.com/cblmemo",
            "followers_url": "https://api.github.com/users/cblmemo/followers",
            "following_url": "https://api.github.com/users/cblmemo/following{/other_user}",
            "gists_url": "https://api.github.com/users/cblmemo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cblmemo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cblmemo/subscriptions",
            "organizations_url": "https://api.github.com/users/cblmemo/orgs",
            "repos_url": "https://api.github.com/users/cblmemo/repos",
            "events_url": "https://api.github.com/users/cblmemo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cblmemo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-25T07:39:54Z",
        "updated_at": "2023-07-13T02:46:58Z",
        "closed_at": "2023-07-13T02:46:58Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1726",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1726",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1726.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1726.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nAdd a `--refresh` argument to `sky show-gpus` cli and spot price display if gpu is not specified. This PR resolves #1438.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n\r\nsmoke tests failed on current upstream/master (`07ff922f8a2b73c6ddc533009527944840e27757`), where this PR based on. So this PR also failed in smoktests.\r\n\r\nMy manual tests: several cli command\r\n```shell\r\nsky show-gpus --cloud gcp -r\r\nsky show-gpus --cloud gcp --refresh\r\nsky show-gpus --cloud gcp -r V100\r\nsky show-gpus --cloud gcp T4\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1726/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1726/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1725",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1725/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1725/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1725/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1725",
        "id": 1599562729,
        "node_id": "I_kwDOF41eh85fV2Pp",
        "number": 1725,
        "title": "[AWS] cache the user host name hash to avoid duplicate security groups",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294581,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTgx",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/bug",
                "name": "bug",
                "color": "d73a4a",
                "default": true,
                "description": "Something isn't working"
            },
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-25T05:29:04Z",
        "updated_at": "2023-07-07T02:43:51Z",
        "closed_at": "2023-07-07T02:43:51Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "In the following line, we directly use the username and security group to calculate the hash in the security group name, which will cause the spot controller creating new security group every time it is restarted, due to the private ip (host name) changes. Thanks @suquark for identifying the issue.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1725/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1725/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1724",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1724/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1724/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1724/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1724",
        "id": 1599210846,
        "node_id": "PR_kwDOF41eh85KuzEm",
        "number": 1724,
        "title": "[GCP] Fix sky check for not having application default set",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-24T20:02:59Z",
        "updated_at": "2023-02-24T21:25:38Z",
        "closed_at": "2023-02-24T21:25:35Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1724",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1724",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1724.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1724.patch",
            "merged_at": "2023-02-24T21:25:35Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nPreviously, if the user only runs `gcloud init` without `gcloud auth application-default login`, the `sky check` still passed for GCP and `sky launch --cloud gcp` will raise the following issue:\r\n```\r\ncp: cannot stat '/root/.config/gcloud/application_default_credentials.json': No such file or directory\r\n```\r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] `sky check` without `gcloud auth application-default login`\r\n- [x] `sky launch -c test-gcp --cloud gcp` in a new environment without `gcloud auth application-default login`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1724/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1724/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1723",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1723/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1723/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1723/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1723",
        "id": 1598001029,
        "node_id": "PR_kwDOF41eh85Kqp30",
        "number": 1723,
        "title": "Fix GCP status and region.zones is `None`",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-24T06:47:14Z",
        "updated_at": "2023-02-24T17:06:07Z",
        "closed_at": "2023-02-24T17:06:04Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1723",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1723",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1723.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1723.patch",
            "merged_at": "2023-02-24T17:06:04Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nBug fixes for GCP status list and `region.zones is None` handling.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1723/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1723/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1722",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1722/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1722/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1722/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1722",
        "id": 1597784129,
        "node_id": "PR_kwDOF41eh85Kp7EZ",
        "number": 1722,
        "title": "[Lambda Cloud] Catalog generator",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-24T02:08:48Z",
        "updated_at": "2023-02-28T01:00:49Z",
        "closed_at": "2023-02-28T01:00:49Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1722",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1722",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1722.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1722.patch",
            "merged_at": "2023-02-28T01:00:49Z"
        },
        "body": "This pr adds a script to generate the Lambda cloud catalog.\r\n\r\nThe script requires a Lambda API key. You can specify the API key by using `--api-key` or `--api-key-path`. If no API key is specified, this script will parse `~/.lambda_cloud/lambda_keys` to find one. \r\n\r\nTested:\r\n\r\n- [x] `python fetch_lambda_cloud.py`\r\n- [x] `python fetch_lambda_cloud.py -h`\r\n- [x]  `python fetch_lambda_cloud.py -api-key-path [PATH/TO/KEY]`\r\n- [x]  `python fetch_lambda_cloud.py -api-key [KEY]`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1722/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1722/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1721",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1721/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1721/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1721/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1721",
        "id": 1597688125,
        "node_id": "PR_kwDOF41eh85KpmzL",
        "number": 1721,
        "title": "[Examples] Distributed tensorflow example ",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-24T00:02:28Z",
        "updated_at": "2023-08-19T13:42:16Z",
        "closed_at": "2023-08-19T13:42:15Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1721",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1721",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1721.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1721.patch",
            "merged_at": "2023-08-19T13:42:15Z"
        },
        "body": "Adds a self-contained example showing how tensorflow's MultiWorkerMirroredStrategy can be used with SkyPilot to distribute training across multiple nodes.\r\n\r\nOur previous example (`resnet_distributed_tf_app.py`) is insufficient because:\r\n1. It uses the python API, which can be harder to grasp new users\r\n2. The training code is from an external repository, and it is hard to follow that code\r\n3. It calls set_inputs and set_outputs, which is unnecessary\r\n4. Does not use workdir or any filemounts\r\n\r\n- [x] `sky launch -c myclus tf_distributed.yaml`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1721/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1721/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1720",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1720/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1720/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1720/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1720",
        "id": 1597651867,
        "node_id": "I_kwDOF41eh85fOjub",
        "number": 1720,
        "title": "[Multinode] Allow skypilot environment variables to be accessed during SSH",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-23T23:11:16Z",
        "updated_at": "2023-05-30T04:06:56Z",
        "closed_at": "2023-05-30T04:06:44Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Currently, environment variables related to multinode operation (e.g., `SKYPILOT_NODE_IPS`) are accessible only to commands in `run` field of a task. If I SSH into the cluster, these envvars are not exported to my shell. This makes development and debugging painful, since I cannot develop/test by SSH-ing and running my code manually. \r\n\r\nWe could consider exporting these envvars to `~/.bashrc` on each node so that they are accessible on SSH. ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1720/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1720/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1718",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1718/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1718/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1718/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1718",
        "id": 1597620521,
        "node_id": "PR_kwDOF41eh85KpYfW",
        "number": 1718,
        "title": "[Lambda Cloud] Multinode support",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2023-02-23T22:35:48Z",
        "updated_at": "2023-03-17T07:27:39Z",
        "closed_at": "2023-03-17T07:27:38Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1718",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1718",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1718.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1718.patch",
            "merged_at": "2023-03-17T07:27:38Z"
        },
        "body": "This pr extends Lambda Cloud support to multi-node clusters.\r\n\r\nSome notes:\r\n- The tag file scheme has been changed (because the head node calls `ray start` to launch the children nodes).\r\n- Generic smoke tests that required multi-node have the `@no_lambda_labs` descriptor removed. \r\n- We use `ssh` to get `internal_ip` given `external_ip`.\r\n- The default instance has changed from `gpu_1x_a100_sxm4` to `gpu_1x_a10` (cheaper for testing multi-node, but less available regions; can revert back if not desired)\r\n\r\nThis pr also fixes #1678 by handling the case when there is no (external) ip.\r\n\r\nTested:\r\n- [x] Lambda smoke tests\r\n\r\nTo try out, run\r\n```\r\nsky launch --cloud lambda --num-nodes 2\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1718/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1718/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1717",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1717/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1717/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1717/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1717",
        "id": 1597606555,
        "node_id": "PR_kwDOF41eh85KpVeo",
        "number": 1717,
        "title": "Fix spot tpu bug",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-23T22:20:55Z",
        "updated_at": "2023-03-16T07:31:47Z",
        "closed_at": "2023-03-16T07:31:43Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1717",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1717",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1717.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1717.patch",
            "merged_at": "2023-03-16T07:31:43Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes\r\n- https://github.com/skypilot-org/skypilot/issues/1694\r\n- misclassification of user program error and preeemption error\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1717/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1717/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1716",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1716/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1716/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1716/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1716",
        "id": 1597374659,
        "node_id": "I_kwDOF41eh85fNgDD",
        "number": 1716,
        "title": "[TPU] ray_up retry can cause preemption leak for spot TPUs",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-02-23T18:58:45Z",
        "updated_at": "2023-11-03T02:02:30Z",
        "closed_at": "2023-11-03T02:02:30Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "In `cloud_vm_ray_backend.py`, we may re-run `ray up` several times if we think ssh connection wasn't successful.\r\nHowever, another `ray up` can cause TPUs preemption leakage as the ray up failure was indeed caused by preemption.\r\n\r\nLogs below:\r\n\r\n```\r\nI 02-23 07:12:59 cloud_vm_ray_backend.py:1450] Launching on GCP us-central1 (us-central1-f)\r\nD 02-23 07:12:59 cloud_vm_ray_backend.py:142] `ray up` script: /tmp/skypilot_ray_up_ah76pcbc.py\r\nI 02-23 07:17:18 log_utils.py:45] Head node is up.\r\nI 02-23 07:19:41 cloud_vm_ray_backend.py:1500] Retrying runtime setup due to ssh connection issue.\r\nI 02-23 07:19:41 cloud_vm_ray_backend.py:1521] Retrying launching in 6.7 seconds.\r\nD 02-23 07:19:48 cloud_vm_ray_backend.py:142] `ray up` script: /tmp/skypilot_ray_up_ozwkju4c.py\r\nI 02-23 07:23:18 log_utils.py:45] Head node is up.\r\nD 02-23 07:24:44 cloud_vm_ray_backend.py:1528] `ray up` takes 705.1 seconds with 2 retries.\r\nI 02-23 07:24:45 cloud_vm_ray_backend.py:1263] Successfully provisioned or found existing VM.\r\nW 02-23 07:24:46 backend_utils.py:1381] Found more than one TPU VM/Pod with the same cluster name sky-ce66-gcpuser-161 in zone us-central1-f.\r\n\r\nD 02-23 07:24:47 backend_utils.py:1404] TPU VM ray-sky-ce66-gcpuser-161-head-bbb44751-tpu is in PREEMPTED state. Skipping IP query... Hint: make sure it is not leaked.\r\nW 02-23 07:24:49 backend_utils.py:1381] Found more than one TPU VM/Pod with the same cluster name sky-ce66-gcpuser-161 in zone us-central1-f.\r\n\r\nD 02-23 07:24:50 backend_utils.py:1404] TPU VM ray-sky-ce66-gcpuser-161-head-bbb44751-tpu is in PREEMPTED state. Skipping IP query... Hint: make sure it is not leaked.\r\n```\r\n\r\nhttps://github.com/skypilot-org/skypilot/blob/c94b43bb2a34538b5e88ad26081d1b498765ea0f/sky/backends/cloud_vm_ray_backend.py#L1519-L1524\r\n\r\nLooks like this retry is originally for Azure from this PR https://github.com/skypilot-org/skypilot/pull/985.\r\nI'm not sure if this retry will also cause some leakage for CPU/GPU spot instances. \r\nIs it possible to distinguish between preemption or ssh failure? or is it safer to just exclude spot instance from this retry logic?\r\ncc @Michaelvll @concretevitamin ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1716/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1716/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1715",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1715/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1715/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1715/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1715",
        "id": 1596474657,
        "node_id": "I_kwDOF41eh85fKEUh",
        "number": 1715,
        "title": "Error on setup: \"No such file or directory: 'rsync'\"",
        "user": {
            "login": "david-256",
            "id": 118668398,
            "node_id": "U_kgDOBxK8bg",
            "avatar_url": "https://avatars.githubusercontent.com/u/118668398?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/david-256",
            "html_url": "https://github.com/david-256",
            "followers_url": "https://api.github.com/users/david-256/followers",
            "following_url": "https://api.github.com/users/david-256/following{/other_user}",
            "gists_url": "https://api.github.com/users/david-256/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/david-256/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/david-256/subscriptions",
            "organizations_url": "https://api.github.com/users/david-256/orgs",
            "repos_url": "https://api.github.com/users/david-256/repos",
            "events_url": "https://api.github.com/users/david-256/events{/privacy}",
            "received_events_url": "https://api.github.com/users/david-256/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-23T09:06:47Z",
        "updated_at": "2023-02-23T09:33:46Z",
        "closed_at": "2023-02-23T09:28:56Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "When I create a GPU-VM with `sky gpunode --gpus A100`, an error occurs: `No such file or directory: 'rsync'`. The VM is created, but the setup does not seem to work.\r\n\r\nMaybe the [provision log](https://github.com/skypilot-org/skypilot/files/10811870/provision.log.txt) is helpful to detect the error.\r\n\r\nShell input and output:\r\n```sh\r\ndavid@ml:/ml$ sky gpunode --gpus A100\r\nI 02-23 09:36:31 optimizer.py:605] == Optimizer ==\r\nI 02-23 09:36:31 optimizer.py:616] Target: minimizing cost\r\nI 02-23 09:36:31 optimizer.py:628] Estimated cost: $1.1 / hour\r\nI 02-23 09:36:31 optimizer.py:628] \r\nI 02-23 09:36:31 optimizer.py:691] Considered resources (1 node):\r\nI 02-23 09:36:31 optimizer.py:739] --------------------------------------------------------------------------------------\r\nI 02-23 09:36:31 optimizer.py:739]  CLOUD    INSTANCE           vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-23 09:36:31 optimizer.py:739] --------------------------------------------------------------------------------------\r\nI 02-23 09:36:31 optimizer.py:739]  Lambda   gpu_1x_a100_sxm4   30      A100:1         us-east-1     1.10          \u2714     \r\nI 02-23 09:36:31 optimizer.py:739]  GCP      a2-highgpu-1g      12      A100:1         us-central1   3.67                \r\nI 02-23 09:36:31 optimizer.py:739] --------------------------------------------------------------------------------------\r\nI 02-23 09:36:31 optimizer.py:739] \r\nI 02-23 09:36:31 optimizer.py:754] Multiple Lambda instances satisfy A100:1. The cheapest Lambda(gpu_1x_a100_sxm4, {'A100': 1}) is considered among:\r\nI 02-23 09:36:31 optimizer.py:754] ['gpu_1x_a100_sxm4', 'gpu_1x_a100'].\r\nI 02-23 09:36:31 optimizer.py:754] \r\nI 02-23 09:36:31 optimizer.py:760] To list more details, run 'sky show-gpus A100'.\r\nLaunching a new cluster 'sky-gpunode-david'. Proceed? [Y/n]: Y\r\nSetting up interactive node sky-gpunode-david...\r\nI 02-23 09:36:41 cloud_vm_ray_backend.py:3212] Creating a new cluster: \"sky-gpunode-david\" [1x Lambda(gpu_1x_a100_sxm4, {'A100': 1})].\r\nI 02-23 09:36:41 cloud_vm_ray_backend.py:3212] Tip: to reuse an existing cluster, specify --cluster (-c). Run `sky status` to see existing clusters.\r\nI 02-23 09:36:41 cloud_vm_ray_backend.py:1124] To view detailed progress: tail -n100 -f /home/david/sky_logs/sky-2023-02-23-09-36-30-916833/provision.log\r\nI 02-23 09:36:41 cloud_vm_ray_backend.py:1444] Launching on Lambda us-east-1 (all zones)\r\nW 02-23 09:36:44 cloud_vm_ray_backend.py:804] Got error(s) in us-east-f1:\r\nW 02-23 09:36:44 cloud_vm_ray_backend.py:806]   sky.skylet.providers.lambda_cloud.lambda_utils.LambdaCloudError: instance-operations/launch/insufficient-capacity: Not enough capacity to fulfill launch request. Regions with capacity available: us-west-2 asia-south-1\r\nW 02-23 09:36:46 cloud_vm_ray_backend.py:1713] sky.exceptions.ResourcesUnavailableError: Failed to acquire resources in all zones in us-east-1. Try changing resource requirements or use another region.\r\nW 02-23 09:36:46 cloud_vm_ray_backend.py:1722] \r\nW 02-23 09:36:46 cloud_vm_ray_backend.py:1722] Provision failed for 1x Lambda(gpu_1x_a100_sxm4, {'A100': 1}) in us-east-1. Trying other locations (if any).\r\nI 02-23 09:36:46 optimizer.py:605] == Optimizer ==\r\nI 02-23 09:36:46 optimizer.py:616] Target: minimizing cost\r\nI 02-23 09:36:46 optimizer.py:628] Estimated cost: $1.1 / hour\r\nI 02-23 09:36:46 optimizer.py:628] \r\nI 02-23 09:36:46 optimizer.py:691] Considered resources (1 node):\r\nI 02-23 09:36:46 optimizer.py:739] --------------------------------------------------------------------------------------\r\nI 02-23 09:36:46 optimizer.py:739]  CLOUD    INSTANCE           vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-23 09:36:46 optimizer.py:739] --------------------------------------------------------------------------------------\r\nI 02-23 09:36:46 optimizer.py:739]  Lambda   gpu_1x_a100_sxm4   30      A100:1         us-west-2     1.10          \u2714     \r\nI 02-23 09:36:46 optimizer.py:739]  GCP      a2-highgpu-1g      12      A100:1         us-central1   3.67                \r\nI 02-23 09:36:46 optimizer.py:739] --------------------------------------------------------------------------------------\r\nI 02-23 09:36:46 optimizer.py:739] \r\nI 02-23 09:36:46 optimizer.py:754] Multiple Lambda instances satisfy A100:1. The cheapest Lambda(gpu_1x_a100_sxm4, {'A100': 1}) is considered among:\r\nI 02-23 09:36:46 optimizer.py:754] ['gpu_1x_a100_sxm4', 'gpu_1x_a100'].\r\nI 02-23 09:36:46 optimizer.py:754] \r\nI 02-23 09:36:46 optimizer.py:760] To list more details, run 'sky show-gpus A100'.\r\nI 02-23 09:36:46 cloud_vm_ray_backend.py:1124] To view detailed progress: tail -n100 -f /home/david/sky_logs/sky-2023-02-23-09-36-30-916833/provision.log\r\nI 02-23 09:36:47 cloud_vm_ray_backend.py:1444] Launching on Lambda us-west-2 (all zones)\r\nI 02-23 09:38:51 log_utils.py:45] Head node is up.\r\nI 02-23 09:38:54 cloud_vm_ray_backend.py:1493] Retrying runtime setup due to ssh connection issue.\r\nI 02-23 09:38:54 cloud_vm_ray_backend.py:1514] Retrying launching in 3.7 seconds.\r\nI 02-23 09:39:00 log_utils.py:45] Head node is up.\r\nI 02-23 09:39:01 cloud_vm_ray_backend.py:1493] Retrying runtime setup due to ssh connection issue.\r\nI 02-23 09:39:01 cloud_vm_ray_backend.py:1514] Retrying launching in 7.0 seconds.\r\nI 02-23 09:39:13 log_utils.py:45] Head node is up.\r\nI 02-23 09:39:14 cloud_vm_ray_backend.py:1493] Retrying runtime setup due to ssh connection issue.\r\nI 02-23 09:39:14 cloud_vm_ray_backend.py:1514] Retrying launching in 7.3 seconds.\r\nI 02-23 09:39:26 log_utils.py:45] Head node is up.\r\nI 02-23 09:39:28 cloud_vm_ray_backend.py:1493] Retrying runtime setup due to ssh connection issue.\r\nI 02-23 09:39:28 cloud_vm_ray_backend.py:1514] Retrying launching in 15.4 seconds.\r\nI 02-23 09:39:48 log_utils.py:45] Head node is up.\r\nI 02-23 09:39:50 cloud_vm_ray_backend.py:794] ====== stdout ======\r\n 08:39:48 up 1 min,  1 user,  load average: 1.58, 0.60, 0.22\r\n2023-02-23 09:39:44,143 INFO commands.py:276 -- Cluster: sky-gpunode-david\r\n2023-02-23 09:39:44,144 VWARN commands.py:322 -- Loaded cached provider configuration from /tmp/ray-config-d8fe39cfa990e2623e74d6935399a9c3f4e0c5c8\r\n2023-02-23 09:39:44,144 WARN commands.py:328 -- If you experience issues with the cloud provider, try re-running the command with --no-config-cache.\r\n2023-02-23 09:39:45,934 INFO commands.py:673 -- Cluster Ray runtime will not be restarted due to `--no-restart`.\r\n2023-02-23 09:39:45,934 INFO commands.py:677 -- Updating cluster configuration and running setup commands. Confirm [y/N]: y [automatic, due to --yes]\r\n2023-02-23 09:39:45,934 INFO commands.py:746 -- <1/1> Setting up head node\r\n2023-02-23 09:39:45,935 INFO commands.py:767 -- Prepared bootstrap config\r\n2023-02-23 09:39:46,407 INFO updater.py:324 -- New status: waiting-for-ssh\r\n2023-02-23 09:39:46,408 INFO updater.py:261 -- [1/7] Waiting for SSH to become available\r\n2023-02-23 09:39:46,408 INFO updater.py:266 -- Running `uptime` as a test.\r\n2023-02-23 09:39:46,408 INFO command_runner.py:204 -- Fetched IP: 129.146.32.103\r\n2023-02-23 09:39:46,408 INFO log_timer.py:25 -- NodeUpdater: c719a6881a254487b2d105dee84edc2c: Got IP  [LogTimer=0ms]\r\n2023-02-23 09:39:46,408 VINFO command_runner.py:365 -- Running `uptime`\r\n2023-02-23 09:39:46,408 VVINFO command_runner.py:367 -- Full command is `ssh -tt -i ~/.ssh/sky-key -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes -o ExitOnForwardFailure=yes -o ServerAliveInterval=5 -o ServerAliveCountMax=3 -o ControlMaster=auto -o ControlPath=/tmp/ray_ssh_172522ec10/0173051afe/%C -o ControlPersist=10s -o ConnectTimeout=5s ubuntu@129.146.32.103 bash --login -c -i 'true && source ~/.bashrc && export OMP_NUM_THREADS=1 PYTHONWARNINGS=ignore && (uptime)'`\r\n2023-02-23 09:39:48,620 SUCC updater.py:280 -- Success.\r\n2023-02-23 09:39:48,620 INFO log_timer.py:25 -- NodeUpdater: c719a6881a254487b2d105dee84edc2c: Got remote shell  [LogTimer=2213ms]\r\n2023-02-23 09:39:48,620 INFO updater.py:374 -- Updating cluster configuration. [hash=c88a76e63d7c85200a45ae718b51abfaf3b2685b]\r\n2023-02-23 09:39:49,092 INFO updater.py:381 -- New status: syncing-files\r\n2023-02-23 09:39:49,092 INFO updater.py:238 -- [2/7] Processing file mounts\r\n2023-02-23 09:39:49,092 VINFO command_runner.py:365 -- Running `mkdir -p ~/.sky/.runtime_files`\r\n2023-02-23 09:39:49,092 VVINFO command_runner.py:367 -- Full command is `ssh -tt -i ~/.ssh/sky-key -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes -o ExitOnForwardFailure=yes -o ServerAliveInterval=5 -o ServerAliveCountMax=3 -o ControlMaster=auto -o ControlPath=/tmp/ray_ssh_172522ec10/0173051afe/%C -o ControlPersist=10s -o ConnectTimeout=120s ubuntu@129.146.32.103 bash --login -c -i 'true && source ~/.bashrc && export OMP_NUM_THREADS=1 PYTHONWARNINGS=ignore && (mkdir -p ~/.sky/.runtime_files)'`\r\n2023-02-23 09:39:49,443 VINFO command_runner.py:408 -- Running `rsync --rsh ssh -i ~/.ssh/sky-key -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes -o ExitOnForwardFailure=yes -o ServerAliveInterval=5 -o ServerAliveCountMax=3 -o ControlMaster=auto -o ControlPath=/tmp/ray_ssh_172522ec10/0173051afe/%C -o ControlPersist=10s -o ConnectTimeout=120s -avz /tmp/tmp_8bvi_b5/ ubuntu@129.146.32.103:~/.sky/.runtime_files/`\r\n2023-02-23 09:39:49,444 INFO log_timer.py:25 -- NodeUpdater: c719a6881a254487b2d105dee84edc2c: Synced /tmp/tmp_8bvi_b5/ to ~/.sky/.runtime_files/  [LogTimer=352ms]\r\n2023-02-23 09:39:49,444 INFO log_timer.py:25 -- NodeUpdater: c719a6881a254487b2d105dee84edc2c: Applied config c88a76e63d7c85200a45ae718b51abfaf3b2685b  [LogTimer=3508ms]\r\n2023-02-23 09:39:49,933 ERR updater.py:158 -- New status: update-failed\r\n2023-02-23 09:39:49,933 ERR updater.py:160 -- !!!\r\n2023-02-23 09:39:49,933 VERR updater.py:168 -- {}\r\n2023-02-23 09:39:49,933 ERR updater.py:170 -- [Errno 2] No such file or directory: 'rsync'\r\n2023-02-23 09:39:49,933 ERR updater.py:172 -- !!!\r\n\r\nI 02-23 09:39:50 cloud_vm_ray_backend.py:797] ====== stderr ======\r\nDropping the empty legacy field head_node. head_nodeis not supported for ray>=2.0.0. It is recommended to removehead_node from the cluster config.\r\nDropping the empty legacy field worker_nodes. worker_nodesis not supported for ray>=2.0.0. It is recommended to removeworker_nodes from the cluster config.\r\nWarning: Permanently added '129.146.32.103' (ED25519) to the list of known hosts.\r\nShared connection to 129.146.32.103 closed.\r\nShared connection to 129.146.32.103 closed.\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/threading.py\", line 1016, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/updater.py\", line 153, in run\r\n    self.do_update()\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/updater.py\", line 382, in do_update\r\n    self.sync_file_mounts(self.rsync_up, step_numbers=(1, NUM_SETUP_STEPS))\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/updater.py\", line 242, in sync_file_mounts\r\n    do_sync(remote_path, local_path)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/updater.py\", line 229, in do_sync\r\n    sync_cmd(local_path, remote_path, docker_mount_if_possible=True)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/updater.py\", line 535, in rsync_up\r\n    self.cmd_runner.run_rsync_up(source, target, options=options)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/command_runner.py\", line 409, in run_rsync_up\r\n    self._run_helper(command, silent=is_rsync_silent())\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/command_runner.py\", line 272, in _run_helper\r\n    return run_cmd_redirected(\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/subprocess_output_util.py\", line 341, in run_cmd_redirected\r\n    return _run_and_process_output(\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/subprocess_output_util.py\", line 243, in _run_and_process_output\r\n    return process_runner.check_call(\r\n  File \"/usr/lib/python3.10/subprocess.py\", line 364, in check_call\r\n    retcode = call(*popenargs, **kwargs)\r\n  File \"/usr/lib/python3.10/subprocess.py\", line 345, in call\r\n    with Popen(*popenargs, **kwargs) as p:\r\n  File \"/usr/lib/python3.10/subprocess.py\", line 969, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"/usr/lib/python3.10/subprocess.py\", line 1845, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg, err_filename)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'rsync'\r\n2023-02-23 09:39:50,396 PANIC commands.py:819 -- Failed to setup head node.\r\nTraceback (most recent call last):\r\n  File \"/tmp/skypilot_ray_up_a3l7tx8w.py\", line 42, in <module>\r\n    sdk.create_or_update_cluster('/home/david/.sky/generated/sky-gpunode-david.yml', **{'no_restart': True})\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/sdk/sdk.py\", line 38, in create_or_update_cluster\r\n    return commands.create_or_update_cluster(\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/commands.py\", line 282, in create_or_update_cluster\r\n    get_or_create_head_node(\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/commands.py\", line 819, in get_or_create_head_node\r\n    cli_logger.abort(\"Failed to setup head node.\")\r\n  File \"/usr/local/lib/python3.10/dist-packages/ray/autoscaler/_private/cli_logger.py\", line 610, in abort\r\n    raise exc_cls(msg)\r\nclick.exceptions.ClickException: Failed to setup head node.\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1715/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1715/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1714",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1714/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1714/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1714/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1714",
        "id": 1596082475,
        "node_id": "PR_kwDOF41eh85KkLRX",
        "number": 1714,
        "title": "[Spot] Fix spot failure reason when cloud is specified",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-23T01:32:29Z",
        "updated_at": "2023-02-23T07:35:02Z",
        "closed_at": "2023-02-23T07:34:59Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1714",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1714",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1714.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1714.patch",
            "merged_at": "2023-02-23T07:34:59Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nPatches #1655\r\n\r\nWhen the cloud is specified, we don't raise the `ResourcesUnavailableError` but the actual precheck errors. We need to catch those exceptions in the `recovery_strategy`.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] `sky spot launch -n spot-maskgit-minerl-maskgit-interp --cloud gcp echo hi`",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1714/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1714/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1713",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1713/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1713/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1713/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1713",
        "id": 1594577041,
        "node_id": "PR_kwDOF41eh85KfI7U",
        "number": 1713,
        "title": "Fix show gpus when user does not have AWS credentials",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-22T07:13:04Z",
        "updated_at": "2023-02-24T16:23:07Z",
        "closed_at": "2023-02-24T16:23:03Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1713",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1713",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1713.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1713.patch",
            "merged_at": "2023-02-24T16:23:02Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes #1710 \r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\nWithout credential\r\n- [x] `sky show-gpus` (1.4 seconds; origin: 1.4 seconds)\r\n- [x] `sky show-gpus --all`\r\n- [x] `sky show-gpus --cloud aws --region us-east-1` (1.4 seconds; origin: 1.4 seconds)\r\n\r\nWith credential\r\n- [x] `sky show-gpus` (1.4 seconds; origin: 1.4 seconds)\r\n- [x] `sky show-gpus --all`\r\n- [x] `sky show-gpus --cloud aws --region us-east-1` (1.2 seconds; origin: 1.2 seconds)\r\n\r\n\r\nTests:\r\n- [x] Launch an AWS cluster; remove the AWS credentials; `sky status` and `sky status -r`\r\n- [x] `pytest tests/test_smoke.py`\r\n- [x] `pytest tests/test_smoke.py` with no AWS credentials\r\n- [x] `pytest tests/test_smoke.py --aws`",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1713/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1713/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1712",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1712/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1712/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1712/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1712",
        "id": 1594187639,
        "node_id": "PR_kwDOF41eh85Kd2NO",
        "number": 1712,
        "title": "Fix KeyError when listing instances",
        "user": {
            "login": "stephenbalaban",
            "id": 530667,
            "node_id": "MDQ6VXNlcjUzMDY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/530667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stephenbalaban",
            "html_url": "https://github.com/stephenbalaban",
            "followers_url": "https://api.github.com/users/stephenbalaban/followers",
            "following_url": "https://api.github.com/users/stephenbalaban/following{/other_user}",
            "gists_url": "https://api.github.com/users/stephenbalaban/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stephenbalaban/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stephenbalaban/subscriptions",
            "organizations_url": "https://api.github.com/users/stephenbalaban/orgs",
            "repos_url": "https://api.github.com/users/stephenbalaban/repos",
            "events_url": "https://api.github.com/users/stephenbalaban/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stephenbalaban/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-21T22:38:29Z",
        "updated_at": "2023-02-22T19:54:13Z",
        "closed_at": "2023-02-22T19:54:13Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1712",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1712",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1712.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1712.patch",
            "merged_at": "2023-02-22T19:54:12Z"
        },
        "body": "This fixes a KeyError which occurs when listing instances that were manually launched on the Lambda Cloud dashboard which do not have a name attribute set.\r\n\r\n<!-- Describe the changes in this PR -->\r\nChannged the name key indexing into a call to .get which will return `None` if the key 'name' is not set. The key 'name' is not set when you manually launch an instance in our cloud.\r\n\r\n<!-- Describe the tests ran -->\r\nI edited the node_providers.py file manually that was installed by pip install skypilot[lambda]\r\n\r\nRunning the command line tool now works.\r\n\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [X] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py`\r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name`\r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n\r\nHere is the trace from the error:\r\n\r\n```\r\nsabalaba@tensorbook:~$ sky launch --gpus A10\r\nSkyPilot collects usage data to improve its services. `setup` and `run` commands are not collected to ensure privacy.\r\nUsage logging can be disabled by setting the environment variable SKYPILOT_DISABLE_USAGE_COLLECTION=1.\r\nI 02-21 17:24:11 optimizer.py:605] == Optimizer ==\r\nI 02-21 17:24:11 optimizer.py:616] Target: minimizing cost\r\nI 02-21 17:24:11 optimizer.py:628] Estimated cost: $0.6 / hour\r\nI 02-21 17:24:11 optimizer.py:628] \r\nI 02-21 17:24:11 optimizer.py:691] Considered resources (1 node):\r\nI 02-21 17:24:11 optimizer.py:739] --------------------------------------------------------------------------------\r\nI 02-21 17:24:11 optimizer.py:739]  CLOUD    INSTANCE     vCPUs   ACCELERATORS   REGION/ZONE   COST ($)   CHOSEN   \r\nI 02-21 17:24:11 optimizer.py:739] --------------------------------------------------------------------------------\r\nI 02-21 17:24:11 optimizer.py:739]  Lambda   gpu_1x_a10   30      A10:1          us-east-1     0.60          \u2714     \r\nI 02-21 17:24:11 optimizer.py:739] --------------------------------------------------------------------------------\r\nI 02-21 17:24:11 optimizer.py:739] \r\nLaunching a new cluster 'sky-25fd-sabalaba'. Proceed? [Y/n]: \r\nI 02-21 17:24:13 cloud_vm_ray_backend.py:3212] Creating a new cluster: \"sky-25fd-sabalaba\" [1x Lambda(gpu_1x_a10, {'A10': 1})].\r\nI 02-21 17:24:13 cloud_vm_ray_backend.py:3212] Tip: to reuse an existing cluster, specify --cluster (-c). Run `sky status` to see existing clusters.\r\nI 02-21 17:24:13 cloud_vm_ray_backend.py:1124] To view detailed progress: tail -n100 -f /home/sabalaba/sky_logs/sky-2023-02-21-17-24-08-653878/provision.log\r\nI 02-21 17:24:14 cloud_vm_ray_backend.py:1444] Launching on Lambda us-east-1 (all zones)\r\nI 02-21 17:24:15 cloud_vm_ray_backend.py:794] ====== stdout ======\r\n2023-02-21 17:24:14,507\tINFO commands.py:276 -- Cluster: sky-25fd-sabalaba\r\n2023-02-21 17:24:14,570\tINFO commands.py:353 -- Checking External environment settings\r\n\r\nI 02-21 17:24:15 cloud_vm_ray_backend.py:797] ====== stderr ======\r\nDropping the empty legacy field head_node. head_nodeis not supported for ray>=2.0.0. It is recommended to removehead_node from the cluster config.\r\nDropping the empty legacy field worker_nodes. worker_nodesis not supported for ray>=2.0.0. It is recommended to removeworker_nodes from the cluster config.\r\nTraceback (most recent call last):\r\n  File \"/tmp/skypilot_ray_up_0kbb97xx.py\", line 42, in <module>\r\n    sdk.create_or_update_cluster('/home/sabalaba/.sky/generated/sky-25fd-sabalaba.yml', **{'no_restart': True})\r\n  File \"/home/sabalaba/.local/lib/python3.10/site-packages/ray/autoscaler/sdk/sdk.py\", line 38, in create_or_update_cluster\r\n    return commands.create_or_update_cluster(\r\n  File \"/home/sabalaba/.local/lib/python3.10/site-packages/ray/autoscaler/_private/commands.py\", line 282, in create_or_update_cluster\r\n    get_or_create_head_node(\r\n  File \"/home/sabalaba/.local/lib/python3.10/site-packages/ray/autoscaler/_private/commands.py\", line 639, in get_or_create_head_node\r\n    provider = _provider or _get_node_provider(\r\n  File \"/home/sabalaba/.local/lib/python3.10/site-packages/ray/autoscaler/_private/providers.py\", line 229, in _get_node_provider\r\n    new_provider = provider_cls(provider_config, cluster_name)\r\n  File \"/home/sabalaba/.local/lib/python3.10/site-packages/sky/skylet/providers/lambda_cloud/node_provider.py\", line 54, in __init__\r\n    vms = self._list_instances_in_cluster()\r\n  File \"/home/sabalaba/.local/lib/python3.10/site-packages/sky/skylet/providers/lambda_cloud/node_provider.py\", line 95, in _list_instances_in_cluster\r\n    return [\r\n  File \"/home/sabalaba/.local/lib/python3.10/site-packages/sky/skylet/providers/lambda_cloud/node_provider.py\", line 97, in <listcomp>\r\n    if node['name'] == self.cluster_name\r\nKeyError: 'name'\r\n```\r\n\r\nYou can easily replicate this by manually launching an instance in our cloud without a name attribute specified, this breaks the sky client.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1712/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1712/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1711",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1711/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1711/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1711/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1711",
        "id": 1594137858,
        "node_id": "I_kwDOF41eh85fBJ0C",
        "number": 1711,
        "title": "[CLI] Add `-n` option for `sky logs` ",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294583,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTgz",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/duplicate",
                "name": "duplicate",
                "color": "cfd3d7",
                "default": true,
                "description": "This issue or pull request already exists"
            },
            {
                "id": 3251294584,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg0",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            },
            {
                "id": 3251294586,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/good%20first%20issue",
                "name": "good first issue",
                "color": "7057ff",
                "default": true,
                "description": "Good for newcomers"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-21T21:45:12Z",
        "updated_at": "2023-02-21T21:55:42Z",
        "closed_at": "2023-02-21T21:55:36Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Similar to `tail` and `docker logs`, we may want to add `-n` option to the `sky logs` CLI. The main reason is that when the user logs are very long and the job is still running, the `sky logs` will take a long time to reach the latest line.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1711/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1711/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1710",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1710/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1710/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1710/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1710",
        "id": 1594059793,
        "node_id": "I_kwDOF41eh85fA2wR",
        "number": 1710,
        "title": "`sky show-gpus` should not assume AWS credentials to fetch AZ mappings",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-21T20:30:24Z",
        "updated_at": "2023-02-24T16:23:04Z",
        "closed_at": "2023-02-24T16:23:04Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "On a fresh docker install\r\n```\r\npip install skypilot[lambda]\r\nsky show-gpus\r\n```\r\nshows\r\n```\r\n...\r\nI 02-21 20:24:39 aws_catalog.py:53] Fetching availability zones mapping for AWS...\r\n--- Logging error ---\r\n....\r\n  File \"/opt/conda/lib/python3.9/site-packages/sky/clouds/service_catalog/data_fetchers/fetch_aws.py\", line 69, in get_enabled_regions\r\n    user_cloud_regions = aws_client.describe_regions()['Regions']\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/client.py\", line 530, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/client.py\", line 943, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/client.py\", line 966, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/endpoint.py\", line 119, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/endpoint.py\", line 198, in _send_request\r\n    request = self.create_request(request_dict, operation_model)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/endpoint.py\", line 134, in create_request\r\n    self._event_emitter.emit(\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/hooks.py\", line 412, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/hooks.py\", line 256, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/hooks.py\", line 239, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/signers.py\", line 105, in handler\r\n    return self.sign(operation_name, request)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/signers.py\", line 189, in sign\r\n    auth.add_auth(request)\r\n  File \"/opt/conda/lib/python3.9/site-packages/botocore/auth.py\", line 418, in add_auth\r\n    raise NoCredentialsError()\r\nbotocore.exceptions.NoCredentialsError: Unable to locate credentials\r\n```\r\nWe should perhaps check other call paths that will by default fetch AWS AZ mappings.\r\n\r\ncc @WoosukKwon @Michaelvll ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1710/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1710/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1709",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1709/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1709/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1709/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1709",
        "id": 1593980998,
        "node_id": "PR_kwDOF41eh85KdK5V",
        "number": 1709,
        "title": "Update url for joining the slack",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-21T19:16:59Z",
        "updated_at": "2023-02-21T19:33:38Z",
        "closed_at": "2023-02-21T19:33:34Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1709",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1709",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1709.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1709.patch",
            "merged_at": "2023-02-21T19:33:34Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nUpdate the links for joining our slack workspace.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1709/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1709/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1708",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1708/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1708/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1708/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1708",
        "id": 1591082779,
        "node_id": "PR_kwDOF41eh85KTfg4",
        "number": 1708,
        "title": "[Optimizer] Add GCP disk price to the optimizer",
        "user": {
            "login": "cblmemo",
            "id": 74357442,
            "node_id": "MDQ6VXNlcjc0MzU3NDQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/74357442?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cblmemo",
            "html_url": "https://github.com/cblmemo",
            "followers_url": "https://api.github.com/users/cblmemo/followers",
            "following_url": "https://api.github.com/users/cblmemo/following{/other_user}",
            "gists_url": "https://api.github.com/users/cblmemo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cblmemo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cblmemo/subscriptions",
            "organizations_url": "https://api.github.com/users/cblmemo/orgs",
            "repos_url": "https://api.github.com/users/cblmemo/repos",
            "events_url": "https://api.github.com/users/cblmemo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cblmemo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-02-20T03:49:50Z",
        "updated_at": "2023-11-10T02:03:11Z",
        "closed_at": "2023-11-10T02:03:11Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1708",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1708",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1708.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1708.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nAdd GCP disk price to the optimizer. This PR is blocking on skypilot-org/skypilot#1642 and resolves #1228 on GCP.\r\n\r\nNeed to change skypilot-org/skypilot-catalog by adding storage.csv to gcp/storage.csv for fetching.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1708/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1708/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1707",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1707/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1707/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1707/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1707",
        "id": 1590478877,
        "node_id": "PR_kwDOF41eh85KRoaT",
        "number": 1707,
        "title": "[Docs] Change grpcio to conda-forge for apple silicon instructions",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-18T21:42:37Z",
        "updated_at": "2023-02-24T16:27:19Z",
        "closed_at": "2023-02-24T16:27:15Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1707",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1707",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1707.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1707.patch",
            "merged_at": "2023-02-24T16:27:15Z"
        },
        "body": "Closes #1706.\r\n\r\nTested\r\n- [x] Docs rendered locally\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1707/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1707/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1706",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1706/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1706/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1706/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1706",
        "id": 1590473368,
        "node_id": "I_kwDOF41eh85ezLKY",
        "number": 1706,
        "title": "[Docs] `conda install grpcio=1.43.0` fails on apple silicon",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-18T21:17:47Z",
        "updated_at": "2023-02-24T16:27:17Z",
        "closed_at": "2023-02-24T16:27:16Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "I am following the installation guide on a new apple silicon mac with conda installed. \r\n\r\n```\r\n(base) \u279c  ~ conda install grpcio=1.43.0\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\r\nCollecting package metadata (repodata.json): done\r\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\r\n\r\nPackagesNotFoundError: The following packages are not available from current channels:\r\n\r\n  - grpcio=1.43.0\r\n\r\nCurrent channels:\r\n\r\n  - https://repo.anaconda.com/pkgs/main/osx-arm64\r\n  - https://repo.anaconda.com/pkgs/main/noarch\r\n  - https://repo.anaconda.com/pkgs/r/osx-arm64\r\n  - https://repo.anaconda.com/pkgs/r/noarch\r\n\r\n```\r\n\r\n1.42.0 is the latest version on conda [main repo](https://anaconda.org/anaconda/grpcio), thus 1.43.0 is not found.\r\n\r\nTo fix, we should either:\r\n\r\n1. Switch to [conda-forge](https://anaconda.org/conda-forge/grpcio), which has 1.43.0 `conda install -c conda-forge grpcio=1.43.0`. This keeps our versions pinned (preferred?).\r\n2. Use `conda install grpcio`. This does not pin the grpc version. This is suggested by the `import ray` error message:\r\n```\r\nImportError: Failed to import grpc on Apple Silicon. On Apple Silicon machines, try `pip uninstall grpcio; conda install grpcio`. Check out https://docs.ray.io/en/master/ray-overview/installation.html#m1-mac-apple-silicon-support for more details.\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1706/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1706/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1705",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1705/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1705/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1705/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1705",
        "id": 1590246631,
        "node_id": "PR_kwDOF41eh85KQ8yo",
        "number": 1705,
        "title": "Add heterogeneous cluster support",
        "user": {
            "login": "iojw",
            "id": 1729493,
            "node_id": "MDQ6VXNlcjE3Mjk0OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1729493?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iojw",
            "html_url": "https://github.com/iojw",
            "followers_url": "https://api.github.com/users/iojw/followers",
            "following_url": "https://api.github.com/users/iojw/following{/other_user}",
            "gists_url": "https://api.github.com/users/iojw/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iojw/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iojw/subscriptions",
            "organizations_url": "https://api.github.com/users/iojw/orgs",
            "repos_url": "https://api.github.com/users/iojw/repos",
            "events_url": "https://api.github.com/users/iojw/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iojw/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-18T07:35:39Z",
        "updated_at": "2023-07-13T02:46:56Z",
        "closed_at": "2023-07-13T02:46:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1705",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1705",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1705.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1705.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis is a first pass at implementing support for heterogeneous clusters within SkyPilot. There are still a few pieces to be implemented, but it's working end-to-end, and I'm opening this PR to gain initial feedback on the overall design. For a detailed explanation of the design and motivation, see [this document](https://docs.google.com/document/d/1qpEytIdnZsJvLo5GUTsQfhynVgIml5aGud6N3WFshEk/edit#).\r\n\r\nTry running an end-to-end example! `python examples/example_heterogeneous_cluster.py`\r\n(video demo: https://asciinema.org/a/RqAsF3aiuIzdlH3mSlIofEVeT)\r\n\r\nLet me know if you have any comments or suggestions.\r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. \r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`-->\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1705/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1705/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1704",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1704/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1704/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1704/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1704",
        "id": 1590224231,
        "node_id": "PR_kwDOF41eh85KQ4pU",
        "number": 1704,
        "title": "Minor refactoring for new provisioner",
        "user": {
            "login": "suquark",
            "id": 13750372,
            "node_id": "MDQ6VXNlcjEzNzUwMzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/13750372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suquark",
            "html_url": "https://github.com/suquark",
            "followers_url": "https://api.github.com/users/suquark/followers",
            "following_url": "https://api.github.com/users/suquark/following{/other_user}",
            "gists_url": "https://api.github.com/users/suquark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suquark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suquark/subscriptions",
            "organizations_url": "https://api.github.com/users/suquark/orgs",
            "repos_url": "https://api.github.com/users/suquark/repos",
            "events_url": "https://api.github.com/users/suquark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suquark/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-18T06:01:08Z",
        "updated_at": "2023-02-22T04:05:05Z",
        "closed_at": "2023-02-22T04:04:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1704",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1704",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1704.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1704.patch",
            "merged_at": "2023-02-22T04:04:46Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis minor refactoring (moving a segment of code into a method) makes it easier and cleaner to integrate #1702. This trivial refactoring does not change any behavior of Skypilot.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1704/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1704/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1703",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1703/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1703/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1703/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1703",
        "id": 1590222004,
        "node_id": "PR_kwDOF41eh85KQ4OJ",
        "number": 1703,
        "title": "[Logging] Fix logging handling",
        "user": {
            "login": "suquark",
            "id": 13750372,
            "node_id": "MDQ6VXNlcjEzNzUwMzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/13750372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suquark",
            "html_url": "https://github.com/suquark",
            "followers_url": "https://api.github.com/users/suquark/followers",
            "following_url": "https://api.github.com/users/suquark/following{/other_user}",
            "gists_url": "https://api.github.com/users/suquark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suquark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suquark/subscriptions",
            "organizations_url": "https://api.github.com/users/suquark/orgs",
            "repos_url": "https://api.github.com/users/suquark/repos",
            "events_url": "https://api.github.com/users/suquark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suquark/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-18T05:52:20Z",
        "updated_at": "2023-02-20T08:50:45Z",
        "closed_at": "2023-02-20T08:50:42Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1703",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1703",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1703.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1703.patch",
            "merged_at": "2023-02-20T08:50:42Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nWe should change the logging level of the handler, instead of the logging level of the logger. The logging level of logger should be set to `DEBUG`, so that other (new) handlers could dump debug info to a logging file. Setting the logging level of the logger to `INFO` would prevent streaming any lower level messages via logging handlers.\r\n\r\nThis PR does not affect the behavior of Skypilot. No smoke tests required.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1703/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1703/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1702",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1702/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1702/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1702/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1702",
        "id": 1590151214,
        "node_id": "PR_kwDOF41eh85KQqXB",
        "number": 1702,
        "title": "[Provisioner] New provisioner with AWS support",
        "user": {
            "login": "suquark",
            "id": 13750372,
            "node_id": "MDQ6VXNlcjEzNzUwMzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/13750372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suquark",
            "html_url": "https://github.com/suquark",
            "followers_url": "https://api.github.com/users/suquark/followers",
            "following_url": "https://api.github.com/users/suquark/following{/other_user}",
            "gists_url": "https://api.github.com/users/suquark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suquark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suquark/subscriptions",
            "organizations_url": "https://api.github.com/users/suquark/orgs",
            "repos_url": "https://api.github.com/users/suquark/repos",
            "events_url": "https://api.github.com/users/suquark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suquark/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/18",
            "html_url": "https://github.com/skypilot-org/skypilot/milestone/18",
            "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/18/labels",
            "id": 9900645,
            "node_id": "MI_kwDOF41eh84AlxJl",
            "number": 18,
            "title": "New Provisioner",
            "description": null,
            "creator": {
                "login": "Michaelvll",
                "id": 6753189,
                "node_id": "MDQ6VXNlcjY3NTMxODk=",
                "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Michaelvll",
                "html_url": "https://github.com/Michaelvll",
                "followers_url": "https://api.github.com/users/Michaelvll/followers",
                "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
                "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
                "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
                "repos_url": "https://api.github.com/users/Michaelvll/repos",
                "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 3,
            "closed_issues": 1,
            "state": "open",
            "created_at": "2023-09-08T18:59:58Z",
            "updated_at": "2023-09-29T23:49:59Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 18,
        "created_at": "2023-02-18T01:19:52Z",
        "updated_at": "2023-09-30T00:26:45Z",
        "closed_at": "2023-09-29T23:49:58Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1702",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1702",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1702.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1702.patch",
            "merged_at": "2023-09-29T23:49:58Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis PR is a major rewriting of the provisioning layer of Skypilot. Here are the benefits summarized:\r\n\r\n- Simplified and eliminates a huge amount of tech debts from the original provisioner implementation from Ray\r\n- 100% speed improvement for multi-node provision\r\n- 20x (or even more) speed improvement when failing over across regions (due to resource limit) with multiple nodes\r\n- Easy implementation of provisioners for new clouds with clear API\r\n- Bridging gap between provisioner and other tools like Terraform/Kubernetes with CRUD-compatible APIs\r\n- Minimal dependencies (with only cloud SDK)\r\n- Provisioning new clusters with minimal memory & CPU resources; can be executed in cheap instance type or lambda function\r\n- Full control of cloud config for easy feature addition or bug fixes\r\n- Making it easier for adding new features like customized permissions, EFS support, customized AMIs/Images, and more\r\n- Easy performance profiling\r\n- Support ARM or more architecture.\r\n- Separating the resource allocation (instance creation) from dependencies setup (upload sky wheels, install ray etc)\r\n- Faster cluster status refreshing\r\n- Faster zone fail-over\r\n- (and more)\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1702/reactions",
            "total_count": 9,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 9,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1702/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1701",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1701/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1701/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1701/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1701",
        "id": 1590043285,
        "node_id": "PR_kwDOF41eh85KQTHQ",
        "number": 1701,
        "title": "[usage] Change usage logging URL.",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-17T22:41:57Z",
        "updated_at": "2023-02-18T00:37:55Z",
        "closed_at": "2023-02-18T00:37:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1701",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1701",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1701.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1701.patch",
            "merged_at": "2023-02-18T00:37:52Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis is to easily swap out the logging server and its IP.\r\n\r\nTested that the new URL works.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1701/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1701/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1700",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1700/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1700/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1700/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1700",
        "id": 1586756792,
        "node_id": "PR_kwDOF41eh85KFOe5",
        "number": 1700,
        "title": "[core] Launching existing cluster in the same zone to avoid leakage",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-15T23:43:49Z",
        "updated_at": "2023-02-22T06:59:16Z",
        "closed_at": "2023-02-22T06:59:12Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1700",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1700",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1700.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1700.patch",
            "merged_at": "2023-02-22T06:59:12Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\n1. Fixes #1054\r\n2. Refactors the cloud vm ray backend to make it more efficient.\r\n3. Fix the AWS catalog fetching by excluding availability zones that do not contain the instance type: some instance types are not available on all the availability zones within a region even if it is on-demand (e.g., p4d.24xlarge is only supported in `use1-az1`, `use-az2`, `use-az6`, but our previous catalog fetcher assumed that all the zones contain the instance type).\r\n\r\nA potential leakage that may not be solved by this PR:\r\n  1. The user Ctrl-C during the launching process of a new cluster `sky launch -c new-cluster --cloud aws` and the actual node was successfully launched on `us-east-1a`.\r\n  2. The user manually stopped the node on the AWS console\r\n  3. After that, the user do `sky launch -c new-cluster` again, the availability zone `us-east-1a` now has no capacity for the instance, but `us-east-1b` does. \r\n  5. Since the ray yaml has `us-east-1a, us-east-1b,...` in the section `provider.availability_zone` section, it is possible that ray will keep the original node stopped and create a new one on `us-east-1a`. (need to confirm).\r\n\r\nPotential solution:\r\n  1. Fetch zone info directly from cloud provider\r\n  2. Do not combine zones (This only happens for AWS single node) -- let the failover go through the zones one by one\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - [x] `sky launch -c test-on-demand --gpus A100:8 --cloud aws` only try zones that contain the instance type `p4d.24xlarge` (For fix 3 above) and try to launch again during the INIT status\r\n  - [x] `sky launch -c test-spot --gpus A100:8 --use-spot --cloud aws` only try zones that contain the instance type `p4d.24xlarge` (For fix 3 above)\r\n  - [x] `sky launch -c test-spot --cloud aws --use-spot`\r\n  - [x] `sky launch -c test-spot --cloud aws --use-spot` INIT cluster\r\n  - [x] `sky launch -c test-on-demand --cloud aws`\r\n  - [x] `sky launch -c test-on-demand --num-nodes 2 --cloud aws`: failover through single zones.\r\n  - [x] `sky launch -c test-on-demand --cloud aws` INIT cluster\r\n  - [x] `sky launch -c test-on-demand --cloud aws` STOPPED cluster\r\n  - [x] `sky launch -c test-spot --cloud gcp --use-spot`\r\n  - [x] `sky launch -c test-spot --cloud gcp --use-spot` INIT cluster\r\n  - [x] `sky launch -c test-on-demand --num-nodes 2 --cloud gcp`: failover through single zones.\r\n  - [x] `sky launch -c test-spot --cloud azure --use-spot`\r\n  - [x] `sky launch -c test-spot --cloud azure --use-spot` INIT cluster\r\n  - [x] `sky launch -c test-spot --cloud azure --use-spot` STOPPED cluster\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n- [x] All smoke tests: `pytest tests/test_smoke.py --aws` \r\n- [x] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh` with GCP\r\n- [x] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh` with AWS\r\n- [x] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh` with Azure\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1700/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1700/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1699",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1699/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1699/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1699/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1699",
        "id": 1586668023,
        "node_id": "PR_kwDOF41eh85KE7ZO",
        "number": 1699,
        "title": "[docs] Make each cloud's setup instruction a section.",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-15T22:28:44Z",
        "updated_at": "2023-02-17T04:20:12Z",
        "closed_at": "2023-02-17T04:20:09Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1699",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1699",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1699.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1699.patch",
            "merged_at": "2023-02-17T04:20:09Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nMake each cloud's setup instruction a section, so that we can use URL to refer to a cloud's instructions.\r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - rendered HTMLs locally\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1699/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1699/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1698",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1698/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1698/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1698/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1698",
        "id": 1586387225,
        "node_id": "PR_kwDOF41eh85KD-xh",
        "number": 1698,
        "title": "Allow --cpus for existing clusters",
        "user": {
            "login": "WoosukKwon",
            "id": 46394894,
            "node_id": "MDQ6VXNlcjQ2Mzk0ODk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46394894?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WoosukKwon",
            "html_url": "https://github.com/WoosukKwon",
            "followers_url": "https://api.github.com/users/WoosukKwon/followers",
            "following_url": "https://api.github.com/users/WoosukKwon/following{/other_user}",
            "gists_url": "https://api.github.com/users/WoosukKwon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WoosukKwon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WoosukKwon/subscriptions",
            "organizations_url": "https://api.github.com/users/WoosukKwon/orgs",
            "repos_url": "https://api.github.com/users/WoosukKwon/repos",
            "events_url": "https://api.github.com/users/WoosukKwon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WoosukKwon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-15T19:02:32Z",
        "updated_at": "2023-02-15T20:39:57Z",
        "closed_at": "2023-02-15T20:39:54Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1698",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1698",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1698.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1698.patch",
            "merged_at": "2023-02-15T20:39:54Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes #1672 \r\n\r\nThis PR allows specifying CPU requirements in re-launching (or executing a job on) an existing cluster (i.e., `sky launch -c existing-cluster --cpus x` and `sky exec existing-cluster --cpus x`). Note that in both cases the specified `cpus` will just be silently ignored. That is, 1) we do not check if the CPU requirement is valid, and 2) in `sky exec`, the specified number of CPUs will not work as a scheduling constraint.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n\r\n* `sky launch 'echo hi' --cpus 8 -c test-cpus`\r\n* `sky launch 'echo hihi' --cpus 100 -c test-cpus`\r\n* `sky exec test-cpus 'echo hihihi' --cpus 9999`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1698/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1698/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1697",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1697/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1697/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1697/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1697",
        "id": 1584994519,
        "node_id": "PR_kwDOF41eh85J_SRV",
        "number": 1697,
        "title": "[Spot] Support syncing spot logs to cloud bucket",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-14T23:48:41Z",
        "updated_at": "2023-07-31T02:13:57Z",
        "closed_at": "2023-07-31T02:13:57Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1697",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1697",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1697.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1697.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes https://github.com/skypilot-org/skypilot/issues/800. This PR implements a new option `--sync-log` to periodically syncing spot logs to cloud bucket on controller. \r\n\r\nUsage:\r\n```\r\nsky spot launch --sync-log\r\n```\r\nThe job's `run.log` will be periodically synced to a cloud bucket named `skypilot-spot-logs-[USER-ID]`.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTODOs\r\n- [ ] Implement spot logs cleanup\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Add a smoke test\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1697/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1697/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1696",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1696/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1696/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1696/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1696",
        "id": 1584702086,
        "node_id": "I_kwDOF41eh85edKKG",
        "number": 1696,
        "title": "Support supplying custom tags for AWS instances",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4326425650,
                "node_id": "LA_kwDOF41eh88AAAABAeAEMg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/feature-request",
                "name": "feature-request",
                "color": "7E61BF",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-14T19:20:13Z",
        "updated_at": "2023-05-28T16:21:47Z",
        "closed_at": "2023-05-28T16:21:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "User requested a feature tagging all SkyPilot-launched AWS instances with their custom tags. \r\n\r\nThey currently work around this by patching SkyPilot, adding the following to `sky/templates/aws-ray.yml.j2`:\r\n```\r\n      TagSpecifications:\r\n        - ResourceType: instance\r\n          Tags:\r\n            - Key: skypilot-user\r\n              Value: {{ user }}\r\n            - Key: my-custom-tag\r\n              Value: my-custom-value\r\n```\r\nUser said\r\n> although we have a temporary solution by patching, it\u2019d be great if this can be officially supported",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1696/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1696/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1695",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1695/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1695/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1695/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1695",
        "id": 1583068730,
        "node_id": "PR_kwDOF41eh85J4zPa",
        "number": 1695,
        "title": "[Azure/Core] Fix blocklist for azure",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-13T21:10:41Z",
        "updated_at": "2023-02-14T18:45:35Z",
        "closed_at": "2023-02-14T18:45:32Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1695",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1695",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1695.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1695.patch",
            "merged_at": "2023-02-14T18:45:32Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis is a quick fix for launching azure cluster. Since the `zones` for Azure can be `None`, the previous code complains about `TypeError: 'NoneType' object is not iterable`, when an error happens in a region.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n- [ ] Relevant individual smoke tests: `pytest tests/test_smoke.py::test_fill_in_the_name` \r\n- [ ] Backward compatibility tests: `bash tests/backward_comaptibility_tests.sh`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1695/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1695/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1694",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1694/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1694/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1694/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1694",
        "id": 1582932926,
        "node_id": "I_kwDOF41eh85eWaO-",
        "number": 1694,
        "title": "[Spot] FAILED_CONTROLLER error with spot launch after 30hrs of retry",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294581,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTgx",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/bug",
                "name": "bug",
                "color": "d73a4a",
                "default": true,
                "description": "Something isn't working"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-13T19:29:02Z",
        "updated_at": "2023-03-02T22:18:00Z",
        "closed_at": "2023-03-02T22:18:00Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "User report getting `FAILED_CONTROLLER` error with `spot launch` after 30 hours of `retry-until-up`.\r\n\r\nThe error seems to be\r\n```\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\n```\r\nNot sure if it's related to recursively calling this function too deep. the default limit seems to be 1000 according to [this post](https://stackoverflow.com/questions/3323001/what-is-the-maximum-recursion-depth-in-python-and-how-to-increase-it).\r\n\r\nComplete logs:\r\n```\r\n[0m \u001b[?25hI 02-12 20:30:33 recovery_strategy.py:281] Failed to launch the spot cluster with error: \u001b[1mbuiltins.RecursionError:\u001b[0m maximum recursion depth exceeded while calling a Python object)\r\n[0m I 02-12 20:30:33 recovery_strategy.py:284]   Traceback: Traceback (most recent call last):\r\n[0m I 02-12 20:30:33 recovery_strategy.py:284] RecursionError: maximum recursion depth exceeded while calling a Python object\r\n[0m I 02-12 20:30:33 recovery_strategy.py:284] \r\n[0m E 02-12 20:30:35 recovery_strategy.py:117] Failed to terminate the spot cluster sky-2dcd-xxxx-122. Retrying.\r\n[0m E 02-12 20:30:36 recovery_strategy.py:117] Failed to terminate the spot cluster sky-2dcd-xxxx-122. Retrying.\r\n[0m E 02-12 20:30:38 controller.py:223] Traceback (most recent call last):\r\n[0m E 02-12 20:30:38 controller.py:223] RecursionError: maximum recursion depth exceeded while calling a Python object\r\n[0m E 02-12 20:30:38 controller.py:223] \r\n[0m E 02-12 20:30:38 controller.py:223] The above exception was the direct cause of the following exception:\r\n[0m E 02-12 20:30:38 controller.py:223] \r\n[0m E 02-12 20:30:38 controller.py:223] Traceback (most recent call last):\r\n[0m E 02-12 20:30:38 controller.py:223] RuntimeError: Failed to terminate the spot cluster sky-2dcd-xxxx-122.\r\n[0m E 02-12 20:30:38 controller.py:223] \r\n[0m E 02-12 20:30:38 controller.py:226] Unexpected error occurred: \u001b[1m[builtins.RuntimeError]:\u001b[0m Failed to terminate the spot cluster sky-2dcd-xxxx-122.\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1694/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1694/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1692",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1692/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1692/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1692/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1692",
        "id": 1581099698,
        "node_id": "I_kwDOF41eh85ePaqy",
        "number": 1692,
        "title": "[file_mount] Show the file currently being uploaded",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294583,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTgz",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/duplicate",
                "name": "duplicate",
                "color": "cfd3d7",
                "default": true,
                "description": "This issue or pull request already exists"
            },
            {
                "id": 3251294586,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/good%20first%20issue",
                "name": "good first issue",
                "color": "7057ff",
                "default": true,
                "description": "Good for newcomers"
            },
            {
                "id": 4209422626,
                "node_id": "LA_kwDOF41eh8765rEi",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/friction-log",
                "name": "friction-log",
                "color": "A0D2D1",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-12T03:06:36Z",
        "updated_at": "2023-02-12T07:23:43Z",
        "closed_at": "2023-02-12T07:23:35Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "A user requested to see the current file being uploaded during the syncing stage, so that he can figure out whether the files are being uploaded or some unexpected large files blocked the submission.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1692/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1692/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1691",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1691/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1691/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1691/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1691",
        "id": 1580244768,
        "node_id": "PR_kwDOF41eh85JvgnA",
        "number": 1691,
        "title": "[UX] Add in-progress spot jobs to `sky status`",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-02-10T19:57:39Z",
        "updated_at": "2023-02-26T05:54:46Z",
        "closed_at": "2023-02-26T05:40:16Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1691",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1691",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1691.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1691.patch",
            "merged_at": "2023-02-26T05:40:16Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes #1665.\r\n\r\nIn this PR, we also show in-progress spot jobs in the `sky status` output.\r\n\r\nWe also changed the implementation of `fetch_aws.py`/`fetch_azure.py` to get rid of ray, because:\r\n1. ray has larger overhead\r\n2. ray will add sigterm handler when being imported ([here](https://github.com/ray-project/ray/blob/03b6bc7b5a305877501110ec04710a9c57011479/python/ray/_private/worker.py#L1617-L1628)), which will cause the following error when we use multiprocessing.\r\n\r\nTODO:\r\n- [x] we show `sky status` after `sky launch`, and the current change will add overheads to a normal `sky launch`. We may need to add an additional option to `sky status` to avoid querying the spot jobs.\r\n\r\n\r\nOverhead comparison:\r\n1. `python -c 'import time; from sky.clouds.service_catalog.data_fetchers import fetch_aws; start=time.time(); fetch_aws.fetch_availability_zone_mappings(); end = time.time(); print(end-start)'` (used in aws_catalog.py)\r\nnew: 2.44 seconds, master: 6.50 seconds\r\n2. `time python -m sky.clouds.service_catalog.data_fetchers.fetch_aws --no-az-mappings --check-all-regions-enabled-for-account`\r\nnew: 43s, master: 59s\r\n3. `time python -m sky.clouds.service_catalog.data_fetchers.fetch_azure`\r\nnew: 1m9s, master: 1m28s\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - [x] `sky status` when the controller is stopped. (6.4s)\r\n  - [x] `sky status -r` when the controller is stopped. (37s and spot job query does not introduce more cost)\r\n          <img width=\"812\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/221392985-44e84941-6178-43b9-83ae-c616ab84e531.png\">\r\n  - [x] `sky status` when the controller is INIT.\r\n    <img width=\"854\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/221393047-0962e0c9-fa85-41c1-bbf5-b38d30dacc53.png\">\r\n  - [x] `sky status` when the controller is UP.\r\n    <img width=\"881\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/221393134-f262bb19-03f3-499d-b739-a5d4c3ee3102.png\">\r\n    <img width=\"784\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/221393200-d21f9988-d8a4-4d4d-9829-30195002feb5.png\">\r\n    <img width=\"808\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/221393238-842694fa-c52b-4a59-9400-da3d27123b1d.png\">\r\n  - [x] `python -m sky.clouds.service_catalog.data_fetchers.fetch_aws --no-az-mappings --check-all-regions-enabled-for-account`\r\n  - [x] `python -m sky.clouds.service_catalog.data_fetchers.fetch_azure`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1691/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1691/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1690",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1690/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1690/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1690/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1690",
        "id": 1580166903,
        "node_id": "PR_kwDOF41eh85JvP0J",
        "number": 1690,
        "title": "[docs] CLI help strings: wording, ordering, and formatting.",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/14",
            "html_url": "https://github.com/skypilot-org/skypilot/milestone/14",
            "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/milestones/14/labels",
            "id": 9189178,
            "node_id": "MI_kwDOF41eh84AjDc6",
            "number": 14,
            "title": "v0.3",
            "description": "",
            "creator": {
                "login": "concretevitamin",
                "id": 592670,
                "node_id": "MDQ6VXNlcjU5MjY3MA==",
                "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/concretevitamin",
                "html_url": "https://github.com/concretevitamin",
                "followers_url": "https://api.github.com/users/concretevitamin/followers",
                "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
                "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
                "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
                "repos_url": "https://api.github.com/users/concretevitamin/repos",
                "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
                "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 19,
            "state": "closed",
            "created_at": "2023-03-22T00:07:00Z",
            "updated_at": "2023-10-03T02:01:47Z",
            "due_on": null,
            "closed_at": "2023-09-08T19:22:31Z"
        },
        "comments": 5,
        "created_at": "2023-02-10T18:51:54Z",
        "updated_at": "2023-09-03T02:01:42Z",
        "closed_at": "2023-09-03T02:01:42Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1690",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1690",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1690.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1690.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nChanges\r\n- Changed the ordering of commands shown in `sky / sky -h`\r\n- Wording / correctness fixes\r\n- Formatting fixes\r\n\r\nWith this PR, `sky` shows\r\n```\r\nCommands:\r\n  check        Check what clouds are available to use.\r\n  launch       Launch a task from a YAML or a command (rerun setup if...\r\n  exec         Execute a task or a command on a cluster (skip setup).\r\n  stop         Stop cluster(s).\r\n  autostop     Schedule an autostop or autodown for cluster(s).\r\n  start        Restart cluster(s).\r\n  down         Tear down cluster(s).\r\n  status       Show clusters.\r\n  queue        Show the job queue for cluster(s).\r\n  logs         Tail the log of a job.\r\n  cancel       Cancel job(s).\r\n  show-gpus    Show supported GPU/TPU/accelerators and their prices.\r\n  cost-report  Show estimated costs for launched clusters.\r\n  spot         Managed Spot commands (spot instances with auto-recovery).\r\n  gpunode      Launch or attach to an interactive GPU node.\r\n  cpunode      Launch or attach to an interactive CPU node.\r\n  tpunode      Launch or attach to an interactive TPU node.\r\n  storage      SkyPilot Storage CLI.\r\n  admin        SkyPilot On-prem administrator CLI.\r\n  bench        SkyPilot Benchmark CLI.\r\n```\r\nwhich roughly matches https://skypilot.readthedocs.io/en/latest/reference/cli.html.\r\n\r\nTODO in future PRs\r\n- [ ] add section titles to these commands\r\n- [ ] fix `launch` & `exec`'s help str displayed above\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - `sky <cmd> -h` for each command\r\n  - rendered docs locally and checked formatting\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1690/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1690/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1689",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1689/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1689/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1689/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1689",
        "id": 1578838699,
        "node_id": "I_kwDOF41eh85eGyqr",
        "number": 1689,
        "title": "[Core] `sky stop/start/down` cluster on a different GCP project",
        "user": {
            "login": "michaelzhiluo",
            "id": 20640975,
            "node_id": "MDQ6VXNlcjIwNjQwOTc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20640975?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelzhiluo",
            "html_url": "https://github.com/michaelzhiluo",
            "followers_url": "https://api.github.com/users/michaelzhiluo/followers",
            "following_url": "https://api.github.com/users/michaelzhiluo/following{/other_user}",
            "gists_url": "https://api.github.com/users/michaelzhiluo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/michaelzhiluo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/michaelzhiluo/subscriptions",
            "organizations_url": "https://api.github.com/users/michaelzhiluo/orgs",
            "repos_url": "https://api.github.com/users/michaelzhiluo/repos",
            "events_url": "https://api.github.com/users/michaelzhiluo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/michaelzhiluo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-10T01:13:44Z",
        "updated_at": "2023-03-02T21:01:53Z",
        "closed_at": "2023-03-02T21:01:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "We have recently switched to a new GCP project. When downing or stopping a cluster that was on the old GCP project, the error shows: \r\n```\r\n'wow' (GCP) is owned by account 'michael.luo@berkeley.edu\\n [project_id=[REDACTED_OLD]]', but the activated account is 'michael.luo@berkeley.edu\\n [project_id=[REDACTED_NEW]]'.\r\n``` \r\n\r\nShould Skypilot be aware/agnostic of what project each cluster is in for GCP?",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1689/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1689/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1688",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1688/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1688/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1688/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1688",
        "id": 1578767004,
        "node_id": "I_kwDOF41eh85eGhKc",
        "number": 1688,
        "title": "[UX] Show which files are currently being uploaded during provisioning",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294586,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/good%20first%20issue",
                "name": "good first issue",
                "color": "7057ff",
                "default": true,
                "description": "Good for newcomers"
            },
            {
                "id": 4209422626,
                "node_id": "LA_kwDOF41eh8765rEi",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/friction-log",
                "name": "friction-log",
                "color": "A0D2D1",
                "default": false,
                "description": ""
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "landscapepainter",
            "id": 34902420,
            "node_id": "MDQ6VXNlcjM0OTAyNDIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/34902420?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/landscapepainter",
            "html_url": "https://github.com/landscapepainter",
            "followers_url": "https://api.github.com/users/landscapepainter/followers",
            "following_url": "https://api.github.com/users/landscapepainter/following{/other_user}",
            "gists_url": "https://api.github.com/users/landscapepainter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/landscapepainter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/landscapepainter/subscriptions",
            "organizations_url": "https://api.github.com/users/landscapepainter/orgs",
            "repos_url": "https://api.github.com/users/landscapepainter/repos",
            "events_url": "https://api.github.com/users/landscapepainter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/landscapepainter/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "landscapepainter",
                "id": 34902420,
                "node_id": "MDQ6VXNlcjM0OTAyNDIw",
                "avatar_url": "https://avatars.githubusercontent.com/u/34902420?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/landscapepainter",
                "html_url": "https://github.com/landscapepainter",
                "followers_url": "https://api.github.com/users/landscapepainter/followers",
                "following_url": "https://api.github.com/users/landscapepainter/following{/other_user}",
                "gists_url": "https://api.github.com/users/landscapepainter/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/landscapepainter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/landscapepainter/subscriptions",
                "organizations_url": "https://api.github.com/users/landscapepainter/orgs",
                "repos_url": "https://api.github.com/users/landscapepainter/repos",
                "events_url": "https://api.github.com/users/landscapepainter/events{/privacy}",
                "received_events_url": "https://api.github.com/users/landscapepainter/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 11,
        "created_at": "2023-02-09T23:32:55Z",
        "updated_at": "2023-10-27T05:13:27Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Paraphrased story from user:\r\n\r\n> Sometimes I have large temporary files in my workdir. When I run `sky launch`, it takes a long time uploading these large files which I do not want. Worse, there's no message on which files are being uploaded, so I don't know why it's taking so long. You do show a warning, but that\u2019s meaningless since my workdir is large and I see that warning every time. I know you have gitignore integration, but that's not useful since some of these files actually need to be uploaded. Can you show which file you\u2019re currently uploading so I know what\u2019s going on and I can ctrl + c?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1688/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1688/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1687",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1687/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1687/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1687/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1687",
        "id": 1578427721,
        "node_id": "I_kwDOF41eh85eFOVJ",
        "number": 1687,
        "title": "[Storage] Error message for Cloud URIs in source list is inaccurate",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-09T18:56:26Z",
        "updated_at": "2023-06-24T02:44:48Z",
        "closed_at": "2023-06-24T02:44:48Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "When I am trying to launch a yaml below\r\n```\r\nfile_mounts:\r\n  /test:\r\n    name: test-bucket-zhwu\r\n    source: ['s3://test-bucket-zhwu', 'test.yaml']\r\n    mode: COPY\r\n```\r\nThe error message shows that `sky.exceptions.StorageSourceError: Local source path does not exist: s3://test-bucket-zhwu`. Do we want to instead hint to the user that the list should not include bucket instead? (Not urgent)\r\n\r\n_Originally posted by @Michaelvll in https://github.com/skypilot-org/skypilot/pull/1677#pullrequestreview-1286179705_\r\n            ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1687/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1687/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1686",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1686/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1686/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1686/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1686",
        "id": 1577585424,
        "node_id": "PR_kwDOF41eh85JmixR",
        "number": 1686,
        "title": "[test] Add option for termination on failure and set spot controller cloud for testing",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-09T10:01:40Z",
        "updated_at": "2023-02-10T04:44:15Z",
        "closed_at": "2023-02-10T04:44:12Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1686",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1686",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1686.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1686.patch",
            "merged_at": "2023-02-10T04:44:12Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\n1. Add option for termination on failure to avoid clusters forgot to be terminated after failure. `--terminate-on-failure`\r\n2. Set the cloud for spot controller to the generic cloud if the controller does not exist.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - [x] `pytest tests/test_smoke.py::test_spot` when the controller exists\r\n  - [x] `pytest tests/test_smoke.py::test_spot` when the controller does not exist\r\n  - [x] `pytest tests/test_smoke.py --terminate-on-failure`",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1686/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1686/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1685",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1685/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1685/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1685/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1685",
        "id": 1577237157,
        "node_id": "I_kwDOF41eh85eArql",
        "number": 1685,
        "title": "[Storage] Set file-mode 755 for mounted directories",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-09T04:54:18Z",
        "updated_at": "2023-06-24T02:44:46Z",
        "closed_at": "2023-06-24T02:44:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Goofys/gcsfuse do not preserve file permissions across mounts. If users store executables on mounted storage, they need to chmod +x every time they mount. Instead, we can pass the `--file-mode 755` flag during mount time to make this the default permission. Requested by user on slack.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1685/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1685/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1684",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1684/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1684/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1684/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1684",
        "id": 1576972796,
        "node_id": "PR_kwDOF41eh85JkgN2",
        "number": 1684,
        "title": "[minor] Format node providers",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-08T23:53:15Z",
        "updated_at": "2023-02-09T18:37:00Z",
        "closed_at": "2023-02-09T18:36:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1684",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1684",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1684.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1684.patch",
            "merged_at": "2023-02-09T18:36:56Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis PR adds the formating for lambda node providers with yapf and black for other clouds (due to the upstream ray codes)\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n- [x] `format.sh`\r\n- [x] github ci",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1684/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1684/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1683",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1683/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1683/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1683/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1683",
        "id": 1575332290,
        "node_id": "PR_kwDOF41eh85Je_v7",
        "number": 1683,
        "title": "Fix ssh config generation for multiple nodes",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-08T02:03:22Z",
        "updated_at": "2023-02-08T02:25:46Z",
        "closed_at": "2023-02-08T02:25:42Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1683",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1683",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1683.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1683.patch",
            "merged_at": "2023-02-08T02:25:42Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes #1682\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Test snippets in #1682\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1683/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1683/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1682",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1682/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1682/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1682/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1682",
        "id": 1575331508,
        "node_id": "I_kwDOF41eh85d5aa0",
        "number": 1682,
        "title": "Generated ssh config in a wrong format for multiple nodes",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-08T02:02:33Z",
        "updated_at": "2023-02-08T02:38:30Z",
        "closed_at": "2023-02-08T02:25:44Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "To reproduce:\r\n1. `sky launch -c test --num-nodes 4 --cpus 2`\r\n2. manually terminate 2 worker nodes\r\n3. `sky launch -c test --num-nodes 4`\r\n\r\nThe generated ssh config file (for the workers) becomes the following, which causes sytax error for `ssh`\r\n```\r\n# Added by sky (use `sky stop/down test` to remove)\r\nHost test-worker1\r\n  HostName 34.134.86.215\r\n  User gcpuser\r\n  IdentityFile /Users/zhwu/.ssh/sky-key\r\n  IdentitiesOnly yes\r\n  ForwardAgent yes\r\n  StrictHostKeyChecking no\r\n  UserKnownHostsFile=/dev/null\r\n  GlobalKnownHostsFile=/dev/null\r\n  Port 22# Added by sky (use `sky stop/down test` to remove)\r\nHost test-worker2\r\n  HostName 34.72.237.190\r\n  User gcpuser\r\n  IdentityFile /Users/zhwu/.ssh/sky-key\r\n  IdentitiesOnly yes\r\n  ForwardAgent yes\r\n  StrictHostKeyChecking no\r\n  UserKnownHostsFile=/dev/null\r\n  GlobalKnownHostsFile=/dev/null\r\n  Port 22# Added by sky (use `sky stop/down test` to remove)\r\nHost test-worker3\r\n  HostName 35.232.33.227\r\n  User gcpuser\r\n  IdentityFile /Users/zhwu/.ssh/sky-key\r\n  IdentitiesOnly yes\r\n  ForwardAgent yes\r\n  StrictHostKeyChecking no\r\n  UserKnownHostsFile=/dev/null\r\n  GlobalKnownHostsFile=/dev/null\r\n  Port 22\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1682/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1682/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1681",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1681/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1681/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1681/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1681",
        "id": 1575315692,
        "node_id": "I_kwDOF41eh85d5Wjs",
        "number": 1681,
        "title": "[UX] Container support for task",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294584,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg0",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            },
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-02-08T01:40:17Z",
        "updated_at": "2023-08-11T18:25:47Z",
        "closed_at": "2023-08-11T18:25:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "We have received multiple requests from our users for the native container support in the task yaml, so that they don't need to manually run the `docker pull` and `docker run` in the `setup` and `run` sections separately.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1681/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1681/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1680",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1680/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1680/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1680/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1680",
        "id": 1573599170,
        "node_id": "PR_kwDOF41eh85JZMcw",
        "number": 1680,
        "title": "Handle null usage intervals in duration computing",
        "user": {
            "login": "sumanthgenz",
            "id": 8069314,
            "node_id": "MDQ6VXNlcjgwNjkzMTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8069314?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumanthgenz",
            "html_url": "https://github.com/sumanthgenz",
            "followers_url": "https://api.github.com/users/sumanthgenz/followers",
            "following_url": "https://api.github.com/users/sumanthgenz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumanthgenz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumanthgenz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumanthgenz/subscriptions",
            "organizations_url": "https://api.github.com/users/sumanthgenz/orgs",
            "repos_url": "https://api.github.com/users/sumanthgenz/repos",
            "events_url": "https://api.github.com/users/sumanthgenz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumanthgenz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-07T03:03:35Z",
        "updated_at": "2023-02-22T20:17:34Z",
        "closed_at": "2023-02-22T20:17:34Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1680",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1680",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1680.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1680.patch",
            "merged_at": "2023-02-22T20:17:34Z"
        },
        "body": "For clusters that are very old and have no history due to being present before changes to `cluster_history` tracking for `sky cost-report`, we return zero duration and cost as a form of error-handling.\r\n\r\n\r\nTested (run the relevant ones):\r\n\r\nSimulated null usage intervals and start times and triggered the error-handling as seen below:\r\n\r\n```\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky cost-report\r\nClusters\r\nNAME     LAUNCHED      DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\ncluster  2 weeks ago   -         1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       -            \r\ncluster  2 weeks ago   -         1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       -            \r\ncluster  1 month ago   -         1x GCP(n1-highmem-8)               $ 0.473       -            \r\ncluster  1 month ago   -         1x GCP(n1-highmem-8)               $ 0.473       -            \r\nmin      2 months ago  -         1x AWS(m6i.2xlarge)                $ 0.384       -            \r\nmin      2 months ago  -         1x AWS(m6i.2xlarge)                $ 0.384       -            \r\nmount    2 months ago  -         1x GCP(n1-highmem-8)               $ 0.473       -            \r\nmount2   2 months ago  -         1x GCP(n1-highmem-8)               $ 0.473       -            \r\nmount    2 months ago  -         1x GCP(n1-highmem-8)               $ 0.473       -            \r\n\r\nManaged spot controller (will be autostopped if idle for 10min)\r\nNAME                          LAUNCHED    DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\nsky-spot-controller-d16122f1  3 days ago  -         1x AWS(m6i.2xlarge, disk_size=50)  $ 0.384       -  \r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1680/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1680/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1679",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1679/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1679/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1679/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1679",
        "id": 1573590346,
        "node_id": "PR_kwDOF41eh85JZKpA",
        "number": 1679,
        "title": "Nullify cost for autostop clusters in cost report",
        "user": {
            "login": "sumanthgenz",
            "id": 8069314,
            "node_id": "MDQ6VXNlcjgwNjkzMTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8069314?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumanthgenz",
            "html_url": "https://github.com/sumanthgenz",
            "followers_url": "https://api.github.com/users/sumanthgenz/followers",
            "following_url": "https://api.github.com/users/sumanthgenz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumanthgenz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumanthgenz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumanthgenz/subscriptions",
            "organizations_url": "https://api.github.com/users/sumanthgenz/orgs",
            "repos_url": "https://api.github.com/users/sumanthgenz/repos",
            "events_url": "https://api.github.com/users/sumanthgenz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumanthgenz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-02-07T02:50:16Z",
        "updated_at": "2023-09-17T02:02:12Z",
        "closed_at": "2023-09-17T02:02:12Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1679",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1679",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1679.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1679.patch",
            "merged_at": null
        },
        "body": "Addreses #1645.\r\n\r\nTested (run the relevant ones):\r\n\r\n```\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky cost-report\r\nClusters\r\nNAME     LAUNCHED      DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\ncluster  2 weeks ago   6m 19s    1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $0.311       \r\ncluster  2 weeks ago   22m 31s   1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $1.108       \r\ncluster  1 month ago   3m 41s    1x GCP(n1-highmem-8)               $ 0.473       $0.029       \r\ncluster  1 month ago   10m 13s   1x GCP(n1-highmem-8)               $ 0.473       $0.081       \r\nmin      2 months ago  6m 25s    1x AWS(m6i.2xlarge)                $ 0.384       $0.041       \r\nmin      2 months ago  24m 40s   1x AWS(m6i.2xlarge)                $ 0.384       $0.158       \r\nmount    2 months ago  7m 26s    1x GCP(n1-highmem-8)               $ 0.473       $0.059       \r\nmount2   2 months ago  12m 28s   1x GCP(n1-highmem-8)               $ 0.473       $0.098       \r\nmount    2 months ago  16m 26s   1x GCP(n1-highmem-8)               $ 0.473       $0.130       \r\n\r\nManaged spot controller (will be autostopped if idle for 10min)\r\nNAME                          LAUNCHED    DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\nsky-spot-controller-d16122f1  3 days ago  10m 25s   1x AWS(m6i.2xlarge, disk_size=50)  $ 0.384       -     \r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1679/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1679/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1678",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1678/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1678/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1678/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1678",
        "id": 1573506674,
        "node_id": "I_kwDOF41eh85dyc5y",
        "number": 1678,
        "title": "[Lambda Cloud] Handle `Ctrl-C` during launch",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3251294584,
                "node_id": "MDU6TGFiZWwzMjUxMjk0NTg0",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "ewzeng",
                "id": 46831164,
                "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
                "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ewzeng",
                "html_url": "https://github.com/ewzeng",
                "followers_url": "https://api.github.com/users/ewzeng/followers",
                "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
                "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
                "organizations_url": "https://api.github.com/users/ewzeng/orgs",
                "repos_url": "https://api.github.com/users/ewzeng/repos",
                "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ewzeng/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-07T00:47:29Z",
        "updated_at": "2023-03-17T07:27:39Z",
        "closed_at": "2023-03-17T07:27:39Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Running `sky launch --cloud lambda` followed immediately by `Ctrl-C` and `sky down -a` will yield:\r\n```\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042] **** STDERR ****\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042] 2023-02-06 16:45:39,483  INFO util.py:335 -- setting max workers for head node type to 0\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042] 2023-02-06 16:45:39,660  INFO util.py:335 -- setting max workers for head node type to 0\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042] Traceback (most recent call last):\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/bin/ray\", line 8, in <module>\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     sys.exit(main())\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/ray/scripts/scripts.py\", line 2339, in main\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     return cli()\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/click/core.py\", line 1128, in __call__\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     return self.main(*args, **kwargs)\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/click/core.py\", line 1053, in main\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     rv = self.invoke(ctx)\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/click/core.py\", line 1659, in invoke\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     return _process_result(sub_ctx.command.invoke(sub_ctx))\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/click/core.py\", line 1395, in invoke\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     return ctx.invoke(self.callback, **ctx.params)\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/click/core.py\", line 754, in invoke\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     return __callback(*args, **kwargs)\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/ray/autoscaler/_private/cli_logger.py\", line 852, in wrapper\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     return f(*args, **kwargs)\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/ray/scripts/scripts.py\", line 1224, in down\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     cluster_config_file, yes, workers_only, cluster_name, keep_min_workers\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/ray/autoscaler/_private/commands.py\", line 489, in teardown_cluster\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     A = remaining_nodes()\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/anaconda3/envs/sky/lib/python3.7/site-packages/ray/autoscaler/_private/commands.py\", line 456, in remaining_nodes\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     head = provider.non_terminated_nodes({TAG_RAY_NODE_KIND: NODE_KIND_HEAD})\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/Desktop/ezeng/research/skypilot/sky/skylet/providers/lambda_cloud/node_provider.py\", line 143, in non_terminated_nodes\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     nodes = self._get_filtered_nodes(tag_filters=tag_filters)\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/Desktop/ezeng/research/skypilot/sky/skylet/providers/lambda_cloud/node_provider.py\", line 33, in wrapper\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     return f(self, *args, **kwargs)\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/Desktop/ezeng/research/skypilot/sky/skylet/providers/lambda_cloud/node_provider.py\", line 113, in _get_filtered_nodes\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     nodes = [self._extract_metadata(vm) for vm in filter(match_tags, vms)]\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/Desktop/ezeng/research/skypilot/sky/skylet/providers/lambda_cloud/node_provider.py\", line 113, in <listcomp>\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     nodes = [self._extract_metadata(vm) for vm in filter(match_tags, vms)]\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]   File \"/home/zeng/Desktop/ezeng/research/skypilot/sky/skylet/providers/lambda_cloud/node_provider.py\", line 122, in _extract_metadata\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]     ip = vm['ip']\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042] KeyError: 'ip'\r\nE 02-06 16:45:41 cloud_vm_ray_backend.py:3042]\r\n```\r\nThis is because Lambda Cloud assigns ips after a cluster has booted. We should throw a error message to tell users to wait a few minutes before trying `sky down -a` again.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1678/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1678/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1677",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1677/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1677/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1677/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1677",
        "id": 1573232491,
        "node_id": "PR_kwDOF41eh85JX9NV",
        "number": 1677,
        "title": "[Storage] Fix multi-file support for COPY mode",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-06T20:30:13Z",
        "updated_at": "2023-02-20T20:49:50Z",
        "closed_at": "2023-02-20T20:49:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1677",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1677",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1677.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1677.patch",
            "merged_at": "2023-02-20T20:49:46Z"
        },
        "body": "Closes #1676. \r\n\r\nTested:\r\n\r\n- [x] Snippets from #1676.\r\n- [x] Storage smoke tests: `pytest tests/test_smoke.py::test_aws_storage_mounts --aws && pytest tests/test_smoke.py::test_gcp_storage_mounts && pytest tests/test_smoke.py::TestStorageWithCredentials` \r\n- [x] Storage tests `pytest tests/test_storage.py`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1677/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1677/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1676",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1676/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1676/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1676/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1676",
        "id": 1573086079,
        "node_id": "I_kwDOF41eh85dw2N_",
        "number": 1676,
        "title": "[Storage] Multi-file source does not work with `mode: COPY`",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-06T18:37:13Z",
        "updated_at": "2023-02-20T20:49:47Z",
        "closed_at": "2023-02-20T20:49:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Reported by user on slack:\r\n\r\n```\r\nfile_mounts:\r\n  /sky_repo:\r\n    name: romil-bucket-test1\r\n    source: ['~/tmpfile', '~/tmp/romil-test.txt']\r\n    mode: COPY\r\n```\r\n\r\n```\r\nI 02-06 10:33:48 storage.py:1357] Created GCS bucket romil-bucket-test1 in US-CENTRAL1 with storage class STANDARD\r\nTraceback (most recent call last):\r\n  File \"/mnt/d/wsl/anaconda3/bin/sky\", line 8, in <module>\r\n    sys.exit(cli())\r\n  File \"/mnt/d/wsl/anaconda3/lib/python3.7/site-packages/click/core.py\", line 1128, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/mnt/d/wsl/anaconda3/lib/python3.7/site-packages/click/core.py\", line 1053, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/utils/common_utils.py\", line 220, in _record\r\n    return f(*args, **kwargs)\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/cli.py\", line 1010, in invoke\r\n    return super().invoke(ctx)\r\n  File \"/mnt/d/wsl/anaconda3/lib/python3.7/site-packages/click/core.py\", line 1659, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/mnt/d/wsl/anaconda3/lib/python3.7/site-packages/click/core.py\", line 1395, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/mnt/d/wsl/anaconda3/lib/python3.7/site-packages/click/core.py\", line 754, in invoke\r\n    return __callback(*args, **kwargs)\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/utils/common_utils.py\", line 241, in _record\r\n    return f(*args, **kwargs)\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/cli.py\", line 1254, in launch\r\n    is_local_cloud=onprem_utils.check_if_local_cloud(cluster))\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/cli.py\", line 755, in _launch_with_confirm\r\n    no_setup=no_setup,\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/utils/common_utils.py\", line 241, in _record\r\n    return f(*args, **kwargs)\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/utils/common_utils.py\", line 241, in _record\r\n    return f(*args, **kwargs)\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/execution.py\", line 432, in launch\r\n    _is_launched_by_spot_controller=_is_launched_by_spot_controller,\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/execution.py\", line 262, in _execute\r\n    task.sync_storage_mounts()\r\n  File \"/mnt/d/Romil/Berkeley/Research/sky-experiments/sky/task.py\", line 729, in sync_storage_mounts\r\n    if storage.source.startswith('gs://'):\r\nAttributeError: 'list' object has no attribute 'startswith'\r\n```\r\n\r\nMulti-file seems to only work with `mode: MOUNT`.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1676/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1676/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1675",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1675/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1675/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1675/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1675",
        "id": 1571590371,
        "node_id": "PR_kwDOF41eh85JSeGU",
        "number": 1675,
        "title": "[Tests] Fix `f'no_{cloud_keyword}'` pytest mark",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-05T19:58:45Z",
        "updated_at": "2023-02-13T18:24:13Z",
        "closed_at": "2023-02-06T23:20:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1675",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1675",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1675.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1675.patch",
            "merged_at": "2023-02-06T23:20:19Z"
        },
        "body": "This fixes #1674 \r\n\r\nI tested this pr by creating a fake smoke test file:\r\n```\r\n...\r\ndef test_generic_one(generic_cloud: str):\r\n    name = _get_cluster_name()\r\n    test = Test(\r\n        f'generic_one_{generic_cloud}',\r\n        [\r\n            f'sleep 2',\r\n        ],\r\n    )\r\n    run_one_test(test)\r\n\r\n\r\ndef test_generic_two(generic_cloud: str):\r\n    name = _get_cluster_name()\r\n    test = Test(\r\n        f'generic_two_{generic_cloud}',\r\n        [\r\n            f'sleep 2',\r\n        ],\r\n    )\r\n    run_one_test(test)\r\n\r\n\r\n@pytest.mark.no_gcp\r\ndef test_generic_three(generic_cloud: str):\r\n    name = _get_cluster_name()\r\n    test = Test(\r\n        f'generic_three_{generic_cloud}',\r\n        [\r\n            f'sleep 2',\r\n        ],\r\n    )\r\n    run_one_test(test)\r\n\r\n\r\n@pytest.mark.no_lambda_cloud\r\ndef test_generic_four(generic_cloud: str):\r\n    name = _get_cluster_name()\r\n    test = Test(\r\n        f'generic_four_{generic_cloud}',\r\n        [\r\n            f'sleep 2',\r\n        ],\r\n    )\r\n    run_one_test(test)\r\n\r\n@pytest.mark.gcp\r\ndef test_gcp():\r\n    name = _get_cluster_name()\r\n    test = Test(\r\n        'gcp',\r\n        [\r\n            f'sleep 2',\r\n        ],\r\n    )\r\n    run_one_test(test)\r\n\r\n@pytest.mark.aws\r\ndef test_aws():\r\n    name = _get_cluster_name()\r\n    test = Test(\r\n        'aws',\r\n        [\r\n            f'sleep 2',\r\n        ],\r\n    )\r\n    run_one_test(test)\r\n\r\n@pytest.mark.lambda_cloud\r\ndef test_lambda():\r\n    name = _get_cluster_name()\r\n    test = Test(\r\n        'lambda',\r\n        [\r\n            f'sleep 2',\r\n        ],\r\n    )\r\n    run_one_test(test)\r\n```\r\nand running\r\n```\r\npytest tests/test_smoke_fake.py\r\npytest tests/test_smoke_fake.py --lambda\r\npytest tests/test_smoke_fake.py --generic-cloud gcp --gcp --lambda\r\npytest tests/test_smoke_fake.py --generic-cloud lambda --lamdba --gcp\r\npytest tests/test_smoke_fake.py --aws\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1675/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1675/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1674",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1674/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1674/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1674/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1674",
        "id": 1571570571,
        "node_id": "I_kwDOF41eh85drEOL",
        "number": 1674,
        "title": "Smoke tests always skipped when `no_lambda_cloud` is marked",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-05T18:58:14Z",
        "updated_at": "2023-02-06T23:20:21Z",
        "closed_at": "2023-02-06T23:20:21Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "If a smoke test is marked with `no_lambda_cloud`, it gets skipped no matter if we are running on Lambda cloud or not.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1674/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1674/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1673",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1673/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1673/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1673/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1673",
        "id": 1571512736,
        "node_id": "I_kwDOF41eh85dq2Gg",
        "number": 1673,
        "title": "Support auto selecting instance types via `memory` filter",
        "user": {
            "login": "concretevitamin",
            "id": 592670,
            "node_id": "MDQ6VXNlcjU5MjY3MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/592670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/concretevitamin",
            "html_url": "https://github.com/concretevitamin",
            "followers_url": "https://api.github.com/users/concretevitamin/followers",
            "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}",
            "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions",
            "organizations_url": "https://api.github.com/users/concretevitamin/orgs",
            "repos_url": "https://api.github.com/users/concretevitamin/repos",
            "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/concretevitamin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            },
            {
                "id": 4326425650,
                "node_id": "LA_kwDOF41eh88AAAABAeAEMg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/feature-request",
                "name": "feature-request",
                "color": "7E61BF",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-05T16:32:48Z",
        "updated_at": "2023-03-15T05:04:34Z",
        "closed_at": "2023-03-15T05:04:34Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "User requested:\r\n\r\n> I saw that Sky recently added support for specifying cpu resource constraints. Would it be possible to add memory resource constraints too? The use case is that I\u2019m using dev instance to do some data analysis that requires a certain amount of memory to be available.\r\n\r\nThe user manually selected `r6i.metal` w/ 1TB memory, 128 vCPUs. The user did not see that `x2gd.metal` (Graviton) with 1TB mem, 64 vCPUs would be much cheaper. On this suggestion the user +1'd the auto selection by memory. (NOTE: we don't currently support it but will soon; but the point is there's complexity involved in selecting the best feasible instance type.) \r\n\r\nThe user confirmed that the main motivation is not have to worry about learning which instance type to pick.\r\n\r\ncc @WoosukKwon ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1673/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1673/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1672",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1672/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1672/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1672/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1672",
        "id": 1571337657,
        "node_id": "I_kwDOF41eh85dqLW5",
        "number": 1672,
        "title": "[CPU] `sky launch --cpus 2 -c existing-cluster` fails",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-05T08:54:18Z",
        "updated_at": "2023-02-15T20:39:55Z",
        "closed_at": "2023-02-15T20:39:55Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "It seems we block the `sky launch` with the CPUs specified on an existing cluster. That is inconsistent with other options, such as `--instance-type`. Is it intended @WoosukKwon?",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1672/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1672/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1671",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1671/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1671/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1671/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1671",
        "id": 1571304741,
        "node_id": "PR_kwDOF41eh85JRsBi",
        "number": 1671,
        "title": "[core] Avoid `ray up` checking the launch hash to get rid of resource leakage",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-05T08:00:46Z",
        "updated_at": "2023-02-09T09:16:46Z",
        "closed_at": "2023-02-09T09:16:42Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1671",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1671",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1671.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1671.patch",
            "merged_at": "2023-02-09T09:16:42Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\n## Background\r\nray autoscaler uses `launch_hash` which is computed from the ray up yaml to check if the launched cluster is up-to-date, in terms of providers/node_configs (launch hash calculation code [reference](https://github.com/ray-project/ray/blob/releases/2.2.0/python/ray/autoscaler/_private/util.py#L392-L404)).\r\n\r\nThis causes a lot of resource leakage issues for our use case, such as #1054. Note: this PR has not solved the issue in #1054, as we will also need to change the ray yaml generated by SkyPilot for an existing cluster to only contain the availability zone that the previous cluster was in (We can do it in the next PR).\r\n\r\n## Changes\r\n\r\n1. Patches for ray autoscaler\r\n    This PR patches `ray` to avoid checking the `launch_hash` for the both head node and worker nodes launched by `ray up`, as outer-level SkyPilot code will guarantee that the configs are not changed for the nodes.\r\n    The patches in this PR are safe, as:\r\n    1. The patched `_should_create_new_head` function in `python/ray/autoscaler/_private/commands.py` has not been changed since `ray==1.5` (https://github.com/ray-project/ray/commit/a27a8172cc63aec3eabd38743e8cf5ad6385a0ca), which is older than the `ray` version we support.\r\n    2. The `disable_launch_config_check` option was added to `python/ray/autoscaler/_private/autoscaler.py` since `ray==1.8` (https://github.com/ray-project/ray/commit/6cacc547747eb6e0d8c6b3d417f0031693a1bbd6), which is also older than the `ray` version we support.\r\n2.  Get rid of launch hash for status refresh\r\n3.  Use the patched ray up for autostop\r\n\r\n## TODOs\r\n\r\n- [x] Add tests for changing `launch_config` of an existing cluster. https://github.com/skypilot-org/skypilot/pull/1671#issuecomment-1419991329\r\n\r\n## Problem not solved by this PR\r\n\r\nWhen there are leaked resources with the same cluster name as the UP cluster, `sky down` the cluster will not automatically clean up the leaked resources. Reason: `ray down` can only terminate the nodes managed by the autoscaler.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] Any manual or new tests for this PR (please specify below)\r\n  - [x] `sky launch -i 1 --cloud gcp test-autostop echo hi`; `sky status -r`\r\n  - [x] `sky launch -i 1 --cloud aws -t t3.micro test-autostop echo hi`; `sky status -r`\r\n  - [x] Do not leak resources on GCP when the launch config changes: `sky launch -i 1 --cloud gcp test-patched echo hi`; `sky status -r`; manually change the label `launch_config` on the console; `sky launch -i 1 --cloud gcp test-patched echo hi`; no cluster leaked; `sky status -r`\r\n  - [x] Do not leak resources on AWS when the launch config changes: `sky launch -i 1 --cloud aws test-patched-aws echo hi`; `sky status -r`; manually change the label `launch_config` on the console; `sky launch -i 1 -c test-patched-aws echo hi`; no cluster leaked; `sky status -r`\r\n  - [x] Do not leak resources on Azure when the launch config changes: `sky launch -i 1 --cloud azure test-patched-azure echo hi`; `sky status -r`; manually change the label `launch_config` on the console; `sky launch -i 1 -c test-patched-azure echo hi`; no cluster leaked; `sky status -r`\r\n  - [x] Handling leaked resources: \r\n          1. With master branch: `sky launch -i 1 --cloud aws -c test-patched-aws echo hi`; `sky status -r`; manually change the label `launch_config` on the console; `sky launch -i 1 -c test-patched-aws echo hi` with master branch; \r\n          2. There are two resources on the console now (1 UP, 1 leaked stopped node)\r\n          3. `sky status -r` with current PR. The leakage will be detected and warn\r\n               <img width=\"1449\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/216914078-c37a8b10-c417-438b-9d10-460d382c2cb7.png\">\r\n           4. Terminate leaked resources on the console and `sky status -r`\r\n  - [x] Restart clusters with multiple leaked resources: Repeat the handling leaked resources 1-3, `sky launch -i 1 --cloud aws -c test-patched-aws echo hi`\r\n          <img width=\"888\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/217097390-fcb86635-6cb1-4b71-bf79-c7a8d20a97ba.png\">\r\n  - [x] Terminate clusters with multiple leaked resources: Repeat the handling leaked resources 1-3, `sky down test-patched-aws`\r\n          <img width=\"887\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/217097564-fc3f5e45-4c3a-49fb-9b5a-70029eb33dae.png\">\r\n  - [x] `sky down test-patched*`\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n- [x] All smoke tests: `pytest tests/test_smoke.py --aws` ",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1671/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1671/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1670",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1670/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1670/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1670/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1670",
        "id": 1571287226,
        "node_id": "I_kwDOF41eh85dp_C6",
        "number": 1670,
        "title": "[Spot] [Cost Report] CLI for getting VM cost for spot jobs",
        "user": {
            "login": "sumanthgenz",
            "id": 8069314,
            "node_id": "MDQ6VXNlcjgwNjkzMTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8069314?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumanthgenz",
            "html_url": "https://github.com/sumanthgenz",
            "followers_url": "https://api.github.com/users/sumanthgenz/followers",
            "following_url": "https://api.github.com/users/sumanthgenz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumanthgenz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumanthgenz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumanthgenz/subscriptions",
            "organizations_url": "https://api.github.com/users/sumanthgenz/orgs",
            "repos_url": "https://api.github.com/users/sumanthgenz/repos",
            "events_url": "https://api.github.com/users/sumanthgenz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumanthgenz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-02-05T06:32:28Z",
        "updated_at": "2023-10-24T02:01:41Z",
        "closed_at": "2023-10-24T02:01:41Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Add cost report for spot jobs, which users can see via `sky spot cost`.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1670/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1670/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1669",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1669/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1669/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1669/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1669",
        "id": 1571286981,
        "node_id": "PR_kwDOF41eh85JRos1",
        "number": 1669,
        "title": "[Spot] [Cost Report] Add CLI support for getting VM cost for spot jobs",
        "user": {
            "login": "sumanthgenz",
            "id": 8069314,
            "node_id": "MDQ6VXNlcjgwNjkzMTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8069314?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumanthgenz",
            "html_url": "https://github.com/sumanthgenz",
            "followers_url": "https://api.github.com/users/sumanthgenz/followers",
            "following_url": "https://api.github.com/users/sumanthgenz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumanthgenz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumanthgenz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumanthgenz/subscriptions",
            "organizations_url": "https://api.github.com/users/sumanthgenz/orgs",
            "repos_url": "https://api.github.com/users/sumanthgenz/repos",
            "events_url": "https://api.github.com/users/sumanthgenz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumanthgenz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 9,
        "created_at": "2023-02-05T06:30:59Z",
        "updated_at": "2023-11-23T02:06:05Z",
        "closed_at": "2023-11-23T02:06:04Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1669",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1669",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1669.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1669.patch",
            "merged_at": null
        },
        "body": "Add `sky spot cost`, which will calculate cluster cost for a spot job. Since a spot job can be preempted and re-launched with new clusters, the job's cost is aggregated over all of its relaunched clusters. The spot controller's cost is included with `sky cost-report` along with the other on-demand clusters. Users can also do `sky cost spot --split` to see a breakdown of each spot job's clusters across its multiple preemptions and recoveries. Addresses #1670.\r\n\r\nTested:\r\n\r\nBelow is the local CLI results when running `sky spot cost`:\r\n\r\n```\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky spot cost-report\r\nFetching managed spot job statuses...\r\nManaged spot jobs (showing in-progress jobs only):\r\nNAME            RESOURCES                 NODES  REGION    TOT. DURATION  TOT. COST  \r\nspot-cluster-1  GCP(n2-standard-8[Spot])  1      us-west4  28m 30s        $0.039     \r\n\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky spot cost-report\r\nFetching managed spot job statuses...\r\nManaged spot jobs (showing in-progress jobs only):\r\nNAME            RESOURCES                 NODES  REGION    TOT. DURATION  TOT. COST  \r\nspot-cluster-1  GCP(n2-standard-8[Spot])  1      us-west4  28m 59s        $0.040     \r\n\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky spot cancel 1\r\nCancelling managed spot jobs with IDs 1. Proceed? [Y/n]: y\r\nI 02-05 06:21:53 spot_utils.py:155] Cancelling jobs 1.\r\nJob with ID 1 is scheduled to be cancelled.\r\n\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky spot cost-report    \r\nFetching managed spot job statuses...\r\nManaged spot jobs (showing in-progress jobs only):\r\nNAME            RESOURCES                 NODES  REGION    TOT. DURATION  TOT. COST  \r\nspot-cluster-1  GCP(n2-standard-8[Spot])  1      us-west4  29m 52s        $0.041     \r\n\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky spot cost-report\r\nFetching managed spot job statuses...\r\nManaged spot jobs (showing in-progress jobs only):\r\nNAME            RESOURCES                 NODES  REGION    TOT. DURATION  TOT. COST  \r\nspot-cluster-1  GCP(n2-standard-8[Spot])  1      us-west4  30m 16s        $0.042     \r\n\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky spot cost-report\r\nFetching managed spot job statuses...\r\nManaged spot jobs (showing in-progress jobs only):\r\nNAME            RESOURCES                 NODES  REGION    TOT. DURATION  TOT. COST  \r\nspot-cluster-1  GCP(n2-standard-8[Spot])  1      us-west4  30m 16s        $0.042     \r\n\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky cost-report\r\nClusters\r\nNAME     LAUNCHED      DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\ncluster  2 weeks ago   6m 19s    1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $0.311       \r\ncluster  2 weeks ago   22m 31s   1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $1.108       \r\ncluster  1 month ago   3m 41s    1x GCP(n1-highmem-8)               $ 0.473       $0.029       \r\ncluster  1 month ago   10m 13s   1x GCP(n1-highmem-8)               $ 0.473       $0.081       \r\nmin      2 months ago  6m 25s    1x AWS(m6i.2xlarge)                $ 0.384       $0.041       \r\nmin      2 months ago  24m 40s   1x AWS(m6i.2xlarge)                $ 0.384       $0.158       \r\nmount    2 months ago  7m 26s    1x GCP(n1-highmem-8)               $ 0.473       $0.059       \r\nmount2   2 months ago  12m 28s   1x GCP(n1-highmem-8)               $ 0.473       $0.098       \r\nmount    2 months ago  16m 26s   1x GCP(n1-highmem-8)               $ 0.473       $0.130       \r\n\r\nManaged spot controller (will be autostopped if idle for 10min)\r\nNAME                          LAUNCHED   DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\nsky-spot-controller-d16122f1  1 day ago  10m 25s   1x AWS(m6i.2xlarge, disk_size=50)  $ 0.384       $0.067     \r\n```\r\n\r\nThe spot job cluster `spot-cluster-1` was manually preempted several times via GCP console. I verified that `sky cost-report` ran correctly on the controller itself:\r\n\r\n```\r\n(before preemption)\r\ngcpuser@ray-sky-spot-controller-d16122f1-head-091679ac-compute:~$ sky cost-report\r\nClusters\r\nNAME            LAUNCHED    DURATION  RESOURCES                    HOURLY_PRICE  COST (est.)  \r\nspot-cluster-1  8 mins ago  8m 48s    1x GCP(n2-standard-8[Spot])  $ 0.083       $0.012     \r\n\r\n(during preemption)\r\n\r\ngcpuser@ray-sky-spot-controller-d16122f1-head-091679ac-compute:~$ sky cost-report\r\nClusters\r\nNAME            LAUNCHED    DURATION  RESOURCES                    HOURLY_PRICE  COST (est.)  \r\nspot-cluster-1  9 mins ago  9m 14s    1x GCP(n2-standard-8[Spot])  $ 0.083       $0.013     \r\n\r\n(after recovery)\r\n\r\ngcpuser@ray-sky-spot-controller-d16122f1-head-091679ac-compute:~$ sky cost-report\r\nClusters\r\nNAME            LAUNCHED     DURATION  RESOURCES                    HOURLY_PRICE  COST (est.)  \r\nspot-cluster-1  19 secs ago  19s       1x GCP(n2-standard-8[Spot])  $ 0.083       $0.000       \r\nspot-cluster-1  9 mins ago   9m 16s    1x GCP(n2-standard-8[Spot])  $ 0.083       $0.013    \r\n```\r\n\r\nAfter preempting and recovering a spot job, I also tested `sky spot cost-report`, which displays each preemption and associated duration and cost data.\r\n\r\n```\r\n...\r\n5       spot-cluster     3             -                         -      -                          4 months ago  18m 35s        $0.031     \r\n                                       GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago   7m 11s         $0.012    \r\n                                       GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago   6m 59s         $0.012    \r\n                                       GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago   4m 25s         $0.007    \r\n                                                                                                                                           \r\n4       spot-cluster     2             -                         -      -                          4 months ago  19m 17s        $0.032     \r\n                                       GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago   11m 25s        $0.019    \r\n                                       GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago   7m 52s         $0.013    \r\n                                                                                                                                           \r\n3       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  8m 31s         $0.014     \r\n                                                                                                                                           \r\n2       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  12m 11s        $0.020     \r\n                                                                                                                                           \r\n1       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  10m 30s        $0.018    \r\n\r\n```\r\n\r\nWe can consolidate this information (duration and cost) into a single row for a given spot task by using `--condensed=True`.\r\n\r\n```\r\n...\r\n5       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  18m 35s        $0.031     \r\n                                                                                                                                           \r\n4       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  19m 17s        $0.032     \r\n                                                                                                                                           \r\n3       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  8m 31s         $0.014     \r\n                                                                                                                                           \r\n2       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  12m 11s        $0.020     \r\n                                                                                                                                           \r\n1       spot-cluster     0             GCP(n2-standard-8[Spot])  1      us-west4-a                 4 months ago  10m 30s        $0.018  \r\n```\r\n\r\nHere is `sky spot cost-report` working correctly with multi-task spot jobs, in terms of displaying `job_id`, `resources` and `cost` correctly. Note here we are not using `--all`, and thus by default we only display 5 rows (excluding preemption rows when --condensed is False).\r\n\r\n```\r\n(sky) sumanth@MacBook-Pro-5 skypilot % sky spot cost-report \r\nFetching managed spot job costs...\r\nManaged spot jobs:\r\nJOB ID  JOB NAME         # RECOVERIES  RESOURCES                 NODES  ZONE                       LAUNCH TIME  TOT. DURATION  TOT. COST  \r\n11      spot-sub-task-0  0             GCP(n2-standard-2[Spot])  1      northamerica-northeast2-a  1 hr ago     4m 43s         $0.001     \r\n                                                                                                                                          \r\n11      spot-sub-task-1  0             GCP(n2-standard-2[Spot])  3      northamerica-northeast2-a  1 hr ago     7m 31s         $0.004     \r\n                                                                                                                                          \r\n11      spot-sub-task-2  0             GCP(n2-standard-8[Spot])  1      northamerica-northeast2-a  1 hr ago     20m 32s        $0.015     \r\n                                                                                                                                          \r\n10      spot-sub-task-0  0             GCP(n2-standard-8[Spot])  1      northamerica-northeast2-a  1 hr ago     4m 10s         $0.003     \r\n                                                                                                                                          \r\n10      spot-sub-task-1  0             GCP(n2-standard-2[Spot])  1      us-east4-b                 1 hr ago     4m 25s         $0.002   \r\n\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1669/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1669/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1668",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1668/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1668/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1668/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1668",
        "id": 1571075481,
        "node_id": "PR_kwDOF41eh85JRGMQ",
        "number": 1668,
        "title": "[Spot] Add termination and cancellation for spot jobs into the usage collection",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-04T18:48:01Z",
        "updated_at": "2023-02-08T05:49:19Z",
        "closed_at": "2023-02-08T05:49:16Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1668",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1668",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1668.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1668.patch",
            "merged_at": "2023-02-08T05:49:16Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis PR is to make sure the usage collection for the spot jobs contain the cancellation and termination action.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] `sky spot launch -n test-termination echo hi` and check the dashboard\r\n- [x] `sky spot launch -n test-cancel sleep 10000` and terminate on the console",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1668/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1668/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1667",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1667/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1667/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1667/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1667",
        "id": 1570840379,
        "node_id": "PR_kwDOF41eh85JQWcz",
        "number": 1667,
        "title": "[Spot] Disallow `sky down` spot controller when in-progress spot jobs exist",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-04T08:49:43Z",
        "updated_at": "2023-02-12T04:27:22Z",
        "closed_at": "2023-02-12T04:27:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1667",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1667",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1667.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1667.patch",
            "merged_at": "2023-02-12T04:27:19Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFixes #1666\r\n\r\nWith this PR the following message will show if `sky down` the spot controller with in-progress spot jobs:\r\n<img width=\"799\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/216758225-2654732a-ea1d-4800-8b84-1e5fa2927bcc.png\">\r\n\r\n\r\nTested:\r\n- [x] `sky down sky-spot-controller-<hash>` with in-progress spot jobs",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1667/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1667/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1666",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1666/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1666/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1666/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1666",
        "id": 1570653344,
        "node_id": "I_kwDOF41eh85dnkSg",
        "number": 1666,
        "title": "[Spot] Disallow terminating the spot cluster when there is spot jobs running",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            },
            {
                "id": 4209422626,
                "node_id": "LA_kwDOF41eh8765rEi",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/friction-log",
                "name": "friction-log",
                "color": "A0D2D1",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-04T00:18:37Z",
        "updated_at": "2023-02-12T04:27:20Z",
        "closed_at": "2023-02-12T04:27:20Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Requested by user:\r\n\r\nWe should ban the termination of the spot controller (not even showing the prompt) when there is spot job running to avoid spot resources leakage.\r\n\r\nWe should also make the termination of the spot controller harder, by asking the user to type `I understand` etc instead of simply a `y` for terminating the controller.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1666/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1666/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1665",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1665/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1665/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1665/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1665",
        "id": 1570562809,
        "node_id": "I_kwDOF41eh85dnOL5",
        "number": 1665,
        "title": "[UX] Show in-progress jobs in the `sky status`",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3728114870,
                "node_id": "LA_kwDOF41eh87eNoS2",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P0",
                "name": "P0",
                "color": "CF002E",
                "default": false,
                "description": ""
            },
            {
                "id": 4209422626,
                "node_id": "LA_kwDOF41eh8765rEi",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/friction-log",
                "name": "friction-log",
                "color": "A0D2D1",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-03T22:26:00Z",
        "updated_at": "2023-02-26T05:40:17Z",
        "closed_at": "2023-02-26T05:40:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Discussed with @concretevitamin and requested by a user, this is an important UX to provide a single place for the user to check all the resources they are using to avoid forgetting some of the resources. \r\n\r\nWe can show the cluster status first -> spiner for fetching the inprogress spot job -> all the info.",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1665/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1665/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1664",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1664/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1664/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1664/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1664",
        "id": 1569150046,
        "node_id": "PR_kwDOF41eh85JKotA",
        "number": 1664,
        "title": "Add lock for aws session creation",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-03T03:25:23Z",
        "updated_at": "2023-02-05T05:38:15Z",
        "closed_at": "2023-02-05T05:38:12Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1664",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1664",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1664.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1664.patch",
            "merged_at": "2023-02-05T05:38:12Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nA user reported a transient error when running the `sky status -r` \r\n\r\n```\r\n[2023-02-02 22:04:47.820926 HKT] Failed to connect to cluster; refreshing cluster status...\r\nW 02-02 22:05:14 backend_utils.py:2324] Failed to refresh status for 6 clusters:\r\nW 02-02 22:05:14 backend_utils.py:2327]   cluster1: Failed to get AWS user.\r\nW 02-02 22:05:14 backend_utils.py:2327]   Reason: [builtins.KeyError]: 'credential_provider'.\r\nW 02-02 22:05:14 backend_utils.py:2327]   cluster2: Failed to get AWS user.\r\nW 02-02 22:05:14 backend_utils.py:2327]   Reason: [builtins.KeyError]: 'endpoint_resolver'.\r\nW 02-02 22:05:14 backend_utils.py:2327]   cluster3: Failed to get AWS user.\r\nW 02-02 22:05:14 backend_utils.py:2327]   Reason: [builtins.KeyError]: 'credential_provider'.\r\nW 02-02 22:05:14 backend_utils.py:2327]   cluster4: Failed to get AWS user.\r\nW 02-02 22:05:14 backend_utils.py:2327]   Reason: [builtins.KeyError]: 'endpoint_resolver'.\r\nW 02-02 22:05:14 backend_utils.py:2327]   cluster5: Failed to get AWS user.\r\nW 02-02 22:05:14 backend_utils.py:2327]   Reason: [builtins.KeyError]: 'endpoint_resolver'.\r\nW 02-02 22:05:14 backend_utils.py:2327]   cluster6: Failed to get AWS user.\r\nW 02-02 22:05:14 backend_utils.py:2327]   Reason: [builtins.KeyError]: 'credential_provider'.\r\n```\r\n\r\nThis is because the AWS boto API is not threadsafe for creating the session: https://github.com/boto/boto3/issues/1592. We now add the lock to avoid the problem.\r\n\r\n\r\n### Overhead\r\nAverage `time sky status -r` among 10 times (on GCP n1-standard-4)\r\n#### 11 clusters with autostop set up\r\n42.1712s (current PR); 40.3s (original master), i.e. the current PR adds 5% overheads for `sky status -r` \r\n\r\n#### 6 clusters with autostop set up\r\n36.6466 (current PR), 35.2495s (original master), i.e. the current PR adds 4% overheads for `sky status -r`\r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [ ] `pytest tests/test_smoke.py --aws` \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1664/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1664/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1663",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1663/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1663/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1663/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1663",
        "id": 1568938267,
        "node_id": "PR_kwDOF41eh85JKCuv",
        "number": 1663,
        "title": "[Docs] CPU docs update",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-02T23:36:40Z",
        "updated_at": "2023-02-03T17:29:24Z",
        "closed_at": "2023-02-03T17:29:20Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1663",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1663",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1663.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1663.patch",
            "merged_at": "2023-02-03T17:29:20Z"
        },
        "body": "Adds a simple example to explain how the cpu+ field works.\r\n\r\nTested:\r\n- [x] Docs locally rendered\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1663/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1663/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1662",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1662/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1662/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1662/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1662",
        "id": 1568934512,
        "node_id": "I_kwDOF41eh85dhApw",
        "number": 1662,
        "title": "[Optimizer] Inconsistent error messages for infeasible resource specs",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5110061801,
                "node_id": "LA_kwDOF41eh88AAAABMJVa6Q",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P2",
                "name": "P2",
                "color": "9A9E69",
                "default": false,
                "description": ""
            },
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-02T23:31:16Z",
        "updated_at": "2023-06-23T02:44:55Z",
        "closed_at": "2023-06-23T02:44:55Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Error message when infeasible CPU requests are made:\r\n```\r\n(base) romilb@romilbx1yoga:/mnt/d/Romil/Berkeley/Research/sky-experiments$ sky launch --cpus 32+ --gpus V100:4 --instance-type p3.2xlarge\r\nValueError: p3.2xlarge does not have enough vCPUs. p3.2xlarge has 8.0 vCPUs, but 32+ is requested.\r\n```\r\n\r\nError message when infeasible GPU requests are made:\r\n```\r\n(base) romilb@romilbx1yoga:/mnt/d/Romil/Berkeley/Research/sky-experiments$ sky launch --gpus V100:4 --instance-type p3.2xlarge\r\nValueError: Infeasible resource demands found:\r\n  Instance type requested: p3.2xlarge\r\n  Accelerators for p3.2xlarge: {'V100': 1}\r\n  Accelerators requested: {'V100': 4}\r\nTo fix: either only specify instance_type, or change the accelerators field to be consistent.\r\n```\r\n\r\nShould we have a consistent error message format? E.g., CPU infeasible message should be:\r\n```\r\nValueError: Infeasible resource demands found:\r\n  Instance type requested: p3.2xlarge\r\n  CPUs for p3.2xlarge: 8\r\n  CPUs requested: 32+\r\nTo fix: either only specify instance_type, or change the cpus field to be consistent.\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1662/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1662/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1661",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1661/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1661/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1661/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1661",
        "id": 1568876677,
        "node_id": "PR_kwDOF41eh85JJ1j2",
        "number": 1661,
        "title": "[Setup] Pin Jinja2 version to avoid an markupsafe version",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-02T22:24:59Z",
        "updated_at": "2023-02-03T00:11:03Z",
        "closed_at": "2023-02-03T00:10:59Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1661",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1661",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1661.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1661.patch",
            "merged_at": "2023-02-03T00:10:59Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis is to fix the issue in https://github.com/pallets/jinja/issues/1585, raised by one of our user.\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - [x] `pip install .` in a new environment and `sky launch -c test --cloud gcp`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1661/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1661/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1660",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1660/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1660/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1660/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1660",
        "id": 1568752030,
        "node_id": "I_kwDOF41eh85dgUGe",
        "number": 1660,
        "title": "[Core] More robust backward compatibility when upgrading versions",
        "user": {
            "login": "romilbhardwaj",
            "id": 4416605,
            "node_id": "MDQ6VXNlcjQ0MTY2MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4416605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romilbhardwaj",
            "html_url": "https://github.com/romilbhardwaj",
            "followers_url": "https://api.github.com/users/romilbhardwaj/followers",
            "following_url": "https://api.github.com/users/romilbhardwaj/following{/other_user}",
            "gists_url": "https://api.github.com/users/romilbhardwaj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/romilbhardwaj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/romilbhardwaj/subscriptions",
            "organizations_url": "https://api.github.com/users/romilbhardwaj/orgs",
            "repos_url": "https://api.github.com/users/romilbhardwaj/repos",
            "events_url": "https://api.github.com/users/romilbhardwaj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/romilbhardwaj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-02T20:40:29Z",
        "updated_at": "2023-02-03T01:02:49Z",
        "closed_at": "2023-02-03T01:02:49Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "From @dongreenberg:\r\n\r\n> I\u2019ve gotten in the habit that any time I need to upgrade skypilot I totally uninstall and delete my ~/.sky directory. For some reason I\u2019ve always had trouble if I don\u2019t - exceptions that raise because of some malformed data or API expecting different input or something. I\u2019m not sure if you guys do this too but I found it to be necessary for every upgrade I\u2019ve done so far \r\n\r\nThis is related to pickling/unpickling failing when we change an object definition. We could use a less strict serialization, but that comes at the cost of code complexity (which might be ok).",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1660/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1660/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1659",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1659/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1659/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1659/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1659",
        "id": 1568702318,
        "node_id": "PR_kwDOF41eh85JJP2R",
        "number": 1659,
        "title": "[Lambda Cloud] Update docs and add `[lambda]` install option",
        "user": {
            "login": "ewzeng",
            "id": 46831164,
            "node_id": "MDQ6VXNlcjQ2ODMxMTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/46831164?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewzeng",
            "html_url": "https://github.com/ewzeng",
            "followers_url": "https://api.github.com/users/ewzeng/followers",
            "following_url": "https://api.github.com/users/ewzeng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewzeng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewzeng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewzeng/subscriptions",
            "organizations_url": "https://api.github.com/users/ewzeng/orgs",
            "repos_url": "https://api.github.com/users/ewzeng/repos",
            "events_url": "https://api.github.com/users/ewzeng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewzeng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-02T20:00:57Z",
        "updated_at": "2023-02-05T20:07:14Z",
        "closed_at": "2023-02-05T18:21:03Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1659",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1659",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1659.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1659.patch",
            "merged_at": "2023-02-05T18:21:03Z"
        },
        "body": "Add Lambda Cloud to documentation and add the `[lambda]` option. (The `[lambda]` option does not install anything extra, but is included for uniformity).\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1659/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1659/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1658",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1658/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1658/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1658/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1658",
        "id": 1567045493,
        "node_id": "PR_kwDOF41eh85JDqbg",
        "number": 1658,
        "title": "Support managing on-demand TPU",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-01T23:48:42Z",
        "updated_at": "2023-06-23T02:44:53Z",
        "closed_at": "2023-06-23T02:44:53Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1658",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1658",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1658.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1658.patch",
            "merged_at": null
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis PR implements a possible solution to https://github.com/skypilot-org/skypilot/issues/909.\r\nRecently users report their on-demand TPUs have been taken back quite frequently.\r\nThis PR does some small modification to make controller manage on-demand VMs.\r\nUser needs to add `--no-use-spot` to `spot launch` explicitly.\r\n```\r\nsky spot launch --no-use-spot tpuvm.yaml\r\n```\r\n\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Tested `sky spot launch --no-use-spot` a TPU VM and recovered successfully from preemption\r\n- [x] Add a new smoke test `pytest tests/test_smoke.py::test_on_demand_tpu_recovery_gcp`\r\n- [ ] All smoke tests: `pytest tests/test_smoke.py` \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1658/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1658/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1657",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1657/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1657/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1657/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1657",
        "id": 1566936648,
        "node_id": "PR_kwDOF41eh85JDTXD",
        "number": 1657,
        "title": "[Cost Report] Add basic time filtering",
        "user": {
            "login": "sumanthgenz",
            "id": 8069314,
            "node_id": "MDQ6VXNlcjgwNjkzMTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8069314?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumanthgenz",
            "html_url": "https://github.com/sumanthgenz",
            "followers_url": "https://api.github.com/users/sumanthgenz/followers",
            "following_url": "https://api.github.com/users/sumanthgenz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumanthgenz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumanthgenz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumanthgenz/subscriptions",
            "organizations_url": "https://api.github.com/users/sumanthgenz/orgs",
            "repos_url": "https://api.github.com/users/sumanthgenz/repos",
            "events_url": "https://api.github.com/users/sumanthgenz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumanthgenz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-01T22:24:37Z",
        "updated_at": "2023-06-23T02:44:51Z",
        "closed_at": "2023-06-23T02:44:51Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1657",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1657",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1657.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1657.patch",
            "merged_at": null
        },
        "body": "Using `sky cost-report -t h` for example, users can filter all clusters that were used in the last hour. This can be done for hour, day, week, month and year.\r\n\r\nAddresses #1646.\r\n\r\n\r\nTested:\r\n\r\n```\r\n(base) sumanth@MacBook-Pro-5 skypilot % sky cost-report -t y                                                    \r\nClusters\r\nNAME     LAUNCHED      DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\ncluster  1 week ago    6m 19s    1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $0.311       \r\ncluster  1 week ago    22m 31s   1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $1.108       \r\ncluster  1 month ago   3m 41s    1x GCP(n1-highmem-8)               $ 0.473       $0.029       \r\ncluster  1 month ago   10m 13s   1x GCP(n1-highmem-8)               $ 0.473       $0.081       \r\nmin      2 months ago  6m 25s    1x AWS(m6i.2xlarge)                $ 0.384       $0.041       \r\nmin      2 months ago  24m 40s   1x AWS(m6i.2xlarge)                $ 0.384       $0.158       \r\nmount    2 months ago  7m 26s    1x GCP(n1-highmem-8)               $ 0.473       $0.059       \r\nmount2   2 months ago  12m 28s   1x GCP(n1-highmem-8)               $ 0.473       $0.098       \r\nmount    2 months ago  16m 26s   1x GCP(n1-highmem-8)               $ 0.473       $0.130       \r\n\r\n(base) sumanth@MacBook-Pro-5 skypilot % sky cost-report -t m\r\nClusters\r\nNAME     LAUNCHED    DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\ncluster  1 week ago  6m 19s    1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $0.311       \r\ncluster  1 week ago  22m 31s   1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $1.108   \r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1657/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1657/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1656",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1656/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1656/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1656/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1656",
        "id": 1566794526,
        "node_id": "PR_kwDOF41eh85JC0FN",
        "number": 1656,
        "title": "[Cost Report] Add cluster name filtering",
        "user": {
            "login": "sumanthgenz",
            "id": 8069314,
            "node_id": "MDQ6VXNlcjgwNjkzMTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8069314?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumanthgenz",
            "html_url": "https://github.com/sumanthgenz",
            "followers_url": "https://api.github.com/users/sumanthgenz/followers",
            "following_url": "https://api.github.com/users/sumanthgenz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumanthgenz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumanthgenz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumanthgenz/subscriptions",
            "organizations_url": "https://api.github.com/users/sumanthgenz/orgs",
            "repos_url": "https://api.github.com/users/sumanthgenz/repos",
            "events_url": "https://api.github.com/users/sumanthgenz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumanthgenz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-01T20:40:26Z",
        "updated_at": "2023-06-23T02:44:49Z",
        "closed_at": "2023-06-23T02:44:48Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1656",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1656",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1656.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1656.patch",
            "merged_at": null
        },
        "body": "For example, use 'sky cost-report cluster_name` to filter cost report to match clusters with name \"cluster_name.\" \r\n\r\nAddresses #1643.\r\n\r\n'''\r\n(base) sumanth@MacBook-Pro-5 skypilot % sky cost-report\r\nClusters\r\nNAME     LAUNCHED      DURATION  RESOURCES                          HOURLY_PRICE  COST (est.)  \r\ncluster  1 week ago    6m 19s    1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $0.311       \r\ncluster  1 week ago    22m 31s   1x GCP(n1-highmem-8, {'V100': 1})  $ 2.953       $1.108       \r\ncluster  1 month ago   3m 41s    1x GCP(n1-highmem-8)               $ 0.473       $0.029       \r\ncluster  1 month ago   10m 13s   1x GCP(n1-highmem-8)               $ 0.473       $0.081       \r\nmin      2 months ago  6m 25s    1x AWS(m6i.2xlarge)                $ 0.384       $0.041       \r\nmin      2 months ago  24m 40s   1x AWS(m6i.2xlarge)                $ 0.384       $0.158       \r\nmount    2 months ago  7m 26s    1x GCP(n1-highmem-8)               $ 0.473       $0.059       \r\nmount2   2 months ago  12m 28s   1x GCP(n1-highmem-8)               $ 0.473       $0.098       \r\nmount    2 months ago  16m 26s   1x GCP(n1-highmem-8)               $ 0.473       $0.130\r\n\r\n(base) sumanth@MacBook-Pro-5 skypilot % sky cost-report min\r\nClusters\r\nNAME  LAUNCHED      DURATION  RESOURCES            HOURLY_PRICE  COST (est.)  \r\nmin   2 months ago  6m 25s    1x AWS(m6i.2xlarge)  $ 0.384       $0.041       \r\nmin   2 months ago  24m 40s   1x AWS(m6i.2xlarge)  $ 0.384       $0.158       \r\n'''",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1656/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1656/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1655",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1655/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1655/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1655/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1655",
        "id": 1565772610,
        "node_id": "PR_kwDOF41eh85I_Ypj",
        "number": 1655,
        "title": "[Spot] Expose failure reason for spot jobs",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-02-01T09:39:12Z",
        "updated_at": "2023-02-05T05:37:12Z",
        "closed_at": "2023-02-05T05:37:07Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1655",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1655",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1655.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1655.patch",
            "merged_at": "2023-02-05T05:37:07Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nChanges in this PR:\r\n1. Add the `FAILED_CONFIG` failure type to the `SpotStatus` for the spot jobs that failed due to name length and other cloud configuration problems.\r\n2. Expose failure reason in `sky spot queue -a`\r\n<img width=\"2140\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/216795719-98858acc-1da5-4823-94e0-31624f2c3b52.png\">\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] Any manual or new tests for this PR (please specify below)\r\n  - [x] `sky spot launch -n test-failure tests/test_yamls/failed_setup.yaml` Job 42 above\r\n  - [x] `sky spot launch -n test-failure exit 1` Job 45 above\r\n  - [x] Long cluster name, successfully fail directly when only GCP is enabled (`mv ~/.aws ~/.aws.bk`): `sky spot launch -n a-cluster-name-is-longer-than-35-chars echo hi` Job 44 above\r\n  - [x] Failure for cloud not enabled (`mv ~/.aws ~/.aws.bk`): `sky spot launch -n test-no-resources --cloud aws --gpus A100:8 echo hi` Job 43 above\r\n  - [x] Long cluster name, successfully skip the GCP: `sky spot launch -n a-cluster-name-is-longer-than-35-chars echo hi` \r\n    <img width=\"1356\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/216797090-656acc8c-00c2-4ab9-be43-7fc2dfcf6c55.png\">\r\n  - [x] Failure for no resources: `sky spot launch -n test-no-resources --cloud aws --gpus A100:8 echo hi`\r\n      <img width=\"1856\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/216797318-d04b589a-0091-4a66-a7cb-659ce54680f5.png\">\r\n  - [x] `sky spot logs 47`\r\n        <img width=\"932\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/216797368-f447365d-a37e-4b59-9295-54c634892446.png\">\r\n  - [x] `sky spot logs 2`\r\n          <img width=\"566\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6753189/216797390-410c601e-9cdb-4721-b9df-224cfc4c157c.png\">\r\n- [x] All smoke tests: `pytest tests/test_smoke.py` \r\n- [x] rendered the doc locally.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1655/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1655/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1654",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1654/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1654/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1654/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1654",
        "id": 1565519870,
        "node_id": "PR_kwDOF41eh85I-icj",
        "number": 1654,
        "title": "[Spot] Fix spot launch failure introduced by #1648",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-01T06:28:03Z",
        "updated_at": "2023-02-01T06:39:54Z",
        "closed_at": "2023-02-01T06:39:48Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1654",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1654",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1654.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1654.patch",
            "merged_at": "2023-02-01T06:39:48Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nThis patches #1648 that breaks the `sky spot launch`\r\n\r\n<!-- Describe the tests ran -->\r\n<!-- Unit tests (tests/test_*.py) are part of GitHub CI; below are tests that launch on the cloud. -->\r\n\r\nTested (run the relevant ones):\r\n\r\n- [x] `sky spot launch -n test echo hi`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1654/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1654/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1652",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1652/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1652/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1652/events",
        "html_url": "https://github.com/skypilot-org/skypilot/pull/1652",
        "id": 1563785781,
        "node_id": "PR_kwDOF41eh85I4ui_",
        "number": 1652,
        "title": "Fix TPU message",
        "user": {
            "login": "infwinston",
            "id": 1206058,
            "node_id": "MDQ6VXNlcjEyMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/infwinston",
            "html_url": "https://github.com/infwinston",
            "followers_url": "https://api.github.com/users/infwinston/followers",
            "following_url": "https://api.github.com/users/infwinston/following{/other_user}",
            "gists_url": "https://api.github.com/users/infwinston/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/infwinston/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/infwinston/subscriptions",
            "organizations_url": "https://api.github.com/users/infwinston/orgs",
            "repos_url": "https://api.github.com/users/infwinston/repos",
            "events_url": "https://api.github.com/users/infwinston/events{/privacy}",
            "received_events_url": "https://api.github.com/users/infwinston/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-31T07:14:13Z",
        "updated_at": "2023-02-01T02:09:10Z",
        "closed_at": "2023-02-01T02:09:07Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/pulls/1652",
            "html_url": "https://github.com/skypilot-org/skypilot/pull/1652",
            "diff_url": "https://github.com/skypilot-org/skypilot/pull/1652.diff",
            "patch_url": "https://github.com/skypilot-org/skypilot/pull/1652.patch",
            "merged_at": "2023-02-01T02:09:07Z"
        },
        "body": "<!-- Describe the changes in this PR -->\r\n\r\nFrom @concretevitamin, the output from `sky down` a TPU Pod VM can be confusing.\r\nTo reproduce\r\n```\r\n> sky launch TPU-Pod\r\n> Ctrl-C  # after 30 secs\r\n> sky down --all -y\r\nTerminating 1 cluster \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501   0% -:--:--\r\nTPU VM ray-sky-a2e9-gcpuser-head-d806ba73-tpu is not in READY state. Skipping...\r\n```\r\nWith this PR, it becomes\r\n```\r\n> sky down --all -y\r\n... Skipping IP query...\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1652/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1652/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1651",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1651/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1651/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1651/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1651",
        "id": 1563732121,
        "node_id": "I_kwDOF41eh85dNKiZ",
        "number": 1651,
        "title": "[Spot] Add a way to show zone history of the spot job",
        "user": {
            "login": "Michaelvll",
            "id": 6753189,
            "node_id": "MDQ6VXNlcjY3NTMxODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6753189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Michaelvll",
            "html_url": "https://github.com/Michaelvll",
            "followers_url": "https://api.github.com/users/Michaelvll/followers",
            "following_url": "https://api.github.com/users/Michaelvll/following{/other_user}",
            "gists_url": "https://api.github.com/users/Michaelvll/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Michaelvll/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Michaelvll/subscriptions",
            "organizations_url": "https://api.github.com/users/Michaelvll/orgs",
            "repos_url": "https://api.github.com/users/Michaelvll/repos",
            "events_url": "https://api.github.com/users/Michaelvll/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Michaelvll/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3731512226,
                "node_id": "LA_kwDOF41eh87ealui",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/P1",
                "name": "P1",
                "color": "329AE1",
                "default": false,
                "description": ""
            },
            {
                "id": 4326425650,
                "node_id": "LA_kwDOF41eh88AAAABAeAEMg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/feature-request",
                "name": "feature-request",
                "color": "7E61BF",
                "default": false,
                "description": ""
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-31T06:23:30Z",
        "updated_at": "2023-07-19T04:55:08Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "A user requested to have a functionality to show the zone history of the spot job, so that they can debug the performance issue more easily.\r\n\r\nTODOs:\r\n- [ ] Add cloud/zone information in the environment variable\r\n- [ ] Add a CLI to check the zone history",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1651/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1651/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1650",
        "repository_url": "https://api.github.com/repos/skypilot-org/skypilot",
        "labels_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1650/labels{/name}",
        "comments_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1650/comments",
        "events_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1650/events",
        "html_url": "https://github.com/skypilot-org/skypilot/issues/1650",
        "id": 1563707247,
        "node_id": "I_kwDOF41eh85dNEdv",
        "number": 1650,
        "title": "[Cost Report] Features for cost report",
        "user": {
            "login": "sumanthgenz",
            "id": 8069314,
            "node_id": "MDQ6VXNlcjgwNjkzMTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8069314?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumanthgenz",
            "html_url": "https://github.com/sumanthgenz",
            "followers_url": "https://api.github.com/users/sumanthgenz/followers",
            "following_url": "https://api.github.com/users/sumanthgenz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumanthgenz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumanthgenz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumanthgenz/subscriptions",
            "organizations_url": "https://api.github.com/users/sumanthgenz/orgs",
            "repos_url": "https://api.github.com/users/sumanthgenz/repos",
            "events_url": "https://api.github.com/users/sumanthgenz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumanthgenz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5497016070,
                "node_id": "LA_kwDOF41eh88AAAABR6XPBg",
                "url": "https://api.github.com/repos/skypilot-org/skypilot/labels/Stale",
                "name": "Stale",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-01-31T06:01:22Z",
        "updated_at": "2023-10-24T02:01:42Z",
        "closed_at": "2023-06-23T02:44:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "TODOS:\r\n\r\n- [ ] #1621 \r\n- [x] #1643 \r\n- [ ] #1644 \r\n- [x] #1645 \r\n- [x] #1646 \r\n- [x] #1670",
        "reactions": {
            "url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1650/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/skypilot-org/skypilot/issues/1650/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    }
]