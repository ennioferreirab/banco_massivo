[
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/447",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/447/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/447/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/447/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/447",
        "id": 1839845216,
        "node_id": "I_kwDOHfNHc85tqc9g",
        "number": 447,
        "title": "Report average queue size in tokens (per last 10 min) for routing",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-07T16:34:38Z",
        "updated_at": "2023-08-07T16:34:38Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "This would help to take the server load into account while planning a route for inference and fine-tuning.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/447/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/447/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/446",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/446/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/446/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/446/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/446",
        "id": 1839774768,
        "node_id": "I_kwDOHfNHc85tqLww",
        "number": 446,
        "title": "API reference",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744234,
                "node_id": "LA_kwDOHfNHc877wTjq",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/documentation",
                "name": "documentation",
                "color": "0075ca",
                "default": true,
                "description": "Improvements or additions to documentation"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-07T15:55:36Z",
        "updated_at": "2023-08-07T15:55:36Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "We should create a detailed API reference for public interface to ease the development for new users.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/446/reactions",
            "total_count": 3,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/446/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/445",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/445/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/445/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/445/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/445",
        "id": 1839598828,
        "node_id": "PR_kwDOHfNHc85XV9H7",
        "number": 445,
        "title": "Add customizable input tensors",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-08-07T14:37:29Z",
        "updated_at": "2023-08-14T08:23:17Z",
        "closed_at": "2023-08-14T08:23:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/445",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/445",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/445.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/445.patch",
            "merged_at": "2023-08-14T08:23:17Z"
        },
        "body": "This PR includes a new way to provide tensors to the servers. Instead of a strict list of tensors described on the server side, clients can send any tensors to the servers.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/445/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/445/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/444",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/444/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/444/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/444/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/444",
        "id": 1839163721,
        "node_id": "I_kwDOHfNHc85tn2lJ",
        "number": 444,
        "title": "Increase file limit automatically",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-08-07T10:30:43Z",
        "updated_at": "2023-08-30T03:55:03Z",
        "closed_at": "2023-08-30T03:55:02Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "We're close to the file limit if we host 80 Llama blocks or if we have some rare CUDA OOM exceptions that doesn't always release open files for some reason. Let's run `increase_file_limit()` from hivemind automatically when possible.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/444/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/444/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/443",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/443/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/443/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/443/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/443",
        "id": 1838439068,
        "node_id": "PR_kwDOHfNHc85XSEDu",
        "number": 443,
        "title": "Remove deprecated comment in fine-tuning notebook",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-06T22:21:38Z",
        "updated_at": "2023-08-06T22:22:22Z",
        "closed_at": "2023-08-06T22:22:21Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/443",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/443",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/443.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/443.patch",
            "merged_at": "2023-08-06T22:22:21Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/443/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/443/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/442",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/442/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/442/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/442/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/442",
        "id": 1838430913,
        "node_id": "PR_kwDOHfNHc85XSCft",
        "number": 442,
        "title": "Use bitsandbytes 0.41.1",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-06T21:48:01Z",
        "updated_at": "2023-08-06T22:33:48Z",
        "closed_at": "2023-08-06T22:33:42Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/442",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/442",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/442.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/442.patch",
            "merged_at": "2023-08-06T22:33:42Z"
        },
        "body": "See:\r\n\r\n- https://github.com/TimDettmers/bitsandbytes\r\n- https://github.com/TimDettmers/bitsandbytes/releases/tag/0.41.0",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/442/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/442/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/441",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/441/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/441/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/441/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/441",
        "id": 1838236830,
        "node_id": "PR_kwDOHfNHc85XRZjq",
        "number": 441,
        "title": "Remove distracting links from readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-06T14:49:24Z",
        "updated_at": "2023-08-06T14:55:23Z",
        "closed_at": "2023-08-06T14:55:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/441",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/441",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/441.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/441.patch",
            "merged_at": "2023-08-06T14:55:22Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/441/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/441/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/440",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/440/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/440/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/440/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/440",
        "id": 1838190080,
        "node_id": "PR_kwDOHfNHc85XRQ8n",
        "number": 440,
        "title": "Update Discord links from channels to forums",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-06T12:27:33Z",
        "updated_at": "2023-08-06T13:11:50Z",
        "closed_at": "2023-08-06T13:11:49Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/440",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/440",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/440.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/440.patch",
            "merged_at": "2023-08-06T13:11:49Z"
        },
        "body": "As our Discord community growths, we found it difficult to look for open and resolved issues in **#running-a-client** and **#running-a-server** channels, as well as navigate through interleaving conversations happening there. That's why we recreated these channels as Discord forums, where different discussions are separated into different posts.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/440/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/440/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/439",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/439/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/439/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/439/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/439",
        "id": 1838133411,
        "node_id": "I_kwDOHfNHc85tj7Cj",
        "number": 439,
        "title": "GGML + petals",
        "user": {
            "login": "PaulConyngham",
            "id": 10569375,
            "node_id": "MDQ6VXNlcjEwNTY5Mzc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10569375?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/PaulConyngham",
            "html_url": "https://github.com/PaulConyngham",
            "followers_url": "https://api.github.com/users/PaulConyngham/followers",
            "following_url": "https://api.github.com/users/PaulConyngham/following{/other_user}",
            "gists_url": "https://api.github.com/users/PaulConyngham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/PaulConyngham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/PaulConyngham/subscriptions",
            "organizations_url": "https://api.github.com/users/PaulConyngham/orgs",
            "repos_url": "https://api.github.com/users/PaulConyngham/repos",
            "events_url": "https://api.github.com/users/PaulConyngham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/PaulConyngham/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-08-06T09:46:53Z",
        "updated_at": "2023-08-06T12:15:46Z",
        "closed_at": "2023-08-06T12:15:46Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi guys - quick one to ask if there is any roadmap item to add GGML (CPU) supported models to the petals framework. \r\n\r\nAs I have a ton of old computers around the house would be amazing to contribute this way, but not sure if CPUs are too slow in general.\r\n\r\nGGML would also help bring apple silicon GPU acceleration into the mix too.\r\n\r\nReally really appreciate this project. It is amazing and looking forward to seeing where it goes.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/439/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/439/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/438",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/438/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/438/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/438/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/438",
        "id": 1838099486,
        "node_id": "PR_kwDOHfNHc85XRAEK",
        "number": 438,
        "title": "Update install instructions to cuda 11.8",
        "user": {
            "login": "vadi2",
            "id": 110988,
            "node_id": "MDQ6VXNlcjExMDk4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/110988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadi2",
            "html_url": "https://github.com/vadi2",
            "followers_url": "https://api.github.com/users/vadi2/followers",
            "following_url": "https://api.github.com/users/vadi2/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadi2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadi2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadi2/subscriptions",
            "organizations_url": "https://api.github.com/users/vadi2/orgs",
            "repos_url": "https://api.github.com/users/vadi2/repos",
            "events_url": "https://api.github.com/users/vadi2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadi2/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-08-06T07:58:35Z",
        "updated_at": "2023-08-09T03:06:53Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/438",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/438",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/438.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/438.patch",
            "merged_at": null
        },
        "body": "Update install instructions to cuda 11.8 - seems safe enough.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/438/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/438/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/437",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/437/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/437/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/437/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/437",
        "id": 1838096116,
        "node_id": "PR_kwDOHfNHc85XQ_df",
        "number": 437,
        "title": "Fix typo and make blocks message more informative",
        "user": {
            "login": "vadi2",
            "id": 110988,
            "node_id": "MDQ6VXNlcjExMDk4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/110988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadi2",
            "html_url": "https://github.com/vadi2",
            "followers_url": "https://api.github.com/users/vadi2/followers",
            "following_url": "https://api.github.com/users/vadi2/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadi2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadi2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadi2/subscriptions",
            "organizations_url": "https://api.github.com/users/vadi2/orgs",
            "repos_url": "https://api.github.com/users/vadi2/repos",
            "events_url": "https://api.github.com/users/vadi2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadi2/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-08-06T07:46:35Z",
        "updated_at": "2023-08-06T13:22:14Z",
        "closed_at": "2023-08-06T12:47:21Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/437",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/437",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/437.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/437.patch",
            "merged_at": "2023-08-06T12:47:21Z"
        },
        "body": "The message really doesn't tell me much as a user, since I never touched update_period to begin with:\r\n\r\n```\r\nAug 06 09:43:07.287 [WARN] [petals.server.server.run:701] Declaring blocs to DHT takes more than --update_period, consider increasing it\r\n```\r\n\r\nMade it better and more informative.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/437/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/437/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/436",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/436/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/436/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/436/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/436",
        "id": 1837955129,
        "node_id": "PR_kwDOHfNHc85XQlS7",
        "number": 436,
        "title": "[don't merge] Branch for AMD GPUs (with older bitsandbytes)",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-08-05T22:06:42Z",
        "updated_at": "2023-08-10T16:29:28Z",
        "closed_at": "2023-08-10T16:29:27Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/436",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/436",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/436.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/436.patch",
            "merged_at": null
        },
        "body": "**See the [\"Running on AMD GPUs\"](https://github.com/bigscience-workshop/petals/wiki/Running-on-AMD-GPU) tutorial to learn how to use this branch.**\r\n\r\nThis branch supports bitsandbytes < 0.40.0, so that AMD GPUs owners can use `bitandbytes-rocm` ports from https://github.com/TimDettmers/bitsandbytes/issues/47\r\n\r\nTo make it possible, we remove features depending on bitsandbytes >= 0.40.0 (NF4 and LoRA adapters). In case of the LoRA adapters, they depend on the `peft` library that requires bitsandbytes >= 0.40.0.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/436/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/436/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/435",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/435/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/435/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/435/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/435",
        "id": 1837122392,
        "node_id": "PR_kwDOHfNHc85XN7Kx",
        "number": 435,
        "title": "[Refactor] extract block forward, backward and inference into a separate file",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-04T17:38:44Z",
        "updated_at": "2023-08-07T11:32:53Z",
        "closed_at": "2023-08-07T11:32:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/435",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/435",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/435.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/435.patch",
            "merged_at": "2023-08-07T11:32:52Z"
        },
        "body": "This PR does not change any functionality. It merely moves stuff around.\r\n\r\n__Problem:__ handler is huge and difficult to navigate. It is about to become more complicated once we support general peft\r\n\r\n__Suggesion:__ move all math (forward and backward pass; grad w.r.t. prompt, etc) to a separate file. Handler handles all networking and queues, but not the math; block_methods is responsible for math only.\r\n\r\nList of changes:\r\n- [x] handler.py/_rpc_forward became block_methods/rpc_forward\r\n- [x] handler.py/_rpc_backward became block_methods/rpc_backward\r\n- [x] the math bits of rpc_inference were extracted into block_methods/iterate_rpc_inference\r\n\r\nI took care to avoid any other changes",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/435/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/435/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/434",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/434/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/434/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/434/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/434",
        "id": 1837055241,
        "node_id": "PR_kwDOHfNHc85XNsvw",
        "number": 434,
        "title": "Rewrite MemoryCache alloc_timeout logic",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-04T16:37:11Z",
        "updated_at": "2023-08-28T13:01:52Z",
        "closed_at": "2023-08-28T13:01:50Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/434",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/434",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/434.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/434.patch",
            "merged_at": "2023-08-28T13:01:50Z"
        },
        "body": "- rpc_inference: server will now accept allocation timeout from user, defaults to no timeout\r\n- bugfix: inference timeout is now measured from the moment the request is received\r\n   - previously, you would have to wait for your timeout plus the time it takes to sort through the queue (other users' timeout)\r\n   - now, you get AllocationFailed if you had to wait for over (timeout) seconds - regardless of other users\r\n- a request for inference with no timeout will now fail instantly if there is not enough memory available\r\n- dtype number of bytes is now correctly determined for int, bool & other types\r\n\r\n**Testing:**\r\n\r\n- [x] test that nonzero timeout includes time spent waiting for lock\r\n- [x] test that zero timeout is always instantaneous\r\n- [x] test that zero timeout always works if cache has free memory\r\n- [x] test integration with client's InferenceSession",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/434/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/434/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/433",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/433/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/433/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/433/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/433",
        "id": 1836894454,
        "node_id": "I_kwDOHfNHc85tfMj2",
        "number": 433,
        "title": " local time must be within 3 seconds  of others",
        "user": {
            "login": "ryanshrott",
            "id": 13425718,
            "node_id": "MDQ6VXNlcjEzNDI1NzE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13425718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanshrott",
            "html_url": "https://github.com/ryanshrott",
            "followers_url": "https://api.github.com/users/ryanshrott/followers",
            "following_url": "https://api.github.com/users/ryanshrott/following{/other_user}",
            "gists_url": "https://api.github.com/users/ryanshrott/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ryanshrott/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ryanshrott/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanshrott/orgs",
            "repos_url": "https://api.github.com/users/ryanshrott/repos",
            "events_url": "https://api.github.com/users/ryanshrott/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ryanshrott/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-08-04T14:46:29Z",
        "updated_at": "2023-08-06T22:35:36Z",
        "closed_at": "2023-08-06T22:35:36Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "What does this mean? How to fix it?\r\n\r\nTraceback (most recent call last):\r\n  File \"/mnt/c/users/ryans/documents/petals_mongo_script.py\", line 17, in <module>\r\n    model = AutoDistributedModelForCausalLM.from_pretrained(model_name)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/petals/utils/auto_config.py\", line 49, in from_pretrained\r\n    return proper_cls.from_pretrained(model_name_or_path, *args, **kwargs)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/petals/client/from_pretrained.py\", line 37, in from_pretrained\r\n    return super().from_pretrained(\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/transformers/modeling_utils.py\", line 2700, in from_pretrained\r\n    model = cls(config, *model_args, **model_kwargs)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/petals/models/llama/model.py\", line 117, in __init__\r\n    self.model = DistributedLlamaModel(config)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/petals/models/llama/model.py\", line 34, in __init__\r\n    self.layers = RemoteSequential(config, dht=dht)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/petals/client/remote_sequential.py\", line 45, in __init__\r\n    sequence_manager = RemoteSequenceManager(config, block_uids, dht=dht, **kwargs)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/petals/client/routing/sequence_manager.py\", line 101, in __init__\r\n    dht = DHT(\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/hivemind/dht/dht.py\", line 88, in __init__\r\n    self.run_in_background(await_ready=await_ready)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/hivemind/dht/dht.py\", line 148, in run_in_background\r\n    self.wait_until_ready(timeout)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/hivemind/dht/dht.py\", line 151, in wait_until_ready\r\n    self._ready.result(timeout=timeout)\r\n  File \"/home/ryan/.local/lib/python3.10/site-packages/hivemind/utils/mpfuture.py\", line 262, in result\r\n    return super().result(timeout)\r\n  File \"/usr/lib/python3.10/concurrent/futures/_base.py\", line 458, in result\r\n    return self.__get_result()\r\n  File \"/usr/lib/python3.10/concurrent/futures/_base.py\", line 403, in __get_result\r\n    raise self._exception\r\nhivemind.dht.protocol.ValidationError: local time must be within 3 seconds  of others(local: 1691158862.35442, peer: 1691160179.92986)",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/433/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/433/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/432",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/432/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/432/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/432/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/432",
        "id": 1836716643,
        "node_id": "I_kwDOHfNHc85tehJj",
        "number": 432,
        "title": "RuntimeError: \"addmm_impl_cpu_\" not implemented for 'Half'",
        "user": {
            "login": "bkowshik",
            "id": 2899501,
            "node_id": "MDQ6VXNlcjI4OTk1MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2899501?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bkowshik",
            "html_url": "https://github.com/bkowshik",
            "followers_url": "https://api.github.com/users/bkowshik/followers",
            "following_url": "https://api.github.com/users/bkowshik/following{/other_user}",
            "gists_url": "https://api.github.com/users/bkowshik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bkowshik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bkowshik/subscriptions",
            "organizations_url": "https://api.github.com/users/bkowshik/orgs",
            "repos_url": "https://api.github.com/users/bkowshik/repos",
            "events_url": "https://api.github.com/users/bkowshik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bkowshik/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-08-04T13:07:43Z",
        "updated_at": "2023-08-05T12:40:13Z",
        "closed_at": "2023-08-05T12:39:59Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "```python\r\nfrom transformers import AutoTokenizer\r\nfrom petals import AutoDistributedModelForCausalLM\r\n\r\nmodel_name = 'meta-llama/Llama-2-70b-chat-hf'\r\ntokenizer = AutoTokenizer.from_pretrained(model_name)\r\nmodel = AutoDistributedModelForCausalLM.from_pretrained(model_name)\r\n\r\nprompt = \"\"\"What is the capital of India?\"\"\"\r\ninputs = tokenizer(prompt, return_tensors='pt')['input_ids']\r\noutputs = model.generate(inputs, max_new_tokens=5)\r\nprint(tokenizer.decode(outputs[0]))\r\n```\r\n\r\n```\r\nAug 04 13:05:31.443 [INFO] Route found: 0:40 via \u2026uCst2v => 40:80 via \u2026o6L7CF\r\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\r\n\u2502 in <module>:15                                                                                   \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502   12 Answer with only the letter and no other text                                               \u2502\r\n\u2502   13 \"\"\"                                                                                         \u2502\r\n\u2502   14 inputs = tokenizer(prompt, return_tensors='pt')['input_ids']                                \u2502\r\n\u2502 \u2771 15 outputs = model.generate(inputs, max_new_tokens=5)                                          \u2502\r\n\u2502   16 print(tokenizer.decode(outputs[0]))                                                         \u2502\r\n\u2502   17                                                                                             \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502 /opt/conda/lib/python3.10/site-packages/torch/utils/_contextlib.py:115 in decorate_context       \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502   112 \u2502   @functools.wraps(func)                                                                 \u2502\r\n\u2502   113 \u2502   def decorate_context(*args, **kwargs):                                                 \u2502\r\n\u2502   114 \u2502   \u2502   with ctx_factory():                                                                \u2502\r\n\u2502 \u2771 115 \u2502   \u2502   \u2502   return func(*args, **kwargs)                                                   \u2502\r\n\u2502   116 \u2502                                                                                          \u2502\r\n\u2502   117 \u2502   return decorate_context                                                                \u2502\r\n\u2502   118                                                                                            \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502 /opt/conda/lib/python3.10/site-packages/petals/client/remote_generation.py:174 in generate       \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502   171 \u2502   \u2502   \u2502   \u2502   hidden_state = session.step(hidden_state, prompts=intermediate_prompts,    \u2502\r\n\u2502   172 \u2502   \u2502   \u2502   \u2502                                                                              \u2502\r\n\u2502   173 \u2502   \u2502   \u2502   \u2502   hidden_state = self.transformer.ln_f(hidden_state)                         \u2502\r\n\u2502 \u2771 174 \u2502   \u2502   \u2502   \u2502   lm_logits = self.lm_head(hidden_state)                                     \u2502\r\n\u2502   175 \u2502   \u2502   \u2502   \u2502                                                                              \u2502\r\n\u2502   176 \u2502   \u2502   \u2502   \u2502   for constraint in constraints:                                             \u2502\r\n\u2502   177 \u2502   \u2502   \u2502   \u2502   \u2502   lm_logits = constraint(last_token_id, lm_logits, hypo_ids)             \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502 /opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py:1501 in _call_impl            \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502   1498 \u2502   \u2502   if not (self._backward_hooks or self._backward_pre_hooks or self._forward_hooks   \u2502\r\n\u2502   1499 \u2502   \u2502   \u2502   \u2502   or _global_backward_pre_hooks or _global_backward_hooks                   \u2502\r\n\u2502   1500 \u2502   \u2502   \u2502   \u2502   or _global_forward_hooks or _global_forward_pre_hooks):                   \u2502\r\n\u2502 \u2771 1501 \u2502   \u2502   \u2502   return forward_call(*args, **kwargs)                                          \u2502\r\n\u2502   1502 \u2502   \u2502   # Do not call functions when jit is used                                          \u2502\r\n\u2502   1503 \u2502   \u2502   full_backward_hooks, non_full_backward_hooks = [], []                             \u2502\r\n\u2502   1504 \u2502   \u2502   backward_pre_hooks = []                                                           \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502 /opt/conda/lib/python3.10/site-packages/petals/client/lm_head.py:61 in forward                   \u2502\r\n\u2502                                                                                                  \u2502\r\n\u2502   58 \u2502   \u2502   else:                                                                               \u2502\r\n\u2502   59 \u2502   \u2502   \u2502   # Switch dtype in case word_embeddings are fp16/bf16                            \u2502\r\n\u2502   60 \u2502   \u2502   \u2502   hidden_states = hidden_states.to(self.weight.dtype)                             \u2502\r\n\u2502 \u2771 61 \u2502   \u2502   \u2502   lm_logits = F.linear(hidden_states, self.weight)                                \u2502\r\n\u2502   62 \u2502   \u2502   return lm_logits                                                                    \u2502\r\n\u2502   63 \u2502                                                                                           \u2502\r\n\u2502   64 \u2502   def chunked_forward(self, hidden_states):                                               \u2502\r\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\r\nRuntimeError: \"addmm_impl_cpu_\" not implemented for 'Half'\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/432/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/432/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/431",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/431/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/431/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/431/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/431",
        "id": 1835210579,
        "node_id": "PR_kwDOHfNHc85XHkBZ",
        "number": 431,
        "title": "Override float32 in config to bfloat16",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-03T14:44:15Z",
        "updated_at": "2023-08-07T15:47:23Z",
        "closed_at": "2023-08-07T15:47:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/431",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/431",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/431.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/431.patch",
            "merged_at": "2023-08-07T15:47:22Z"
        },
        "body": "**TODO:**\r\n\r\n- [ ] Ensure that \"Getting started\" and https://chat.petals.dev work well with Beluga2 in bfloat16.\r\n- [ ] Check the inference speed regression.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/431/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/431/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/430",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/430/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/430/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/430/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/430",
        "id": 1834046715,
        "node_id": "PR_kwDOHfNHc85XDmMg",
        "number": 430,
        "title": "Fix petals.utils.ping for servers with client-mode DHT",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-03T00:04:05Z",
        "updated_at": "2023-08-03T00:17:09Z",
        "closed_at": "2023-08-03T00:17:08Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/430",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/430",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/430.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/430.patch",
            "merged_at": "2023-08-03T00:17:08Z"
        },
        "body": "Fix #429.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/430/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/430/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/429",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/429/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/429/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/429/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/429",
        "id": 1834039475,
        "node_id": "I_kwDOHfNHc85tUTiz",
        "number": 429,
        "title": "PingAggregator returns inf for all servers that use relays",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-08-02T23:58:12Z",
        "updated_at": "2023-08-03T00:09:13Z",
        "closed_at": "2023-08-03T00:09:13Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "It seems that something is wrong with calling `rpc_ping()` for such servers (since https://health.petals.dev is able to reach such servers in 5 sec successfully).",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/429/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/429/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/428",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/428/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/428/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/428/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/428",
        "id": 1834021082,
        "node_id": "PR_kwDOHfNHc85XDgul",
        "number": 428,
        "title": "Penalize servers that use relays during rebalancing",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-02T23:27:18Z",
        "updated_at": "2023-08-03T00:00:44Z",
        "closed_at": "2023-08-03T00:00:43Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/428",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/428",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/428.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/428.patch",
            "merged_at": "2023-08-03T00:00:43Z"
        },
        "body": "Servers accessible only via relays may introduce issues if they are the only type of servers holding certain blocks. Specifically, a connection to such servers may be unstable or opened after a certain delay.\r\n\r\nThis PR changes their self-reported throughput, so that the rebalancing algorithm prefers to put directly available servers for hosting each block.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/428/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/428/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/427",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/427/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/427/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/427/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/427",
        "id": 1831792551,
        "node_id": "I_kwDOHfNHc85tLu-n",
        "number": 427,
        "title": "How to parallelize this code for model.generate?",
        "user": {
            "login": "ryanshrott",
            "id": 13425718,
            "node_id": "MDQ6VXNlcjEzNDI1NzE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13425718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanshrott",
            "html_url": "https://github.com/ryanshrott",
            "followers_url": "https://api.github.com/users/ryanshrott/followers",
            "following_url": "https://api.github.com/users/ryanshrott/following{/other_user}",
            "gists_url": "https://api.github.com/users/ryanshrott/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ryanshrott/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ryanshrott/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanshrott/orgs",
            "repos_url": "https://api.github.com/users/ryanshrott/repos",
            "events_url": "https://api.github.com/users/ryanshrott/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ryanshrott/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-08-01T18:14:18Z",
        "updated_at": "2023-08-01T18:14:36Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "As the title says, how can I parallelize this?\r\n\r\n```\r\ndef generate_output(row):\r\n      inputs = tokenizer(prompt, return_tensors=\"pt\")[\"input_ids\"]\r\n      outputs = model.generate(inputs, max_new_tokens=185, temperature=0.0, eos_token_id=tokenizer.encode(\"}\")[0])\r\n      result = tokenizer.decode(outputs[0])\r\n      completion = extract_completion(result)\r\n\r\nfor index, row in df.iterrows():\r\n  generate_output(row)\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/427/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/427/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/426",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/426/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/426/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/426/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/426",
        "id": 1829400256,
        "node_id": "I_kwDOHfNHc85tCm7A",
        "number": 426,
        "title": "Ask for help and discuss Petals in our Discord!",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-31T15:02:00Z",
        "updated_at": "2023-07-31T15:05:00Z",
        "closed_at": "2023-07-31T15:04:33Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Welcome to the Petals project!\r\n\r\nPlease note that we have an active **[Discord community](https://discord.gg/tfHfe8B34k)** in addition to this issue tracker.\r\n\r\nYou can discuss Petals, ask questions, or report bugs both here and in Discord.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/426/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/426/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/425",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/425/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/425/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/425/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/425",
        "id": 1828466026,
        "node_id": "I_kwDOHfNHc85s_C1q",
        "number": 425,
        "title": "Add an example on how decoding algorithm can be used.",
        "user": {
            "login": "SamAct",
            "id": 19504737,
            "node_id": "MDQ6VXNlcjE5NTA0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/19504737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SamAct",
            "html_url": "https://github.com/SamAct",
            "followers_url": "https://api.github.com/users/SamAct/followers",
            "following_url": "https://api.github.com/users/SamAct/following{/other_user}",
            "gists_url": "https://api.github.com/users/SamAct/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SamAct/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SamAct/subscriptions",
            "organizations_url": "https://api.github.com/users/SamAct/orgs",
            "repos_url": "https://api.github.com/users/SamAct/repos",
            "events_url": "https://api.github.com/users/SamAct/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SamAct/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2023-07-31T06:02:18Z",
        "updated_at": "2023-08-30T03:58:25Z",
        "closed_at": "2023-08-30T03:58:24Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi\r\nJust couldn't find an example where decoding_algorithms - GreedyAlgorithm, SamplingAlgorithm, BeamSearchAlgorithm are used. GreedyAlgorithm is by default, the colab notebook promises to discuss it but it seems to miss out on a clear and detailed discussion regarding these specific decoding algorithms.\r\n\r\nCould you please share some resource or example code that distinctly demonstrates how to use these decoding algorithms during inference? Any guidance on the pros and cons of each, and under what circumstances one might be favorable over the others, would also be greatly appreciated.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/425/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/425/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/424",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/424/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/424/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/424/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/424",
        "id": 1828116502,
        "node_id": "PR_kwDOHfNHc85Wvfeb",
        "number": 424,
        "title": "Add Stable Beluga 2 to readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-30T22:56:35Z",
        "updated_at": "2023-07-30T23:24:13Z",
        "closed_at": "2023-07-30T23:23:57Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/424",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/424",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/424.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/424.patch",
            "merged_at": "2023-07-30T23:23:57Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/424/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/424/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/423",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/423/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/423/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/423/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/423",
        "id": 1828037784,
        "node_id": "PR_kwDOHfNHc85WvPTv",
        "number": 423,
        "title": "Add connect_timeout",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-30T19:07:39Z",
        "updated_at": "2023-07-30T19:31:20Z",
        "closed_at": "2023-07-30T19:31:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/423",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/423",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/423.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/423.patch",
            "merged_at": "2023-07-30T19:31:19Z"
        },
        "body": "This PR adds `connect_timeout` = 5 sec for stream requests to enable faster retries in case of issues while opening a connection (e.g., when a server left but its DHT record didn't expire yet).",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/423/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/423/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/422",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/422/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/422/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/422/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/422",
        "id": 1827895143,
        "node_id": "PR_kwDOHfNHc85WuzJm",
        "number": 422,
        "title": "Add Discord badge and more Discord links to readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-30T11:07:48Z",
        "updated_at": "2023-07-30T14:07:39Z",
        "closed_at": "2023-07-30T14:07:39Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/422",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/422",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/422.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/422.patch",
            "merged_at": "2023-07-30T14:07:39Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/422/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/422/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/421",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/421/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/421/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/421/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/421",
        "id": 1823821364,
        "node_id": "I_kwDOHfNHc85stU40",
        "number": 421,
        "title": "Problem running petals on virtual CPU",
        "user": {
            "login": "tijszwinkels",
            "id": 140654,
            "node_id": "MDQ6VXNlcjE0MDY1NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/140654?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tijszwinkels",
            "html_url": "https://github.com/tijszwinkels",
            "followers_url": "https://api.github.com/users/tijszwinkels/followers",
            "following_url": "https://api.github.com/users/tijszwinkels/following{/other_user}",
            "gists_url": "https://api.github.com/users/tijszwinkels/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tijszwinkels/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tijszwinkels/subscriptions",
            "organizations_url": "https://api.github.com/users/tijszwinkels/orgs",
            "repos_url": "https://api.github.com/users/tijszwinkels/repos",
            "events_url": "https://api.github.com/users/tijszwinkels/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tijszwinkels/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-07-27T07:55:35Z",
        "updated_at": "2023-08-03T22:58:21Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I ran into this when trying to run: https://github.com/petals-infra/chat.petals.dev\r\n\r\n```\r\n$ flask  run --host=0.0.0.0 --port=5000\r\nFloating point exception (core dumped)\r\n```\r\n\r\nBut I believe this is an issue with the petals library itself.\r\nThe following minimal example crashes as well:\r\n```\r\nfrom transformers import AutoTokenizer\r\nfrom petals import AutoDistributedModelForCausalLM\r\nimport torch\r\n\r\nmodel_name = \"enoch/llama-65b-hf\"\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(model_name)\r\nmodel = AutoDistributedModelForCausalLM.from_pretrained(model_name, torch_dtype=torch.float32)\r\n```\r\nrunning it:\r\n```\r\n$ python test.py\r\nYou are using the legacy behaviour of the <class 'transformers.models.llama.tokenization_llama.LlamaTokenizer'>. This means that tokens that come after special tokens will not be properly handled. We recommend you to read the related pull request available at https://github.com/huggingface/transformers/pull/24565\r\nJul 27 07:53:55.842 [INFO] Make sure you follow the LLaMA's terms of use: https://bit.ly/llama2-license for LLaMA 2, https://bit.ly/llama-license for LLaMA 1\r\nJul 27 07:53:55.842 [INFO] Using DHT prefix: llama-65b-hf\r\nFloating point exception (core dumped)\r\n```\r\nIt crashes on the last line. Please note it also crashes without the torch_dtype specification.\r\n\r\nThese are the capabilities of the virtualized CPU I'm running on:\r\n```\r\nprocessor       : 0\r\nvendor_id       : GenuineIntel\r\ncpu family      : 6\r\nmodel           : 61\r\nmodel name      : Intel Core Processor (Broadwell, IBRS)\r\nstepping        : 2\r\nmicrocode       : 0x1\r\ncpu MHz         : 3408.010\r\ncache size      : 4096 KB\r\nphysical id     : 0\r\nsiblings        : 1\r\ncore id         : 0\r\ncpu cores       : 1\r\napicid          : 0\r\ninitial apicid  : 0\r\nfpu             : yes\r\nfpu_exception   : yes\r\ncpuid level     : 13\r\nwp              : yes\r\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single pti ssbd ibrs ibpb tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx rdseed adx smap xsaveopt arat md_clear\r\nbugs            : cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs taa itlb_multihit srbds mmio_unknown\r\nbogomips        : 6816.02\r\nclflush size    : 64\r\ncache_alignment : 64\r\naddress sizes   : 40 bits physical, 48 bits virtual\r\npower management:\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/421/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/421/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/420",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/420/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/420/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/420/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/420",
        "id": 1822199094,
        "node_id": "I_kwDOHfNHc85snI02",
        "number": 420,
        "title": "Request to Enable Git Discussions Feature",
        "user": {
            "login": "audioXD",
            "id": 8224015,
            "node_id": "MDQ6VXNlcjgyMjQwMTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8224015?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/audioXD",
            "html_url": "https://github.com/audioXD",
            "followers_url": "https://api.github.com/users/audioXD/followers",
            "following_url": "https://api.github.com/users/audioXD/following{/other_user}",
            "gists_url": "https://api.github.com/users/audioXD/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/audioXD/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/audioXD/subscriptions",
            "organizations_url": "https://api.github.com/users/audioXD/orgs",
            "repos_url": "https://api.github.com/users/audioXD/repos",
            "events_url": "https://api.github.com/users/audioXD/events{/privacy}",
            "received_events_url": "https://api.github.com/users/audioXD/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-07-26T11:27:55Z",
        "updated_at": "2023-07-31T15:06:24Z",
        "closed_at": "2023-07-31T15:06:24Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hello,\r\n\r\nI hope you are doing well. I would like to request the enablement of the [\"GitHub Discussions\"](https://github.com/features/discussions) feature for this repository. I believe this feature will greatly enhance collaboration and communication among contributors and users.\r\n\r\n**Benefits of Git Discussions:**\r\n\r\n- Provides a space for general discussions, questions, and announcements related to the project.\r\n- Streamlines communication between maintainers, contributors, and users without cluttering the issue tracker.\r\n- Helps users find answers to frequently asked questions and reduces duplicated support requests.\r\n\r\n**Request:**\r\n\r\nCould you kindly enable the [\"GitHub Discussions\"](https://github.com/features/discussions) feature for this repository? I believe it will be beneficial for everyone involved in this open-source project.\r\n\r\nThank you for considering this request.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/420/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/420/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/419",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/419/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/419/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/419/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/419",
        "id": 1821891614,
        "node_id": "I_kwDOHfNHc85sl9we",
        "number": 419,
        "title": "Conversational Agent with Llama-2-70b-chat-hf ",
        "user": {
            "login": "limcheekin",
            "id": 88172,
            "node_id": "MDQ6VXNlcjg4MTcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/88172?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/limcheekin",
            "html_url": "https://github.com/limcheekin",
            "followers_url": "https://api.github.com/users/limcheekin/followers",
            "following_url": "https://api.github.com/users/limcheekin/following{/other_user}",
            "gists_url": "https://api.github.com/users/limcheekin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/limcheekin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/limcheekin/subscriptions",
            "organizations_url": "https://api.github.com/users/limcheekin/orgs",
            "repos_url": "https://api.github.com/users/limcheekin/repos",
            "events_url": "https://api.github.com/users/limcheekin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/limcheekin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-07-26T08:50:42Z",
        "updated_at": "2023-08-09T07:26:17Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi there,\r\n\r\nAnyone here managed to get the conversational agent published in the following article working with the Petals?\r\nhttps://www.pinecone.io/learn/llama-2/\r\n\r\nI created the following notebook based on the notebook of the article above and run it in my Ubuntu Linux workstation without GPU, the conversational agent failed to work. I not sure the discrepancies between the Petals runtime with the one of the original notebook, kindly let's me know if you know anything missing here:\r\nhttps://github.com/limcheekin/langchain-playground/blob/main/llama-2-chat-agent.ipynb \r\n(You can click the \"Open in Colab\" or \"Open nbviewer\" link on top of the notebook to check out the original notebook)\r\n\r\nFeel free to download the notebook and the custom Petals class and try it out yourself, appreciate if you could share your outcome here and the changes you made. \r\n\r\nI'd love to hear from you! :)",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/419/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/419/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/418",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/418/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/418/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/418/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/418",
        "id": 1819922490,
        "node_id": "PR_kwDOHfNHc85WT70B",
        "number": 418,
        "title": "Fix stale link",
        "user": {
            "login": "bot66",
            "id": 26666338,
            "node_id": "MDQ6VXNlcjI2NjY2MzM4",
            "avatar_url": "https://avatars.githubusercontent.com/u/26666338?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bot66",
            "html_url": "https://github.com/bot66",
            "followers_url": "https://api.github.com/users/bot66/followers",
            "following_url": "https://api.github.com/users/bot66/following{/other_user}",
            "gists_url": "https://api.github.com/users/bot66/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bot66/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bot66/subscriptions",
            "organizations_url": "https://api.github.com/users/bot66/orgs",
            "repos_url": "https://api.github.com/users/bot66/repos",
            "events_url": "https://api.github.com/users/bot66/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bot66/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-25T09:34:24Z",
        "updated_at": "2023-07-27T01:48:08Z",
        "closed_at": "2023-07-25T14:21:16Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/418",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/418",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/418.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/418.patch",
            "merged_at": "2023-07-25T14:21:15Z"
        },
        "body": "Fixing the old stale chatbot web app source code link.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/418/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/418/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/417",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/417/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/417/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/417/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/417",
        "id": 1819276136,
        "node_id": "I_kwDOHfNHc85sb_No",
        "number": 417,
        "title": "eidt. may already exist in server.py Next Step create a distributed hash table to indicate which IP addresses are hosting which parts of different models rather than using a redis database",
        "user": {
            "login": "Georgith",
            "id": 6237650,
            "node_id": "MDQ6VXNlcjYyMzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6237650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Georgith",
            "html_url": "https://github.com/Georgith",
            "followers_url": "https://api.github.com/users/Georgith/followers",
            "following_url": "https://api.github.com/users/Georgith/following{/other_user}",
            "gists_url": "https://api.github.com/users/Georgith/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Georgith/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Georgith/subscriptions",
            "organizations_url": "https://api.github.com/users/Georgith/orgs",
            "repos_url": "https://api.github.com/users/Georgith/repos",
            "events_url": "https://api.github.com/users/Georgith/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Georgith/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-07-24T23:08:30Z",
        "updated_at": "2023-07-26T17:35:53Z",
        "closed_at": "2023-07-26T07:46:45Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "\r\nokay I'm editing this because apparently bard made a mistake and analyzed the code and thought it was using a redis database but I am now seeing evidence of a DHT distributed hash table database in server.py \r\n\r\nnonetheless I'm leaving the discussion here as well as the link to the bard chat that I'm having because it may help others we're trying to analyze the code and come up to speed quickly period\r\n\r\nNext Step create a distributed hash table to indicate which IP addresses are hosting which parts of different models rather than using a redis database?\r\n\r\n\r\nI'm querying the code base using Bard and getting suggestions from it as well as explanations of the code base as I'm new to the code base  one of the things that Bard suggested is a distributed hash table so it's less reliant on a centralized database it is a single source of failure.\r\n\r\nHere's the link to the bard chat session which I will no doubt continue to expand as I seek to understand this code .\r\n\r\nhttps://g.co/bard/share/5a72c0680eb2\r\n\r\nas you can see I'm asking for bar to actually code some python to implement possible distributed hash table Discovery protocols as well as distributed hash tables period I'll confess I am not used to GitHub I'm used to individual coding old school 1990s machines so don't know how to commit to a centralized project Etc but through Bard I'm able to understand this code fairly quickly and I can see it can make some python suggestions fairly quickly and if others follow along with this bard chat or Implement their own bar chats we might be able to really crank up and accelerate the development of this project to a true blockchain oriented distributed hash table system.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/417/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/417/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/416",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/416/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/416/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/416/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/416",
        "id": 1818183506,
        "node_id": "I_kwDOHfNHc85sX0dS",
        "number": 416,
        "title": "how to get only embeddings?",
        "user": {
            "login": "okyx",
            "id": 59725623,
            "node_id": "MDQ6VXNlcjU5NzI1NjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/59725623?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/okyx",
            "html_url": "https://github.com/okyx",
            "followers_url": "https://api.github.com/users/okyx/followers",
            "following_url": "https://api.github.com/users/okyx/following{/other_user}",
            "gists_url": "https://api.github.com/users/okyx/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/okyx/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/okyx/subscriptions",
            "organizations_url": "https://api.github.com/users/okyx/orgs",
            "repos_url": "https://api.github.com/users/okyx/repos",
            "events_url": "https://api.github.com/users/okyx/events{/privacy}",
            "received_events_url": "https://api.github.com/users/okyx/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-24T11:02:22Z",
        "updated_at": "2023-07-24T11:22:47Z",
        "closed_at": "2023-07-24T11:22:47Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "i want to get only embeddings in llama2",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/416/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/416/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/415",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/415/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/415/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/415/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/415",
        "id": 1817544710,
        "node_id": "I_kwDOHfNHc85sVYgG",
        "number": 415,
        "title": "Remember Chat History",
        "user": {
            "login": "solo2424",
            "id": 1903450,
            "node_id": "MDQ6VXNlcjE5MDM0NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1903450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/solo2424",
            "html_url": "https://github.com/solo2424",
            "followers_url": "https://api.github.com/users/solo2424/followers",
            "following_url": "https://api.github.com/users/solo2424/following{/other_user}",
            "gists_url": "https://api.github.com/users/solo2424/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/solo2424/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/solo2424/subscriptions",
            "organizations_url": "https://api.github.com/users/solo2424/orgs",
            "repos_url": "https://api.github.com/users/solo2424/repos",
            "events_url": "https://api.github.com/users/solo2424/events{/privacy}",
            "received_events_url": "https://api.github.com/users/solo2424/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-24T03:38:28Z",
        "updated_at": "2023-07-24T19:37:12Z",
        "closed_at": "2023-07-24T19:37:00Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Is us possible to send your chat history to the llm for follow-up questions? if so, can someone explain how to do this?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/415/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/415/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/414",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/414/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/414/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/414/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/414",
        "id": 1817302354,
        "node_id": "I_kwDOHfNHc85sUdVS",
        "number": 414,
        "title": "How to get faster inference?",
        "user": {
            "login": "ryanshrott",
            "id": 13425718,
            "node_id": "MDQ6VXNlcjEzNDI1NzE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13425718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanshrott",
            "html_url": "https://github.com/ryanshrott",
            "followers_url": "https://api.github.com/users/ryanshrott/followers",
            "following_url": "https://api.github.com/users/ryanshrott/following{/other_user}",
            "gists_url": "https://api.github.com/users/ryanshrott/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ryanshrott/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ryanshrott/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanshrott/orgs",
            "repos_url": "https://api.github.com/users/ryanshrott/repos",
            "events_url": "https://api.github.com/users/ryanshrott/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ryanshrott/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-23T21:30:50Z",
        "updated_at": "2023-07-24T19:41:09Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I added my RTX 3080 to swarm using:\r\nconda install pytorch pytorch-cuda=11.7 -c pytorch -c nvidia\r\npip install git+https://github.com/bigscience-workshop/petals\r\npython -m petals.cli.run_server enoch/llama-65b-hf --adapters timdettmers/guanaco-65b\r\n\r\nBut I still find my inference to be pretty slow, like 2 mins for 200 tokens. Why is that?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/414/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/414/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/413",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/413/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/413/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/413/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/413",
        "id": 1817176387,
        "node_id": "I_kwDOHfNHc85sT-lD",
        "number": 413,
        "title": "CUDA out of memory (Petals Server via Docker)",
        "user": {
            "login": "ivangabriele",
            "id": 5957876,
            "node_id": "MDQ6VXNlcjU5NTc4NzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5957876?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ivangabriele",
            "html_url": "https://github.com/ivangabriele",
            "followers_url": "https://api.github.com/users/ivangabriele/followers",
            "following_url": "https://api.github.com/users/ivangabriele/following{/other_user}",
            "gists_url": "https://api.github.com/users/ivangabriele/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ivangabriele/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ivangabriele/subscriptions",
            "organizations_url": "https://api.github.com/users/ivangabriele/orgs",
            "repos_url": "https://api.github.com/users/ivangabriele/repos",
            "events_url": "https://api.github.com/users/ivangabriele/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ivangabriele/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-07-23T15:39:35Z",
        "updated_at": "2023-07-24T05:54:15Z",
        "closed_at": "2023-07-24T05:53:51Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "When running `learningathome/petals:main` Docker image, I regularly have `CUDA out of memory` errors. I admit my GPU is old (Geforce RTX 2070), is it because of that?\r\n\r\n```\r\n\u279c  Binaries docker run -p 31330:31330 --ipc host --gpus all --volume petals-cache:/cache --rm learningathome/petals:main python -m petals.cli.run_server --port 31330 enoch/llama-65b-hf --adapters timdettmers/guanaco-65b --public_name ivangabriele\r\nJul 23 13:07:15.639 [INFO] Running Petals 2.0.0.post3\r\nDownloading (\u2026)lve/main/config.json: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 509/509 [00:00<00:00, 3.93MB/s]\r\nJul 23 13:07:16.644 [INFO] Make sure you follow the LLaMA's terms of use: https://bit.ly/llama2-license for LLaMA 2, https://bit.ly/llama-license for LLaMA 1\r\nJul 23 13:07:16.644 [INFO] Using DHT prefix: llama-65b-hf\r\nJul 23 13:07:27.680 [INFO] This server is accessible directly\r\nJul 23 13:07:31.666 [INFO] Connecting to the public swarm\r\nJul 23 13:07:31.667 [INFO] Running a server on ['/ip4/172.17.0.2/tcp/31330/p2p/12D3KooWMPTUGXTVsLJ5KK2uXKqp9wnSCWHU1bbotHNnX5wsFTbq', '/ip4/127.0.0.1/tcp/31330/p2p/12D3KooWMPTUGXTVsLJ5KK2uXKqp9wnSCWHU1bbotHNnX5wsFTbq']\r\nJul 23 13:07:31.688 [INFO] Model weights are loaded in float16, quantized to nf4 format\r\nDownloading (\u2026)/adapter_config.json: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 425/425 [00:00<00:00, 3.36MB/s]\r\nDownloading (\u2026)er_model.safetensors:   0%|          | 0.00/3.20G [00:00<?, ?B/s]Jul 23 13:07:33.651 [INFO] Reachability service started\r\nDownloading (\u2026)er_model.safetensors: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.20G/3.20G [19:12<00:00, 2.78MB/s]\r\nJul 23 13:26:45.352 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 13:26:45.367 [INFO] Loaded adapter timdettmers/guanaco-65b for block 0\r\nJul 23 13:26:45.368 [INFO] Server will fill all your GPU memory with 9 transformer blocks. If you want to leave some free GPU memory, please specify a lesser --num_blocks manually\r\nJul 23 13:26:45.368 [INFO] Attention cache for all blocks will consume up to 2.25 GiB\r\nJul 23 13:26:45.368 [INFO] Loading throughput info\r\nJul 23 13:26:45.369 [INFO] Reporting throughput: 762.9 tokens/sec for 9 blocks\r\nJul 23 13:26:57.699 [INFO] Announced that blocks [60, 61, 62, 63, 64, 65, 66, 67, 68] are joining\r\n\r\n...\r\n\r\nJul 23 14:46:23.082 [INFO] Started\r\nJul 23 14:48:00.717 [INFO] Swarm balance quality: 66.5%\r\nJul 23 14:48:00.718 [INFO] Swarm is imbalanced, server will load other blocks\r\nJul 23 14:48:01.864 [INFO] Announced that blocks ['llama-65b-hf.70', 'llama-65b-hf.71', 'llama-65b-hf.72', 'llama-65b-hf.73', 'llama-65b-hf.74', 'llama-65b-hf.75', 'llama-65b-hf.76', 'llama-65b-hf.77', 'llama-65b-hf.78'] are offline\r\nJul 23 14:48:03.793 [INFO] Shutting down\r\nJul 23 14:48:03.797 [INFO] Module container shut down successfully\r\nJul 23 14:48:03.895 [INFO] Cleaning up, left 0.1 GiB allocated memory, 2.9 GiB reserved memory\r\nJul 23 14:48:05.344 [INFO] Announced that blocks [71, 72, 73, 74, 75, 76, 77, 78, 79] are joining\r\nJul 23 14:48:06.260 [INFO] Loaded enoch/llama-65b-hf block 71, <All keys matched successfully>\r\nJul 23 14:48:16.332 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:48:16.492 [INFO] Loaded adapter timdettmers/guanaco-65b for block 71\r\nJul 23 14:48:17.285 [INFO] Loaded enoch/llama-65b-hf block 72, <All keys matched successfully>\r\nJul 23 14:48:27.298 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:48:27.387 [INFO] Loaded adapter timdettmers/guanaco-65b for block 72\r\nJul 23 14:48:28.179 [INFO] Loaded enoch/llama-65b-hf block 73, <All keys matched successfully>\r\nJul 23 14:48:38.186 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:48:38.305 [INFO] Loaded adapter timdettmers/guanaco-65b for block 73\r\nJul 23 14:48:39.104 [INFO] Loaded enoch/llama-65b-hf block 74, <All keys matched successfully>\r\nJul 23 14:48:49.110 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:48:49.213 [INFO] Loaded adapter timdettmers/guanaco-65b for block 74\r\nJul 23 14:48:50.057 [INFO] Loaded enoch/llama-65b-hf block 75, <All keys matched successfully>\r\nJul 23 14:49:00.246 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:49:00.421 [INFO] Loaded adapter timdettmers/guanaco-65b for block 75\r\nJul 23 14:49:01.296 [INFO] Loaded enoch/llama-65b-hf block 76, <All keys matched successfully>\r\nJul 23 14:49:11.408 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:49:11.554 [INFO] Loaded adapter timdettmers/guanaco-65b for block 76\r\nJul 23 14:49:12.400 [INFO] Loaded enoch/llama-65b-hf block 77, <All keys matched successfully>\r\nJul 23 14:49:22.546 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:49:22.662 [INFO] Loaded adapter timdettmers/guanaco-65b for block 77\r\nJul 23 14:49:23.533 [INFO] Loaded enoch/llama-65b-hf block 78, <All keys matched successfully>\r\nJul 23 14:49:33.859 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:49:34.023 [INFO] Loaded adapter timdettmers/guanaco-65b for block 78\r\nJul 23 14:49:35.221 [INFO] Loaded enoch/llama-65b-hf block 79, <All keys matched successfully>\r\nJul 23 14:49:45.574 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 14:49:45.677 [INFO] Loaded adapter timdettmers/guanaco-65b for block 79\r\nJul 23 14:49:45.965 [INFO] Server is reachable from the Internet. It will appear at https://health.petals.dev soon\r\nJul 23 14:49:47.154 [INFO] Started\r\nJul 23 14:53:46.172 [INFO] rpc_inference.open(blocks=72:80, remote_peer=...TMdbyL)\r\nJul 23 14:53:46.173 [INFO] rpc_inference.wait_for_alloc(size=0.50 GiB), already used 0.00/2.25 GiB (0.0%)\r\nJul 23 14:53:46.174 [INFO] rpc_inference.alloc(size=0.50 GiB)\r\nJul 23 14:53:46.280 [ERROR] [hivemind.moe.server.runtime.run:104] Caught CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 71.50 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF, attempting to recover\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/moe/server/runtime.py\", line 91, in run\r\n    outputs = pool.process_func(*batch)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/petals/src/petals/server/backend.py\", line 197, in __call__\r\n    (hidden_states,) = self.backends[inference_info.uid].inference_step(hidden_states, hypo_ids, inference_info)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/petals/src/petals/server/backend.py\", line 113, in inference_step\r\n    hidden_states, new_kvs = self.module.forward(hidden_states, layer_past=layer_past, use_cache=True)\r\n  File \"/opt/conda/lib/python3.10/site-packages/tensor_parallel/tensor_parallel.py\", line 99, in forward\r\n    return [self.module_shards[0](*args, **kwargs)][self.output_device_index]\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/petals/src/petals/models/llama/block.py\", line 52, in forward\r\n    outputs = super().forward(\r\n  File \"/opt/conda/lib/python3.10/site-packages/transformers/models/llama/modeling_llama.py\", line 408, in forward\r\n    hidden_states, self_attn_weights, present_key_value = self.self_attn(\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/opt/conda/lib/python3.10/site-packages/transformers/models/llama/modeling_llama.py\", line 363, in forward\r\n    attn_output = self.o_proj(attn_output)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/opt/conda/lib/python3.10/site-packages/peft/tuners/lora.py\", line 1123, in forward\r\n    result = super().forward(x)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/nn/modules.py\", line 221, in forward\r\n    out = bnb.matmul_4bit(x, self.weight.t(), bias=bias, quant_state=self.weight.quant_state)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/autograd/_functions.py\", line 579, in matmul_4bit\r\n    return MatMul4Bit.apply(A, B, out, bias, quant_state)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/autograd/function.py\", line 506, in apply\r\n    return super().apply(*args, **kwargs)  # type: ignore[misc]\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/autograd/_functions.py\", line 516, in forward\r\n    output = torch.nn.functional.linear(A, F.dequantize_4bit(B, state).to(A.dtype).t(), bias)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/functional.py\", line 908, in dequantize_4bit\r\n    out = torch.empty(shape, dtype=dtype, device=A.device)\r\ntorch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 71.50 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF\r\nJul 23 14:53:46.285 [INFO] rpc_inference.close(blocks=72:80, remote_peer=...TMdbyL)\r\nJul 23 14:53:46.285 [WARN] [hivemind.p2p.p2p_daemon._process_stream:440] Handler failed with the exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 431, in _process_stream\r\n    async for response in handler(_read_stream(), context):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 529, in _stream_handler\r\n    async for item in output:\r\n  File \"/home/petals/src/petals/server/handler.py\", line 219, in rpc_inference\r\n    (hidden_states,) = await self.module_backends[requested_uids[0]].inference_pool.submit_task(\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/utils/mpfuture.py\", line 298, in __await__\r\n    return super().result()\r\n  File \"/opt/conda/lib/python3.10/concurrent/futures/_base.py\", line 451, in result\r\n    return self.__get_result()\r\n  File \"/opt/conda/lib/python3.10/concurrent/futures/_base.py\", line 403, in __get_result\r\n    raise self._exception\r\ntorch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 71.50 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF\r\nJul 23 14:53:48.303 [INFO] rpc_inference.open(blocks=72:80, remote_peer=...TMdbyL)\r\nJul 23 14:53:48.304 [INFO] rpc_inference.wait_for_alloc(size=0.50 GiB), already used 0.00/2.25 GiB (0.0%)\r\nJul 23 14:53:48.305 [INFO] rpc_inference.alloc(size=0.50 GiB)\r\nJul 23 14:53:48.346 [ERROR] [hivemind.moe.server.runtime.run:104] Caught CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 50.88 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF, attempting to recover\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/moe/server/runtime.py\", line 91, in run\r\n    outputs = pool.process_func(*batch)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/petals/src/petals/server/backend.py\", line 197, in __call__\r\n    (hidden_states,) = self.backends[inference_info.uid].inference_step(hidden_states, hypo_ids, inference_info)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/petals/src/petals/server/backend.py\", line 113, in inference_step\r\n    hidden_states, new_kvs = self.module.forward(hidden_states, layer_past=layer_past, use_cache=True)\r\n  File \"/opt/conda/lib/python3.10/site-packages/tensor_parallel/tensor_parallel.py\", line 99, in forward\r\n    return [self.module_shards[0](*args, **kwargs)][self.output_device_index]\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/petals/src/petals/models/llama/block.py\", line 52, in forward\r\n    outputs = super().forward(\r\n  File \"/opt/conda/lib/python3.10/site-packages/transformers/models/llama/modeling_llama.py\", line 408, in forward\r\n    hidden_states, self_attn_weights, present_key_value = self.self_attn(\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/opt/conda/lib/python3.10/site-packages/transformers/models/llama/modeling_llama.py\", line 363, in forward\r\n    attn_output = self.o_proj(attn_output)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/opt/conda/lib/python3.10/site-packages/peft/tuners/lora.py\", line 1123, in forward\r\n    result = super().forward(x)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/nn/modules.py\", line 221, in forward\r\n    out = bnb.matmul_4bit(x, self.weight.t(), bias=bias, quant_state=self.weight.quant_state)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/autograd/_functions.py\", line 579, in matmul_4bit\r\n    return MatMul4Bit.apply(A, B, out, bias, quant_state)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/autograd/function.py\", line 506, in apply\r\n    return super().apply(*args, **kwargs)  # type: ignore[misc]\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/autograd/_functions.py\", line 516, in forward\r\n    output = torch.nn.functional.linear(A, F.dequantize_4bit(B, state).to(A.dtype).t(), bias)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/functional.py\", line 908, in dequantize_4bit\r\n    out = torch.empty(shape, dtype=dtype, device=A.device)\r\ntorch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 50.88 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF\r\nJul 23 14:53:48.347 [INFO] rpc_inference.close(blocks=72:80, remote_peer=...TMdbyL)\r\nJul 23 14:53:48.348 [WARN] [hivemind.p2p.p2p_daemon._process_stream:440] Handler failed with the exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 431, in _process_stream\r\n    async for response in handler(_read_stream(), context):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 529, in _stream_handler\r\n    async for item in output:\r\n  File \"/home/petals/src/petals/server/handler.py\", line 219, in rpc_inference\r\n    (hidden_states,) = await self.module_backends[requested_uids[0]].inference_pool.submit_task(\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/utils/mpfuture.py\", line 298, in __await__\r\n    return super().result()\r\n  File \"/opt/conda/lib/python3.10/concurrent/futures/_base.py\", line 451, in result\r\n    return self.__get_result()\r\n  File \"/opt/conda/lib/python3.10/concurrent/futures/_base.py\", line 403, in __get_result\r\n    raise self._exception\r\ntorch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 50.88 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF\r\nJul 23 14:53:51.406 [INFO] rpc_inference.open(blocks=72:80, remote_peer=...TMdbyL)\r\nJul 23 14:53:51.407 [INFO] rpc_inference.wait_for_alloc(size=0.50 GiB), already used 0.00/2.25 GiB (0.0%)\r\nJul 23 14:53:51.408 [INFO] rpc_inference.alloc(size=0.50 GiB)\r\nJul 23 14:53:51.456 [ERROR] [hivemind.moe.server.runtime.run:104] Caught CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 44.19 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF, attempting to recover\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/moe/server/runtime.py\", line 91, in run\r\n    outputs = pool.process_func(*batch)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/petals/src/petals/server/backend.py\", line 197, in __call__\r\n    (hidden_states,) = self.backends[inference_info.uid].inference_step(hidden_states, hypo_ids, inference_info)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/petals/src/petals/server/backend.py\", line 113, in inference_step\r\n    hidden_states, new_kvs = self.module.forward(hidden_states, layer_past=layer_past, use_cache=True)\r\n  File \"/opt/conda/lib/python3.10/site-packages/tensor_parallel/tensor_parallel.py\", line 99, in forward\r\n    return [self.module_shards[0](*args, **kwargs)][self.output_device_index]\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/petals/src/petals/models/llama/block.py\", line 52, in forward\r\n    outputs = super().forward(\r\n  File \"/opt/conda/lib/python3.10/site-packages/transformers/models/llama/modeling_llama.py\", line 408, in forward\r\n    hidden_states, self_attn_weights, present_key_value = self.self_attn(\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/opt/conda/lib/python3.10/site-packages/transformers/models/llama/modeling_llama.py\", line 363, in forward\r\n    attn_output = self.o_proj(attn_output)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1501, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/opt/conda/lib/python3.10/site-packages/peft/tuners/lora.py\", line 1123, in forward\r\n    result = super().forward(x)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/nn/modules.py\", line 221, in forward\r\n    out = bnb.matmul_4bit(x, self.weight.t(), bias=bias, quant_state=self.weight.quant_state)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/autograd/_functions.py\", line 579, in matmul_4bit\r\n    return MatMul4Bit.apply(A, B, out, bias, quant_state)\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/autograd/function.py\", line 506, in apply\r\n    return super().apply(*args, **kwargs)  # type: ignore[misc]\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/autograd/_functions.py\", line 516, in forward\r\n    output = torch.nn.functional.linear(A, F.dequantize_4bit(B, state).to(A.dtype).t(), bias)\r\n  File \"/opt/conda/lib/python3.10/site-packages/bitsandbytes/functional.py\", line 908, in dequantize_4bit\r\n    out = torch.empty(shape, dtype=dtype, device=A.device)\r\ntorch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 44.19 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF\r\nJul 23 14:53:51.458 [INFO] rpc_inference.close(blocks=72:80, remote_peer=...TMdbyL)\r\nJul 23 14:53:51.458 [WARN] [hivemind.p2p.p2p_daemon._process_stream:440] Handler failed with the exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 431, in _process_stream\r\n    async for response in handler(_read_stream(), context):\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 529, in _stream_handler\r\n    async for item in output:\r\n  File \"/home/petals/src/petals/server/handler.py\", line 219, in rpc_inference\r\n    (hidden_states,) = await self.module_backends[requested_uids[0]].inference_pool.submit_task(\r\n  File \"/opt/conda/lib/python3.10/site-packages/hivemind/utils/mpfuture.py\", line 298, in __await__\r\n    return super().result()\r\n  File \"/opt/conda/lib/python3.10/concurrent/futures/_base.py\", line 451, in result\r\n    return self.__get_result()\r\n  File \"/opt/conda/lib/python3.10/concurrent/futures/_base.py\", line 403, in __get_result\r\n    raise self._exception\r\ntorch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 128.00 MiB (GPU 0; 7.78 GiB total capacity; 4.46 GiB already allocated; 44.19 MiB free; 4.61 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF\r\nJul 23 15:00:31.415 [INFO] Swarm balance quality: 43.0%\r\nJul 23 15:00:31.415 [INFO] Swarm is imbalanced, server will load other blocks\r\nJul 23 15:00:33.042 [INFO] Announced that blocks ['llama-65b-hf.71', 'llama-65b-hf.72', 'llama-65b-hf.73', 'llama-65b-hf.74', 'llama-65b-hf.75', 'llama-65b-hf.76', 'llama-65b-hf.77', 'llama-65b-hf.78', 'llama-65b-hf.79'] are offline\r\nJul 23 15:00:34.844 [INFO] Shutting down\r\nJul 23 15:00:34.848 [INFO] Module container shut down successfully\r\nJul 23 15:00:34.928 [INFO] Cleaning up, left 0.6 GiB allocated memory, 3.6 GiB reserved memory\r\nJul 23 15:00:39.556 [INFO] Announced that blocks [70, 71, 72, 73, 74, 75, 76, 77, 78] are joining\r\nJul 23 15:00:40.504 [INFO] Loaded enoch/llama-65b-hf block 70, <All keys matched successfully>\r\nJul 23 15:00:50.748 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:00:50.871 [INFO] Loaded adapter timdettmers/guanaco-65b for block 70\r\nJul 23 15:00:51.689 [INFO] Loaded enoch/llama-65b-hf block 71, <All keys matched successfully>\r\nJul 23 15:01:01.676 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:01:01.813 [INFO] Loaded adapter timdettmers/guanaco-65b for block 71\r\nJul 23 15:01:02.672 [INFO] Loaded enoch/llama-65b-hf block 72, <All keys matched successfully>\r\nJul 23 15:01:12.673 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:01:12.833 [INFO] Loaded adapter timdettmers/guanaco-65b for block 72\r\nJul 23 15:01:13.690 [INFO] Loaded enoch/llama-65b-hf block 73, <All keys matched successfully>\r\nJul 23 15:01:23.692 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:01:23.843 [INFO] Loaded adapter timdettmers/guanaco-65b for block 73\r\nJul 23 15:01:24.668 [INFO] Loaded enoch/llama-65b-hf block 74, <All keys matched successfully>\r\nJul 23 15:01:34.915 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:01:35.003 [INFO] Loaded adapter timdettmers/guanaco-65b for block 74\r\nJul 23 15:01:35.860 [INFO] Loaded enoch/llama-65b-hf block 75, <All keys matched successfully>\r\nJul 23 15:01:45.881 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:01:46.013 [INFO] Loaded adapter timdettmers/guanaco-65b for block 75\r\nJul 23 15:01:46.877 [INFO] Loaded enoch/llama-65b-hf block 76, <All keys matched successfully>\r\nJul 23 15:01:56.991 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:01:57.113 [INFO] Loaded adapter timdettmers/guanaco-65b for block 76\r\nJul 23 15:01:57.958 [INFO] Loaded enoch/llama-65b-hf block 77, <All keys matched successfully>\r\nJul 23 15:02:08.157 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:02:08.273 [INFO] Loaded adapter timdettmers/guanaco-65b for block 77\r\nJul 23 15:02:09.183 [INFO] Loaded enoch/llama-65b-hf block 78, <All keys matched successfully>\r\nJul 23 15:02:19.298 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 23 15:02:19.480 [INFO] Loaded adapter timdettmers/guanaco-65b for block 78\r\nJul 23 15:02:20.069 [INFO] Server is reachable from the Internet. It will appear at https://health.petals.dev soon\r\nJul 23 15:02:21.321 [INFO] Started\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/413/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/413/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/412",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/412/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/412/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/412/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/412",
        "id": 1817141710,
        "node_id": "I_kwDOHfNHc85sT2HO",
        "number": 412,
        "title": "[feature] add privacy ",
        "user": {
            "login": "LouSparfell",
            "id": 34920821,
            "node_id": "MDQ6VXNlcjM0OTIwODIx",
            "avatar_url": "https://avatars.githubusercontent.com/u/34920821?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LouSparfell",
            "html_url": "https://github.com/LouSparfell",
            "followers_url": "https://api.github.com/users/LouSparfell/followers",
            "following_url": "https://api.github.com/users/LouSparfell/following{/other_user}",
            "gists_url": "https://api.github.com/users/LouSparfell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LouSparfell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LouSparfell/subscriptions",
            "organizations_url": "https://api.github.com/users/LouSparfell/orgs",
            "repos_url": "https://api.github.com/users/LouSparfell/repos",
            "events_url": "https://api.github.com/users/LouSparfell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LouSparfell/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-23T14:05:08Z",
        "updated_at": "2023-07-23T20:24:25Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "One of the obstacles of using petals is the fact that there is no privacy. It would be great to add some features for this.\r\nI'm not an expert, but wouldn't it be possible to use homomorphic encryption or even zero knowledge encryption?\r\n\r\n Well that's an idea I'm sure the number of users could take off. :)",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/412/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/412/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/411",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/411/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/411/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/411/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/411",
        "id": 1817129086,
        "node_id": "PR_kwDOHfNHc85WKi-D",
        "number": 411,
        "title": "Bump version to 2.0.1",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-23T13:26:07Z",
        "updated_at": "2023-07-23T14:45:20Z",
        "closed_at": "2023-07-23T14:45:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/411",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/411",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/411.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/411.patch",
            "merged_at": "2023-07-23T14:45:19Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/411/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/411/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/410",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/410/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/410/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/410/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/410",
        "id": 1817115873,
        "node_id": "PR_kwDOHfNHc85WKgdM",
        "number": 410,
        "title": "Update --update_period and --expiration defaults",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-23T12:43:16Z",
        "updated_at": "2023-07-23T13:22:06Z",
        "closed_at": "2023-07-23T13:22:05Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/410",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/410",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/410.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/410.patch",
            "merged_at": "2023-07-23T13:22:05Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/410/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/410/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/409",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/409/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/409/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/409/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/409",
        "id": 1817046608,
        "node_id": "PR_kwDOHfNHc85WKSyo",
        "number": 409,
        "title": "Update commands for hosting Llama 2 in readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-23T08:50:56Z",
        "updated_at": "2023-07-23T09:08:08Z",
        "closed_at": "2023-07-23T09:08:07Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/409",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/409",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/409.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/409.patch",
            "merged_at": "2023-07-23T09:08:07Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/409/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/409/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/408",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/408/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/408/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/408/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/408",
        "id": 1816989850,
        "node_id": "I_kwDOHfNHc85sTRCa",
        "number": 408,
        "title": "Expand on FLUX network of decentralized nodes",
        "user": {
            "login": "mongolu",
            "id": 5344119,
            "node_id": "MDQ6VXNlcjUzNDQxMTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5344119?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mongolu",
            "html_url": "https://github.com/mongolu",
            "followers_url": "https://api.github.com/users/mongolu/followers",
            "following_url": "https://api.github.com/users/mongolu/following{/other_user}",
            "gists_url": "https://api.github.com/users/mongolu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mongolu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mongolu/subscriptions",
            "organizations_url": "https://api.github.com/users/mongolu/orgs",
            "repos_url": "https://api.github.com/users/mongolu/repos",
            "events_url": "https://api.github.com/users/mongolu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mongolu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-23T05:07:01Z",
        "updated_at": "2023-07-23T05:09:31Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "How it will be running on the [FLUX network](https://runonflux.io/) ? They have enterprise grade hardware, lots of compute power and muuuch cheaper prices. Don't know about GPUs, but nevertheless, I would like the ideea.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/408/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/408/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/407",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/407/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/407/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/407/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/407",
        "id": 1816888240,
        "node_id": "PR_kwDOHfNHc85WJ0i2",
        "number": 407,
        "title": "Update README.md",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-22T20:41:01Z",
        "updated_at": "2023-07-22T20:41:42Z",
        "closed_at": "2023-07-22T20:41:41Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/407",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/407",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/407.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/407.patch",
            "merged_at": "2023-07-22T20:41:41Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/407/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/407/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/406",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/406/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/406/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/406/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/406",
        "id": 1816879655,
        "node_id": "PR_kwDOHfNHc85WJy5J",
        "number": 406,
        "title": "Add Llama 2, WSL instructions to readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-22T20:04:12Z",
        "updated_at": "2023-07-22T20:35:20Z",
        "closed_at": "2023-07-22T20:35:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/406",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/406",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/406.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/406.patch",
            "merged_at": "2023-07-22T20:35:19Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/406/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/406/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/405",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/405/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/405/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/405/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/405",
        "id": 1816839668,
        "node_id": "I_kwDOHfNHc85sSsX0",
        "number": 405,
        "title": "RuntimeError: Attempt to start a new process before current process has finished its bootstrapping phase",
        "user": {
            "login": "mberman84",
            "id": 748450,
            "node_id": "MDQ6VXNlcjc0ODQ1MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/748450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mberman84",
            "html_url": "https://github.com/mberman84",
            "followers_url": "https://api.github.com/users/mberman84/followers",
            "following_url": "https://api.github.com/users/mberman84/following{/other_user}",
            "gists_url": "https://api.github.com/users/mberman84/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mberman84/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mberman84/subscriptions",
            "organizations_url": "https://api.github.com/users/mberman84/orgs",
            "repos_url": "https://api.github.com/users/mberman84/repos",
            "events_url": "https://api.github.com/users/mberman84/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mberman84/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-07-22T17:29:16Z",
        "updated_at": "2023-08-31T08:11:08Z",
        "closed_at": "2023-08-29T03:52:33Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I'm using MacOS and got everything installed. Now I'm trying to run the code recommended in the docs:\r\n\r\n```\r\nfrom transformers import AutoTokenizer\r\nfrom petals import AutoDistributedModelForCausalLM\r\n\r\nmodel_name = \"enoch/llama-65b-hf\"\r\n# You can also use \"meta-llama/Llama-2-70b-hf\", \"meta-llama/Llama-2-70b-chat-hf\",\r\n# \"bigscience/bloom\", or \"bigscience/bloomz\"\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(model_name)\r\nmodel = AutoDistributedModelForCausalLM.from_pretrained(model_name)\r\n# Embeddings & prompts are on your device, transformer blocks are distributed across the Internet\r\n\r\ninputs = tokenizer(\"A cat sat\", return_tensors=\"pt\")[\"input_ids\"]\r\noutputs = model.generate(inputs, max_new_tokens=5)\r\nprint(tokenizer.decode(outputs[0]))  # A cat sat on a mat...\r\n```\r\n\r\nHowever, when I try this, I get this error:\r\n\r\n```\r\nAn attempt has been made to start a new process before the\r\n        current process has finished its bootstrapping phase.\r\n\r\n        This probably means that you are not using fork to start your\r\n        child processes and you have forgotten to use the proper idiom\r\n        in the main module:\r\n\r\n            if __name__ == '__main__':\r\n                freeze_support()\r\n                ...\r\n\r\n        The \"freeze_support()\" line can be omitted if the program\r\n        is not going to be frozen to produce an executable.\r\n```\r\n\r\nWhen I try to use the new LLama2 model (I have access) it starts to download the entire model, which is obviously huge (15x9gb). Is that the correct behavior? ",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/405/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/405/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/404",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/404/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/404/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/404/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/404",
        "id": 1816789662,
        "node_id": "PR_kwDOHfNHc85WJhng",
        "number": 404,
        "title": "If speedtest fails, assume network speed of 100 Mbit/s",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-22T14:47:45Z",
        "updated_at": "2023-07-22T14:49:38Z",
        "closed_at": "2023-07-22T14:49:38Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/404",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/404",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/404.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/404.patch",
            "merged_at": "2023-07-22T14:49:37Z"
        },
        "body": "The value is chosen as some safe value below average at https://health.petals.dev/\r\n\r\nNote that if a server uses relays, the effective throughput will be further divided by 2 (see #399).",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/404/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/404/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/403",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/403/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/403/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/403/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/403",
        "id": 1816727696,
        "node_id": "PR_kwDOHfNHc85WJVio",
        "number": 403,
        "title": "Split long sequences into chunks",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-22T11:16:30Z",
        "updated_at": "2023-07-22T19:11:08Z",
        "closed_at": "2023-07-22T19:10:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/403",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/403",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/403.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/403.patch",
            "merged_at": "2023-07-22T19:10:46Z"
        },
        "body": "This PR is designed to avoid OOMs when processing long sequences that happen due to huge attention logits matrices.\r\n\r\nToDo\r\n- [ ] make similar stuff for forward and backward",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/403/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/403/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/402",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/402/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/402/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/402/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/402",
        "id": 1816505892,
        "node_id": "PR_kwDOHfNHc85WIqcc",
        "number": 402,
        "title": "Add FlashAttention 2 support",
        "user": {
            "login": "Jeduh",
            "id": 98840691,
            "node_id": "U_kgDOBeQwcw",
            "avatar_url": "https://avatars.githubusercontent.com/u/98840691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Jeduh",
            "html_url": "https://github.com/Jeduh",
            "followers_url": "https://api.github.com/users/Jeduh/followers",
            "following_url": "https://api.github.com/users/Jeduh/following{/other_user}",
            "gists_url": "https://api.github.com/users/Jeduh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Jeduh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Jeduh/subscriptions",
            "organizations_url": "https://api.github.com/users/Jeduh/orgs",
            "repos_url": "https://api.github.com/users/Jeduh/repos",
            "events_url": "https://api.github.com/users/Jeduh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Jeduh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 9,
        "created_at": "2023-07-22T00:21:31Z",
        "updated_at": "2023-09-07T01:29:14Z",
        "closed_at": "2023-09-07T01:29:14Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/402",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/402",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/402.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/402.patch",
            "merged_at": null
        },
        "body": "I used [this monkeypatch](https://github.com/johnsmith0031/alpaca_lora_4bit/blob/main/monkeypatch/llama_flash_attn_monkey_patch.py) to replace LlamaAttention's forward() function globally if FLashAttention is a python module. Meaning nothings changed if FlashAttention isn't installed, and, Bloom's attention isn't affected.\r\n\r\nEmbarrassingly, from my earlier [issue](https://github.com/bigscience-workshop/petals/issues/387) those gains in performance came directly from the recent commits that drastically improved the performance. Props to the guy behind that. Now with it confirmed working, from quickly testing, The inference is slightly worse at small context and around the same for 2048 and slightly better at inference. I keeping it very vague for now because I didn't benchmark it properly but one thing I knew for sure was different was the vram usage at 2048 inference. The usage would barely move and stayed well bellow max limits whereas before, I'd be OOM'ing after a few 2048's. But now, I know it works for sure though messing up the attention mechanisms and debugging that haha. \r\n\r\nCould someone help me test it please? I'll see what more I can do tomorrow.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/402/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/402/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/401",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/401/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/401/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/401/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/401",
        "id": 1816101861,
        "node_id": "I_kwDOHfNHc85sP4Pl",
        "number": 401,
        "title": "  ERROR: Failed building wheel for grpcio-tools   Running setup.py clean for grpcio-tools Failed to build grpcio-tools ERROR: Could not build wheels for grpcio-tools, which is required to install pyproject.toml-based projects",
        "user": {
            "login": "TheBestOfTheQuests",
            "id": 136889574,
            "node_id": "U_kgDOCCjE5g",
            "avatar_url": "https://avatars.githubusercontent.com/u/136889574?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheBestOfTheQuests",
            "html_url": "https://github.com/TheBestOfTheQuests",
            "followers_url": "https://api.github.com/users/TheBestOfTheQuests/followers",
            "following_url": "https://api.github.com/users/TheBestOfTheQuests/following{/other_user}",
            "gists_url": "https://api.github.com/users/TheBestOfTheQuests/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TheBestOfTheQuests/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TheBestOfTheQuests/subscriptions",
            "organizations_url": "https://api.github.com/users/TheBestOfTheQuests/orgs",
            "repos_url": "https://api.github.com/users/TheBestOfTheQuests/repos",
            "events_url": "https://api.github.com/users/TheBestOfTheQuests/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TheBestOfTheQuests/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-07-21T16:46:13Z",
        "updated_at": "2023-07-22T14:30:46Z",
        "closed_at": "2023-07-22T14:30:36Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I tried installing petals via pip on wsl kali linux on a virtual enviroment, but it throws an error when trying to install grpcio-tools. When installing the package seperately, it works, but when installing petals it doesnt. I cant submit the whole log because it is too long, but heres the relevant part:\r\nerror: command '/usr/bin/x86_64-linux-gnu-gcc' failed with exit code 1\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building wheel for grpcio-tools\r\n  Running setup.py clean for grpcio-tools\r\nFailed to build grpcio-tools\r\nERROR: Could not build wheels for grpcio-tools, which is required to install pyproject.toml-based projects",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/401/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/401/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/400",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/400/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/400/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/400/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/400",
        "id": 1816030780,
        "node_id": "I_kwDOHfNHc85sPm48",
        "number": 400,
        "title": "Add windows support",
        "user": {
            "login": "dinosaurtirex",
            "id": 58666088,
            "node_id": "MDQ6VXNlcjU4NjY2MDg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58666088?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dinosaurtirex",
            "html_url": "https://github.com/dinosaurtirex",
            "followers_url": "https://api.github.com/users/dinosaurtirex/followers",
            "following_url": "https://api.github.com/users/dinosaurtirex/following{/other_user}",
            "gists_url": "https://api.github.com/users/dinosaurtirex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dinosaurtirex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dinosaurtirex/subscriptions",
            "organizations_url": "https://api.github.com/users/dinosaurtirex/orgs",
            "repos_url": "https://api.github.com/users/dinosaurtirex/repos",
            "events_url": "https://api.github.com/users/dinosaurtirex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dinosaurtirex/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2023-07-21T15:48:58Z",
        "updated_at": "2023-08-30T14:18:52Z",
        "closed_at": "2023-08-30T03:59:59Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I tried to install and got error:\r\n```\r\nRuntimeError: uvloop does not support Windows at the moment\r\n```\r\nYou guys making great job, but if you want to engage more people you need to have executable simple programs which is very easy to install on computer, like utorent \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/400/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/400/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/399",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/399/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/399/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/399/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/399",
        "id": 1815941427,
        "node_id": "PR_kwDOHfNHc85WGwQz",
        "number": 399,
        "title": "Fix routing through relay, default network RPS, --token, logging, readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-21T14:49:19Z",
        "updated_at": "2023-07-22T14:28:04Z",
        "closed_at": "2023-07-22T14:27:59Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/399",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/399",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/399.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/399.patch",
            "merged_at": "2023-07-22T14:27:59Z"
        },
        "body": "* Hide GeneratorExit in _iterate_inference_steps()\r\n* Update README.md about `--public_name`\r\n* Use .from_pretrained(..., use_auth_token=token) instead of token=token\r\nuntil it's fully supported across HF libs\r\n* Use default network speed 25 Mbit/s\r\n* Apply relay penalty in max-throughput routing\r\n* Replace RPS with \"tokens/sec per block\" in logs\r\n* Increase default expiration",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/399/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/399/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/398",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/398/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/398/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/398/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/398",
        "id": 1815909233,
        "node_id": "I_kwDOHfNHc85sPJNx",
        "number": 398,
        "title": "Petals Error: GPU is not available",
        "user": {
            "login": "SephReed",
            "id": 14002040,
            "node_id": "MDQ6VXNlcjE0MDAyMDQw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14002040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SephReed",
            "html_url": "https://github.com/SephReed",
            "followers_url": "https://api.github.com/users/SephReed/followers",
            "following_url": "https://api.github.com/users/SephReed/following{/other_user}",
            "gists_url": "https://api.github.com/users/SephReed/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SephReed/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SephReed/subscriptions",
            "organizations_url": "https://api.github.com/users/SephReed/orgs",
            "repos_url": "https://api.github.com/users/SephReed/repos",
            "events_url": "https://api.github.com/users/SephReed/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SephReed/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-07-21T14:28:59Z",
        "updated_at": "2023-08-02T11:27:38Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I'm running a 660Ti, so I'm pretty used to it not playing well with other things.  If there's something I can do, that would be great.  Otherwise, this is just a jumping off point for anyone who gets the same error.\r\n\r\n```\r\nAssertionError: GPU is not available. If you want to run a CPU-only server.....\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/398/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/398/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/397",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/397/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/397/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/397/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/397",
        "id": 1815842937,
        "node_id": "PR_kwDOHfNHc85WGa6y",
        "number": 397,
        "title": "Update README.md to explain how to use older python versions",
        "user": {
            "login": "SephReed",
            "id": 14002040,
            "node_id": "MDQ6VXNlcjE0MDAyMDQw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14002040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SephReed",
            "html_url": "https://github.com/SephReed",
            "followers_url": "https://api.github.com/users/SephReed/followers",
            "following_url": "https://api.github.com/users/SephReed/following{/other_user}",
            "gists_url": "https://api.github.com/users/SephReed/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SephReed/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SephReed/subscriptions",
            "organizations_url": "https://api.github.com/users/SephReed/orgs",
            "repos_url": "https://api.github.com/users/SephReed/repos",
            "events_url": "https://api.github.com/users/SephReed/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SephReed/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-21T13:47:23Z",
        "updated_at": "2023-07-22T14:28:35Z",
        "closed_at": "2023-07-22T14:28:34Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/397",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/397",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/397.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/397.patch",
            "merged_at": null
        },
        "body": "python 11 has issues",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/397/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/397/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/396",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/396/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/396/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/396/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/396",
        "id": 1815259089,
        "node_id": "PR_kwDOHfNHc85WEc5e",
        "number": 396,
        "title": "Fix deadlocks in MemoryCache",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-21T06:55:37Z",
        "updated_at": "2023-07-21T07:09:26Z",
        "closed_at": "2023-07-21T07:09:25Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/396",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/396",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/396.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/396.patch",
            "merged_at": "2023-07-21T07:09:25Z"
        },
        "body": "- Fix deadlocks in MemoryCache\r\n- Set default --alloc_timeout to 1 until the MemoryCache update",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/396/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/396/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/395",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/395/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/395/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/395/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/395",
        "id": 1815233136,
        "node_id": "I_kwDOHfNHc85sMkJw",
        "number": 395,
        "title": "Cuda 11.8 supported?",
        "user": {
            "login": "vadi2",
            "id": 110988,
            "node_id": "MDQ6VXNlcjExMDk4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/110988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadi2",
            "html_url": "https://github.com/vadi2",
            "followers_url": "https://api.github.com/users/vadi2/followers",
            "following_url": "https://api.github.com/users/vadi2/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadi2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadi2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadi2/subscriptions",
            "organizations_url": "https://api.github.com/users/vadi2/orgs",
            "repos_url": "https://api.github.com/users/vadi2/repos",
            "events_url": "https://api.github.com/users/vadi2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadi2/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-07-21T06:31:21Z",
        "updated_at": "2023-07-22T08:06:58Z",
        "closed_at": "2023-07-22T08:06:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "Cuda 11.8 improves inferencing speed by 2x for rtx 4000 series cards (I've seen it personally with Stable Diffusion and it can be [seen on HN](https://news.ycombinator.com/item?id=36787473)). Can it work for hosting petals as well?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/395/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/395/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/394",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/394/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/394/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/394/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/394",
        "id": 1814815925,
        "node_id": "I_kwDOHfNHc85sK-S1",
        "number": 394,
        "title": "Allow filtering by max sequence length",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-07-20T21:21:05Z",
        "updated_at": "2023-07-23T11:03:07Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Problem: if some (but not all) servers support longer sequence length, inferencing with that sequence length would be very inefficient because the client will constantly bump into short-length servers.\r\n\r\nSuggested solution: if we ask servers to report max sequence length to the DHT, a client will be able to filter by sequence length as they read DHT entries.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/394/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/394/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/393",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/393/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/393/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/393/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/393",
        "id": 1814711650,
        "node_id": "PR_kwDOHfNHc85WCnUf",
        "number": 393,
        "title": "Support Python 3.11",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-20T20:01:36Z",
        "updated_at": "2023-07-22T09:07:45Z",
        "closed_at": "2023-07-22T09:07:44Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/393",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/393",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/393.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/393.patch",
            "merged_at": "2023-07-22T09:07:44Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/393/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/393/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/392",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/392/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/392/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/392/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/392",
        "id": 1814605372,
        "node_id": "PR_kwDOHfNHc85WCPyu",
        "number": 392,
        "title": "Fix --attn_cache_tokens default",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-20T18:44:16Z",
        "updated_at": "2023-07-20T19:20:16Z",
        "closed_at": "2023-07-20T19:20:15Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/392",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/392",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/392.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/392.patch",
            "merged_at": "2023-07-20T19:20:15Z"
        },
        "body": "I've accidentally changed the default for non-multi-query-attention models to a smaller one, fixing that.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/392/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/392/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/391",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/391/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/391/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/391/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/391",
        "id": 1814438745,
        "node_id": "PR_kwDOHfNHc85WBrUX",
        "number": 391,
        "title": "Bump version to 2.0.0.post3",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-20T17:00:58Z",
        "updated_at": "2023-07-20T17:07:01Z",
        "closed_at": "2023-07-20T17:07:00Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/391",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/391",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/391.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/391.patch",
            "merged_at": "2023-07-20T17:07:00Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/391/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/391/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/390",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/390/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/390/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/390/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/390",
        "id": 1814283404,
        "node_id": "PR_kwDOHfNHc85WBI__",
        "number": 390,
        "title": "Update to petals.dev",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-20T15:34:39Z",
        "updated_at": "2023-07-20T16:59:30Z",
        "closed_at": "2023-07-20T16:59:29Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/390",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/390",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/390.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/390.patch",
            "merged_at": "2023-07-20T16:59:29Z"
        },
        "body": "Since `petals.ml` DNS record is still unavailable, we're switching everything to https://petals.dev",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/390/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/390/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/389",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/389/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/389/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/389/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/389",
        "id": 1813905652,
        "node_id": "I_kwDOHfNHc85sHgD0",
        "number": 389,
        "title": "Swarm balancing logic issues",
        "user": {
            "login": "fadenb",
            "id": 878822,
            "node_id": "MDQ6VXNlcjg3ODgyMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/878822?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fadenb",
            "html_url": "https://github.com/fadenb",
            "followers_url": "https://api.github.com/users/fadenb/followers",
            "following_url": "https://api.github.com/users/fadenb/following{/other_user}",
            "gists_url": "https://api.github.com/users/fadenb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fadenb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fadenb/subscriptions",
            "organizations_url": "https://api.github.com/users/fadenb/orgs",
            "repos_url": "https://api.github.com/users/fadenb/repos",
            "events_url": "https://api.github.com/users/fadenb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fadenb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 17,
        "created_at": "2023-07-20T12:38:01Z",
        "updated_at": "2023-09-05T08:59:57Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hey \ud83d\udc4b,\r\n\r\nI am opening this issue to discuss the current swarm balancing approach.\r\n\r\nRecently I have seen that the public swarm hosting `enoch/llama-65b-hf` is unbalanced.\r\nThis by itself is not a surprise nor a problem. The issue is then remediated by the server loading other blocks. All good so far.\r\n\r\nToday I noticed that my server is loading the same blocks it had before. As the loading process is quite slow (often around 10 minutes), this basically takes away the compute capacity of that server from the swarm for 10 minutes without providing any benefit.\r\n\r\nA log excerpt might explain the situation better:\r\nNotice that `[60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79]` is loaded initially and also the exact same `[60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79]` to rebalance it.\r\n```\r\nJul 20 12:08:47.880 [INFO] Make sure you follow the LLaMA's terms of use: https://bit.ly/llama2-license for LLaMA 2, https://bit.ly/llama-license for LLaMA 1\r\nJul 20 12:08:47.880 [INFO] Using DHT prefix: llama-65b-hf\r\nJul 20 12:08:57.909 [INFO] This server is accessible directly\r\nJul 20 12:09:02.623 [INFO] Connecting to the public swarm\r\nJul 20 12:09:02.624 [INFO] Running a server on ['/ip4/172.17.0.2/tcp/31330/p2p/12D3KooWFS61Xw7XJksfwDg6tYdBAXYuChTCkZTwqxqqWQdHFAQf', '/ip4/127.0.0.1/tcp/31330/p2p/12D3KooWFS61Xw7XJksfwDg6tYdBAXYuChTCkZTwqxqqWQdHFAQf', '/ip4/147.189.193.61/tcp/31330/p2p/12D3KooWFS61Xw7XJksfwDg6tYdBAXYuChTCkZTwqxqqWQdHFAQf']\r\nJul 20 12:09:02.646 [INFO] Model weights are loaded in float16, quantized to nf4 format\r\nJul 20 12:09:02.647 [INFO] Attention cache for all blocks will consume up to 1.25 GiB\r\nJul 20 12:09:02.648 [INFO] Loading throughput info\r\nJul 20 12:09:02.684 [INFO] Reporting throughput: 2203.3 RPS for 20 blocks\r\nJul 20 12:09:04.430 [INFO] Reachability service started\r\nJul 20 12:09:08.345 [INFO] Announced that blocks [60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79] are joining\r\nJul 20 12:09:15.051 [INFO] Loaded enoch/llama-65b-hf block 60, <All keys matched successfully>\r\nDownloading (\u2026)/adapter_config.json: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 425/425 [00:00<00:00, 2.09MB/s]\r\nDownloading (\u2026)er_model.safetensors: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.20G/3.20G [00:54<00:00, 58.3MB/s]\r\nJul 20 12:10:36.878 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:10:37.081 [INFO] Loaded adapter timdettmers/guanaco-65b for block 60\r\nJul 20 12:10:44.745 [INFO] Loaded enoch/llama-65b-hf block 61, <All keys matched successfully>\r\nJul 20 12:11:08.242 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:11:08.441 [INFO] Loaded adapter timdettmers/guanaco-65b for block 61\r\nJul 20 12:11:16.205 [INFO] Loaded enoch/llama-65b-hf block 62, <All keys matched successfully>\r\nJul 20 12:11:38.475 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:11:38.669 [INFO] Loaded adapter timdettmers/guanaco-65b for block 62\r\nJul 20 12:11:45.308 [INFO] Loaded enoch/llama-65b-hf block 63, <All keys matched successfully>\r\nJul 20 12:12:08.372 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:12:08.595 [INFO] Loaded adapter timdettmers/guanaco-65b for block 63\r\nJul 20 12:12:17.520 [INFO] Loaded enoch/llama-65b-hf block 64, <All keys matched successfully>\r\nJul 20 12:12:40.703 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:12:41.066 [INFO] Loaded adapter timdettmers/guanaco-65b for block 64\r\nJul 20 12:12:48.411 [INFO] Loaded enoch/llama-65b-hf block 65, <All keys matched successfully>\r\nJul 20 12:12:59.529 [INFO] reachability.rpc_check(remote_peer=...ZFKwzs, check_peer=...ZFKwzs) -> False\r\nJul 20 12:13:11.434 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:13:11.927 [INFO] Loaded adapter timdettmers/guanaco-65b for block 65\r\nJul 20 12:13:19.812 [INFO] Loaded enoch/llama-65b-hf block 66, <All keys matched successfully>\r\nJul 20 12:13:43.257 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:13:43.823 [INFO] Loaded adapter timdettmers/guanaco-65b for block 66\r\nJul 20 12:13:51.392 [INFO] Loaded enoch/llama-65b-hf block 67, <All keys matched successfully>\r\nJul 20 12:14:16.225 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:14:16.776 [INFO] Loaded adapter timdettmers/guanaco-65b for block 67\r\nJul 20 12:14:25.466 [INFO] Loaded enoch/llama-65b-hf block 68, <All keys matched successfully>\r\nJul 20 12:14:49.068 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:14:49.586 [INFO] Loaded adapter timdettmers/guanaco-65b for block 68\r\nJul 20 12:14:57.751 [INFO] Loaded enoch/llama-65b-hf block 69, <All keys matched successfully>\r\nJul 20 12:15:20.843 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:15:21.370 [INFO] Loaded adapter timdettmers/guanaco-65b for block 69\r\nJul 20 12:15:34.991 [INFO] Loaded enoch/llama-65b-hf block 70, <All keys matched successfully>\r\nJul 20 12:15:57.221 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:15:57.713 [INFO] Loaded adapter timdettmers/guanaco-65b for block 70\r\nJul 20 12:16:08.368 [INFO] Loaded enoch/llama-65b-hf block 71, <All keys matched successfully>\r\nJul 20 12:16:29.393 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:16:29.884 [INFO] Loaded adapter timdettmers/guanaco-65b for block 71\r\nJul 20 12:16:36.503 [INFO] Loaded enoch/llama-65b-hf block 72, <All keys matched successfully>\r\nJul 20 12:16:57.748 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:16:58.263 [INFO] Loaded adapter timdettmers/guanaco-65b for block 72\r\nJul 20 12:17:05.251 [INFO] Loaded enoch/llama-65b-hf block 73, <All keys matched successfully>\r\nJul 20 12:17:26.114 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:17:26.605 [INFO] Loaded adapter timdettmers/guanaco-65b for block 73\r\nJul 20 12:17:33.660 [INFO] Loaded enoch/llama-65b-hf block 74, <All keys matched successfully>\r\n^[OP^[OPJul 20 12:17:54.764 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:17:55.280 [INFO] Loaded adapter timdettmers/guanaco-65b for block 74\r\nJul 20 12:18:02.302 [INFO] Loaded enoch/llama-65b-hf block 75, <All keys matched successfully>\r\n^[OP^[OPJul 20 12:18:23.076 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:18:23.551 [INFO] Loaded adapter timdettmers/guanaco-65b for block 75\r\nJul 20 12:18:30.137 [INFO] Loaded enoch/llama-65b-hf block 76, <All keys matched successfully>\r\nJul 20 12:18:50.908 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:18:51.420 [INFO] Loaded adapter timdettmers/guanaco-65b for block 76\r\nJul 20 12:18:57.203 [INFO] Loaded enoch/llama-65b-hf block 77, <All keys matched successfully>\r\nJul 20 12:19:17.972 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:19:18.472 [INFO] Loaded adapter timdettmers/guanaco-65b for block 77\r\nJul 20 12:19:23.977 [INFO] Loaded enoch/llama-65b-hf block 78, <All keys matched successfully>\r\nJul 20 12:19:44.690 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:19:45.199 [INFO] Loaded adapter timdettmers/guanaco-65b for block 78\r\nJul 20 12:19:50.305 [INFO] Loaded enoch/llama-65b-hf block 79, <All keys matched successfully>\r\nJul 20 12:20:11.381 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:20:11.894 [INFO] Loaded adapter timdettmers/guanaco-65b for block 79\r\nJul 20 12:20:11.962 [WARN] [petals.server.reachability.validate_reachability:40] Skipping reachability check because health.petals.ml is down: ConnectionError(MaxRetryError(\"HTTPConnectionPool(host='health.petals.ml', port=80): Max retries exceeded with url: /api/v1/is_reachable/12D3KooWFS61Xw7XJksfwDg6tYdBAXYuChTCkZTwqxqqWQdHFAQf (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fbf09f084f0>: Failed to establish a new connection: [Errno -2] Name or service not known'))\"))\r\nJul 20 12:20:14.168 [INFO] Started\r\nJul 20 12:26:02.132 [INFO] Swarm balance quality: 65.3%\r\nJul 20 12:26:02.133 [INFO] Swarm is imbalanced, server will load other blocks\r\nJul 20 12:26:03.947 [INFO] Announced that blocks ['llama-65b-hf.60', 'llama-65b-hf.61', 'llama-65b-hf.62', 'llama-65b-hf.63', 'llama-65b-hf.64', 'llama-65b-hf.65', 'llama-65b-hf.66', 'llama-65b-hf.67', 'llama-65b-hf.68', 'llama-65b-hf.69', 'llama-65b-hf.70', 'llama-65b-hf.71', 'llama-65b-hf.72', 'llama-65b-hf.73', 'llama-65b-hf.74', 'llama-65b-hf.75', 'llama-65b-hf.76', 'llama-65b-hf.77', 'llama-65b-hf.78', 'llama-65b-hf.79'] are offline\r\nJul 20 12:26:06.251 [INFO] Shutting down\r\nJul 20 12:26:06.266 [INFO] Module container shut down successfully\r\nJul 20 12:26:06.492 [INFO] Cleaning up, left 0.3 GiB allocated memory, 6.3 GiB reserved memory\r\nJul 20 12:26:12.177 [INFO] Announced that blocks [60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79] are joining\r\nJul 20 12:26:19.559 [INFO] Loaded enoch/llama-65b-hf block 60, <All keys matched successfully>\r\nJul 20 12:26:41.387 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:26:41.927 [INFO] Loaded adapter timdettmers/guanaco-65b for block 60\r\nJul 20 12:26:49.273 [INFO] Loaded enoch/llama-65b-hf block 61, <All keys matched successfully>\r\nJul 20 12:27:13.392 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:27:13.971 [INFO] Loaded adapter timdettmers/guanaco-65b for block 61\r\nJul 20 12:27:21.899 [INFO] Loaded enoch/llama-65b-hf block 62, <All keys matched successfully>\r\nJul 20 12:27:43.149 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:27:43.671 [INFO] Loaded adapter timdettmers/guanaco-65b for block 62\r\nJul 20 12:27:50.241 [INFO] Loaded enoch/llama-65b-hf block 63, <All keys matched successfully>\r\nJul 20 12:28:11.106 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:28:11.609 [INFO] Loaded adapter timdettmers/guanaco-65b for block 63\r\nJul 20 12:28:18.728 [INFO] Loaded enoch/llama-65b-hf block 64, <All keys matched successfully>\r\nJul 20 12:28:40.008 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\nJul 20 12:28:40.396 [INFO] Loaded adapter timdettmers/guanaco-65b for block 64\r\nJul 20 12:28:48.484 [INFO] Loaded enoch/llama-65b-hf block 65, <All keys matched successfully>\r\nJul 20 12:29:09.470 [INFO] Adapter timdettmers/guanaco-65b has dropout enabled, this server will disable dropout\r\n```\r\n\r\nWhile this is an extreme example of the problem, I have seen (more often) that parts of the block lists overlap. In such cases, the overlapping blocks are still loaded from scratch instead of being reused.\r\n\r\nAre there any obvious fixes for this behavior besides adjusting the `--balance_quality` setting or pinning blocks?\r\nShould we reorder the actions so that the new blocks will be selected before the decision is made to unload the blocks?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/389/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/389/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/388",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/388/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/388/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/388/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/388",
        "id": 1812990578,
        "node_id": "I_kwDOHfNHc85sEApy",
        "number": 388,
        "title": "ERROR: Could not build wheels for grpcio-tools, which is required to install pyproject.toml-based projects",
        "user": {
            "login": "mberman84",
            "id": 748450,
            "node_id": "MDQ6VXNlcjc0ODQ1MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/748450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mberman84",
            "html_url": "https://github.com/mberman84",
            "followers_url": "https://api.github.com/users/mberman84/followers",
            "following_url": "https://api.github.com/users/mberman84/following{/other_user}",
            "gists_url": "https://api.github.com/users/mberman84/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mberman84/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mberman84/subscriptions",
            "organizations_url": "https://api.github.com/users/mberman84/orgs",
            "repos_url": "https://api.github.com/users/mberman84/repos",
            "events_url": "https://api.github.com/users/mberman84/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mberman84/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2023-07-20T01:40:42Z",
        "updated_at": "2023-07-23T09:28:37Z",
        "closed_at": "2023-07-22T14:29:57Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I keep getting this error. I've tried to install different versions of grpcio, using a conda env, different versions of python...anyone else having this issue? I'm on a mac M2. ",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/388/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/388/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/387",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/387/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/387/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/387/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/387",
        "id": 1812943224,
        "node_id": "I_kwDOHfNHc85sD1F4",
        "number": 387,
        "title": "Implemented FlashAttention 2",
        "user": {
            "login": "Jeduh",
            "id": 98840691,
            "node_id": "U_kgDOBeQwcw",
            "avatar_url": "https://avatars.githubusercontent.com/u/98840691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Jeduh",
            "html_url": "https://github.com/Jeduh",
            "followers_url": "https://api.github.com/users/Jeduh/followers",
            "following_url": "https://api.github.com/users/Jeduh/following{/other_user}",
            "gists_url": "https://api.github.com/users/Jeduh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Jeduh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Jeduh/subscriptions",
            "organizations_url": "https://api.github.com/users/Jeduh/orgs",
            "repos_url": "https://api.github.com/users/Jeduh/repos",
            "events_url": "https://api.github.com/users/Jeduh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Jeduh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "mryab",
            "id": 16766985,
            "node_id": "MDQ6VXNlcjE2NzY2OTg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/16766985?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mryab",
            "html_url": "https://github.com/mryab",
            "followers_url": "https://api.github.com/users/mryab/followers",
            "following_url": "https://api.github.com/users/mryab/following{/other_user}",
            "gists_url": "https://api.github.com/users/mryab/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mryab/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mryab/subscriptions",
            "organizations_url": "https://api.github.com/users/mryab/orgs",
            "repos_url": "https://api.github.com/users/mryab/repos",
            "events_url": "https://api.github.com/users/mryab/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mryab/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "mryab",
                "id": 16766985,
                "node_id": "MDQ6VXNlcjE2NzY2OTg1",
                "avatar_url": "https://avatars.githubusercontent.com/u/16766985?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mryab",
                "html_url": "https://github.com/mryab",
                "followers_url": "https://api.github.com/users/mryab/followers",
                "following_url": "https://api.github.com/users/mryab/following{/other_user}",
                "gists_url": "https://api.github.com/users/mryab/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mryab/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mryab/subscriptions",
                "organizations_url": "https://api.github.com/users/mryab/orgs",
                "repos_url": "https://api.github.com/users/mryab/repos",
                "events_url": "https://api.github.com/users/mryab/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mryab/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-07-20T00:39:56Z",
        "updated_at": "2023-07-22T08:08:04Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I managed to get [FlashAttention-2](https://github.com/Dao-AILab/flash-attention) implemented by switching the LlamaAttention in models.llama.config with a flash attention monkeypatch I got from alpaca_lora_4bit and updated it to version 2 by using replacing unpadded (old v1) with varlen (v2). Here is [my fork](https://github.com/Jeduh/petals) with the changes.\r\n\r\nResults:\r\n-  \\>1.1x increase in inference RPS\r\n-  2x increase in forward RPS\r\n\r\nAll though, I cant do much with this since the main swarm rejects this code change and sends a protocol unsupported error. Makes sense. \r\n\r\nCould FlashAttention 2 please be implemented into petals? As I've demonstrated, It's really easy and it saves a huge amount of attention memory with the new version, as attention is now made linear as seq_len grows,  allowing for much higher --attn_cache_tokens. It even works for Multi-query attention and grouped-query attention for Llama 2 and I feel like this is right in line with the projects intentions of batching and linear attention compute being the same cost for the 3000-4000th token as the 0-1000th making usage calculations easy. At least as an option for hosts to get more out of their system?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/387/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/387/timeline",
        "performed_via_github_app": null,
        "state_reason": "reopened"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/386",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/386/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/386/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/386/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/386",
        "id": 1812839845,
        "node_id": "I_kwDOHfNHc85sDb2l",
        "number": 386,
        "title": "Official website disappear",
        "user": {
            "login": "edsonke",
            "id": 10094209,
            "node_id": "MDQ6VXNlcjEwMDk0MjA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/10094209?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edsonke",
            "html_url": "https://github.com/edsonke",
            "followers_url": "https://api.github.com/users/edsonke/followers",
            "following_url": "https://api.github.com/users/edsonke/following{/other_user}",
            "gists_url": "https://api.github.com/users/edsonke/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edsonke/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edsonke/subscriptions",
            "organizations_url": "https://api.github.com/users/edsonke/orgs",
            "repos_url": "https://api.github.com/users/edsonke/repos",
            "events_url": "https://api.github.com/users/edsonke/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edsonke/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-07-19T22:45:31Z",
        "updated_at": "2023-07-20T17:34:40Z",
        "closed_at": "2023-07-20T17:34:40Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi everyone,\r\n\r\nI'm new to this fascinating project and I'm eager to explore more documents on the official website. Unfortunately, it seems that https://petals.ml/ is currently inaccessible. Could someone please look into this issue and either correct the link or consider removing it from the project since it appears to be missing or unavailable?\r\n\r\nThank you for your attention.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/386/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 1,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/386/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/385",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/385/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/385/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/385/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/385",
        "id": 1812619760,
        "node_id": "PR_kwDOHfNHc85V7bNb",
        "number": 385,
        "title": "Update push-docker-image.yaml",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T19:41:32Z",
        "updated_at": "2023-07-19T19:52:08Z",
        "closed_at": "2023-07-19T19:52:08Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/385",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/385",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/385.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/385.patch",
            "merged_at": null
        },
        "body": "Closed: Didn't help with build failure",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/385/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/385/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/384",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/384/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/384/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/384/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/384",
        "id": 1812299264,
        "node_id": "PR_kwDOHfNHc85V6UJD",
        "number": 384,
        "title": "Bump version to 2.0.0.post1",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T16:29:33Z",
        "updated_at": "2023-07-19T17:13:26Z",
        "closed_at": "2023-07-19T17:13:25Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/384",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/384",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/384.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/384.patch",
            "merged_at": "2023-07-19T17:13:25Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/384/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/384/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/383",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/383/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/383/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/383/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/383",
        "id": 1812221520,
        "node_id": "PR_kwDOHfNHc85V6DFP",
        "number": 383,
        "title": "Require accelerate>=0.20.3 as transformers do",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T15:40:37Z",
        "updated_at": "2023-07-19T16:28:24Z",
        "closed_at": "2023-07-19T16:28:23Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/383",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/383",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/383.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/383.patch",
            "merged_at": "2023-07-19T16:28:23Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/383/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/383/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/382",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/382/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/382/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/382/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/382",
        "id": 1812027703,
        "node_id": "I_kwDOHfNHc85sAVk3",
        "number": 382,
        "title": "chat.petals repeatedly dies with errors",
        "user": {
            "login": "pleabargain",
            "id": 640846,
            "node_id": "MDQ6VXNlcjY0MDg0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/640846?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pleabargain",
            "html_url": "https://github.com/pleabargain",
            "followers_url": "https://api.github.com/users/pleabargain/followers",
            "following_url": "https://api.github.com/users/pleabargain/following{/other_user}",
            "gists_url": "https://api.github.com/users/pleabargain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pleabargain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pleabargain/subscriptions",
            "organizations_url": "https://api.github.com/users/pleabargain/orgs",
            "repos_url": "https://api.github.com/users/pleabargain/repos",
            "events_url": "https://api.github.com/users/pleabargain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pleabargain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 9,
        "created_at": "2023-07-19T14:02:09Z",
        "updated_at": "2023-07-23T07:38:38Z",
        "closed_at": "2023-07-20T12:15:11Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "\r\n![image](https://github.com/bigscience-workshop/petals/assets/640846/1170806f-ed2f-42d8-8796-0968acaad84e)\r\n\r\n\r\nRequest failed. [Retry](http://chat.petals.ml/#)\r\nTraceback (most recent call last):\r\n  File \"/home/borzunov/chat.petals.ml/websocket_api.py\", line 51, in ws_api_generate\r\n    outputs = model.generate(\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/torch/autograd/grad_mode.py\", line 27, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/petals/client/remote_generation.py\", line 171, in generate\r\n    hidden_state = session.step(hidden_state, prompts=intermediate_prompts, hypo_ids=hypo_ids)[:, -1]\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/petals/client/inference_session.py\", line 304, in step\r\n    inputs = server_session.step(\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/petals/client/inference_session.py\", line 147, in step\r\n    outputs_serialized = RemoteExpertWorker.run_coroutine(\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/hivemind/moe/client/remote_expert_worker.py\", line 36, in run_coroutine\r\n    return future if return_future else future.result()\r\n  File \"/usr/lib/python3.10/concurrent/futures/_base.py\", line 458, in result\r\n    return self.__get_result()\r\n  File \"/usr/lib/python3.10/concurrent/futures/_base.py\", line 403, in __get_result\r\n    raise self._exception\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/petals/client/inference_session.py\", line 182, in _step\r\n    return await asyncio.wait_for(anext(self._outputs_stream), self.config.request_timeout)\r\n  File \"/usr/lib/python3.10/asyncio/tasks.py\", line 445, in wait_for\r\n    return fut.result()\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/hivemind/utils/asyncio.py\", line 31, in anext\r\n    return await aiter.__anext__()\r\n  File \"/home/borzunov/.local/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 489, in _read_from_stream\r\n    raise P2PHandlerError(f\"Failed to call handler `{name}` at {peer_id}: {err.message}\")\r\nhivemind.p2p.p2p_daemon_bindings.utils.P2PHandlerError: Failed to call handler `TransformerConnectionHandler.rpc_inference` at 12D3KooWDU6XWm1CBCkXrC7hfGgjWWhkJMSBLCVoku2f1kQCvZmZ: CUDA out of memory. Tried to allocate 688.00 MiB (GPU 0; 23.69 GiB total capacity; 22.82 GiB already allocated; 87.94 MiB free; 23.27 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/382/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/382/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/381",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/381/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/381/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/381/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/381",
        "id": 1812005772,
        "node_id": "I_kwDOHfNHc85sAQOM",
        "number": 381,
        "title": "petals doesn't know that there are 31 days in OCT",
        "user": {
            "login": "pleabargain",
            "id": 640846,
            "node_id": "MDQ6VXNlcjY0MDg0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/640846?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pleabargain",
            "html_url": "https://github.com/pleabargain",
            "followers_url": "https://api.github.com/users/pleabargain/followers",
            "following_url": "https://api.github.com/users/pleabargain/following{/other_user}",
            "gists_url": "https://api.github.com/users/pleabargain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pleabargain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pleabargain/subscriptions",
            "organizations_url": "https://api.github.com/users/pleabargain/orgs",
            "repos_url": "https://api.github.com/users/pleabargain/repos",
            "events_url": "https://api.github.com/users/pleabargain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pleabargain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-19T13:53:13Z",
        "updated_at": "2023-07-19T19:12:53Z",
        "closed_at": "2023-07-19T19:12:53Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "http://chat.petals.ml/\r\n![image](https://github.com/bigscience-workshop/petals/assets/640846/5f73d8b4-a97e-47a1-bd3d-222ef0620466)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/381/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/381/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/380",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/380/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/380/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/380/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/380",
        "id": 1811899248,
        "node_id": "PR_kwDOHfNHc85V48Z7",
        "number": 380,
        "title": "Update model.py",
        "user": {
            "login": "mzamini92",
            "id": 32536264,
            "node_id": "MDQ6VXNlcjMyNTM2MjY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32536264?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzamini92",
            "html_url": "https://github.com/mzamini92",
            "followers_url": "https://api.github.com/users/mzamini92/followers",
            "following_url": "https://api.github.com/users/mzamini92/following{/other_user}",
            "gists_url": "https://api.github.com/users/mzamini92/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mzamini92/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mzamini92/subscriptions",
            "organizations_url": "https://api.github.com/users/mzamini92/orgs",
            "repos_url": "https://api.github.com/users/mzamini92/repos",
            "events_url": "https://api.github.com/users/mzamini92/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mzamini92/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-19T13:01:17Z",
        "updated_at": "2023-07-19T17:02:04Z",
        "closed_at": "2023-07-19T17:02:03Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/380",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/380",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/380.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/380.patch",
            "merged_at": null
        },
        "body": "Isn't it better to use jit decorator to improve the performance? The torch.jit.script_method decorator will compile the forward pass of the model into a Torch script. This will make the forward pass faster and more efficient to execute. The torch.jit.script_method decorators are correctly applied to the forward, _forward_tune_mode, and _forward_default_mode methods of DistributedLlamaModel, ensuring that they are compiled as Torch scripts. The rest of the code remains unchanged.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/380/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/380/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/379",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/379/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/379/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/379/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/379",
        "id": 1811845547,
        "node_id": "PR_kwDOHfNHc85V4wgn",
        "number": 379,
        "title": "Support Llama 2",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T12:30:07Z",
        "updated_at": "2023-07-19T15:15:54Z",
        "closed_at": "2023-07-19T15:15:53Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/379",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/379",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/379.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/379.patch",
            "merged_at": "2023-07-19T15:15:53Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/379/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/379/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/378",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/378/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/378/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/378/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/378",
        "id": 1811710832,
        "node_id": "PR_kwDOHfNHc85V4S1o",
        "number": 378,
        "title": "Fix --token arg",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T11:04:41Z",
        "updated_at": "2023-07-19T11:25:36Z",
        "closed_at": "2023-07-19T11:25:35Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/378",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/378",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/378.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/378.patch",
            "merged_at": "2023-07-19T11:25:35Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/378/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/378/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/377",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/377/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/377/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/377/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/377",
        "id": 1811581993,
        "node_id": "PR_kwDOHfNHc85V32UL",
        "number": 377,
        "title": "Inherit bitsandbytes compute dtype correctly (override peft quirk)",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-19T09:45:00Z",
        "updated_at": "2023-07-19T10:08:53Z",
        "closed_at": "2023-07-19T10:08:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/377",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/377",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/377.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/377.patch",
            "merged_at": "2023-07-19T10:08:52Z"
        },
        "body": "see https://github.com/huggingface/peft/pull/732",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/377/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/377/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/376",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/376/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/376/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/376/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/376",
        "id": 1811550775,
        "node_id": "I_kwDOHfNHc85r-hI3",
        "number": 376,
        "title": "Reachability service occasionally fails",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T09:26:07Z",
        "updated_at": "2023-07-19T09:26:07Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "```python\r\nJul 19 09:22:42.251 [WARN] [petals.server.reachability._serve_with_probe:148] Reachability service failed: FileNotFoundError(2, 'No such file or directory')\r\nJul 19 09:22:42.252 [WARN] [petals.server.reachability._serve_with_probe:149] See detailed traceback below:\r\nTraceback (most recent call last):\r\n  File \"/storage/hdd1/jheuristic/exp/decentralized/borzunov/petals/src/petals/server/reachability.py\", line 140, in _serve_with_probe\r\n    protocol.probe = await P2P.create(initial_peers, **STRIPPED_PROBE_ARGS)\r\n  File \"/home/jheuristic/anaconda3/envs/py38_petals_borzunov/lib/python3.8/site-packages/hivemind/p2p/p2p_daemon.py\", line 239, in create\r\n    self._client = await p2pclient.Client.create(\r\n  File \"/home/jheuristic/anaconda3/envs/py38_petals_borzunov/lib/python3.8/site-packages/hivemind/p2p/p2p_daemon_bindings/p2pclient.py\", line 41, in create\r\n    client.control = await ControlClient.create(\r\n  File \"/home/jheuristic/anaconda3/envs/py38_petals_borzunov/lib/python3.8/site-packages/hivemind/p2p/p2p_daemon_bindings/control.py\", line 135, in create\r\n    await control._ensure_persistent_conn()\r\n  File \"/home/jheuristic/anaconda3/envs/py38_petals_borzunov/lib/python3.8/site-packages/hivemind/p2p/p2p_daemon_bindings/control.py\", line 254, in _ensure_persistent_conn\r\n    reader, writer = await self.daemon_connector.open_persistent_connection()\r\n  File \"/home/jheuristic/anaconda3/envs/py38_petals_borzunov/lib/python3.8/site-packages/hivemind/p2p/p2p_daemon_bindings/control.py\", line 74, in open_persistent_connection\r\n    reader, writer = await self.open_connection()\r\n  File \"/home/jheuristic/anaconda3/envs/py38_petals_borzunov/lib/python3.8/site-packages/hivemind/p2p/p2p_daemon_bindings/control.py\", line 62, in open_connection\r\n    return await asyncio.open_unix_connection(control_path)\r\n  File \"/home/jheuristic/anaconda3/envs/py38_petals_borzunov/lib/python3.8/asyncio/streams.py\", line 111, in open_unix_connection\r\n    transport, _ = await loop.create_unix_connection(\r\n  File \"uvloop/loop.pyx\", line 2275, in create_unix_connection\r\n  File \"uvloop/loop.pyx\", line 2270, in uvloop.loop.Loop.create_unix_connection\r\nFileNotFoundError: [Errno 2] No such file or directory\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/376/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/375",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/375/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/375/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/375/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/375",
        "id": 1811436904,
        "node_id": "I_kwDOHfNHc85r-FVo",
        "number": 375,
        "title": "colab notebook fails to run CPU and CUDA error",
        "user": {
            "login": "pleabargain",
            "id": 640846,
            "node_id": "MDQ6VXNlcjY0MDg0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/640846?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pleabargain",
            "html_url": "https://github.com/pleabargain",
            "followers_url": "https://api.github.com/users/pleabargain/followers",
            "following_url": "https://api.github.com/users/pleabargain/following{/other_user}",
            "gists_url": "https://api.github.com/users/pleabargain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pleabargain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pleabargain/subscriptions",
            "organizations_url": "https://api.github.com/users/pleabargain/orgs",
            "repos_url": "https://api.github.com/users/pleabargain/repos",
            "events_url": "https://api.github.com/users/pleabargain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pleabargain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-07-19T08:26:58Z",
        "updated_at": "2023-07-19T13:41:17Z",
        "closed_at": "2023-07-19T09:54:43Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "\r\n\r\nI initiated the\r\n```model = AutoDistributedModelForCausalLM.from_pretrained(model_name, active_adapter=\"timdettmers/guanaco-65b\") ```\r\nthe notebook before initiating \r\n```Step 2. Chatbots and interactive```\r\nbut I got this error\r\n![image](https://github.com/bigscience-workshop/petals/assets/640846/4ebb8ebe-28fc-4e25-bedb-9921cda30b3c)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/375/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/375/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/374",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/374/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/374/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/374/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/374",
        "id": 1811395146,
        "node_id": "PR_kwDOHfNHc85V3NJa",
        "number": 374,
        "title": "Fix readme code example, require Python < 3.11 until supported",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T08:02:13Z",
        "updated_at": "2023-07-19T08:45:16Z",
        "closed_at": "2023-07-19T08:45:14Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/374",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/374",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/374.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/374.patch",
            "merged_at": "2023-07-19T08:45:14Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/374/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/374/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/373",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/373/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/373/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/373/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/373",
        "id": 1811156092,
        "node_id": "PR_kwDOHfNHc85V2ZfJ",
        "number": 373,
        "title": "Fix handler memory leak, get rid of mp.Manager",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T05:09:28Z",
        "updated_at": "2023-07-19T09:31:48Z",
        "closed_at": "2023-07-19T09:31:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/373",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/373",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/373.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/373.patch",
            "merged_at": "2023-07-19T09:31:47Z"
        },
        "body": "This code removes the memory leak from somewhere within handler.py that has *something* to do with mp SyncManger.\r\n\r\n\r\nTested properties:\r\n- [x] testcorrect inference outputs \r\n- [x] test that pushes are processed by the correct handler\r\n![image](https://github.com/bigscience-workshop/petals/assets/3491902/f8132c05-d8fd-4226-901f-c64fcc257528)\r\n![image](https://github.com/bigscience-workshop/petals/assets/3491902/a791f951-905b-484a-82a8-bd660a74f6c9)\r\n\r\n- [x] test against memory leaks with the [leak notebook](https://gist.github.com/justheuristic/02ea5ca94ffe399fd881f6bcb25ef711)\r\n- [ ] overnight memory leak test\r\n- [ ] make sure rebalancing is handled correctly (needs @borzunov )\r\n\r\n\r\nAfter review:\r\n- [x] async with context manager\r\n- [x] enum or global constants for message codes\r\n- [x] rm todos",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/373/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/373/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/372",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/372/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/372/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/372/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/372",
        "id": 1810950093,
        "node_id": "I_kwDOHfNHc85r8OfN",
        "number": 372,
        "title": "rpc_push may fail due to exceeding max message size",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-19T01:07:55Z",
        "updated_at": "2023-07-19T01:07:55Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "This happens if inference step gives you(the handler) more than 4mb of tensors per step -- and you(the handler) proceed to rpc_push it to the next guy using rpc_push. We may choose not to forward such packages, but at least we should not try - and fail - to forward them every time.\r\n\r\nThis issue can also be resolved from converting rpc_push into a streaming rpc",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/372/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/372/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/371",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/371/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/371/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/371/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/371",
        "id": 1810868774,
        "node_id": "PR_kwDOHfNHc85V1bxj",
        "number": 371,
        "title": "Update transformers to 4.31.0 and peft to 0.4.0",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-18T23:35:26Z",
        "updated_at": "2023-07-19T01:15:31Z",
        "closed_at": "2023-07-19T01:15:30Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/371",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/371",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/371.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/371.patch",
            "merged_at": "2023-07-19T01:15:30Z"
        },
        "body": "We now use `token` instead of `use_auth_token`, since the latter triggers DeprecationWarning.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/371/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/371/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/370",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/370/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/370/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/370/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/370",
        "id": 1810858305,
        "node_id": "PR_kwDOHfNHc85V1Zd4",
        "number": 370,
        "title": "Fix AssertionError on rebalancing",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-18T23:21:58Z",
        "updated_at": "2023-07-18T23:22:20Z",
        "closed_at": "2023-07-18T23:22:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/370",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/370",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/370.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/370.patch",
            "merged_at": "2023-07-18T23:22:19Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/370/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/370/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/369",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/369/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/369/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/369/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/369",
        "id": 1810817657,
        "node_id": "PR_kwDOHfNHc85V1QcD",
        "number": 369,
        "title": "Require transformers < 4.31.0 until we're compatible",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-18T22:34:45Z",
        "updated_at": "2023-07-18T22:35:48Z",
        "closed_at": "2023-07-18T22:35:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/369",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/369",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/369.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/369.patch",
            "merged_at": "2023-07-18T22:35:47Z"
        },
        "body": "See #368.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/369/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/369/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/368",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/368/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/368/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/368/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/368",
        "id": 1810731387,
        "node_id": "I_kwDOHfNHc85r7ZF7",
        "number": 368,
        "title": "TypeError when trying to import Petals",
        "user": {
            "login": "JohnDevlopment",
            "id": 50782633,
            "node_id": "MDQ6VXNlcjUwNzgyNjMz",
            "avatar_url": "https://avatars.githubusercontent.com/u/50782633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JohnDevlopment",
            "html_url": "https://github.com/JohnDevlopment",
            "followers_url": "https://api.github.com/users/JohnDevlopment/followers",
            "following_url": "https://api.github.com/users/JohnDevlopment/following{/other_user}",
            "gists_url": "https://api.github.com/users/JohnDevlopment/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JohnDevlopment/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JohnDevlopment/subscriptions",
            "organizations_url": "https://api.github.com/users/JohnDevlopment/orgs",
            "repos_url": "https://api.github.com/users/JohnDevlopment/repos",
            "events_url": "https://api.github.com/users/JohnDevlopment/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JohnDevlopment/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-07-18T21:15:32Z",
        "updated_at": "2023-07-22T17:14:24Z",
        "closed_at": "2023-07-19T05:23:12Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Following the instructions from the getting started guide, I installed Petals like so:\r\n`pip3 install git+https://github.com/bigscience-workshop/petals`\r\n\r\nBut when I tried to import something from petals:\r\n```python\r\nfrom petals import AutoDistributedModelForCausalLM\r\n```\r\nI get this error:\r\n`TypeError: unsupported operand type(s) for +: 'NoneType' and 'list'`\r\n\r\nIf I do `import petals` by itself, I get the same error.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/368/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/368/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/367",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/367/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/367/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/367/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/367",
        "id": 1810470886,
        "node_id": "I_kwDOHfNHc85r6Zfm",
        "number": 367,
        "title": "How to upload to hub and use model later on?",
        "user": {
            "login": "ryanshrott",
            "id": 13425718,
            "node_id": "MDQ6VXNlcjEzNDI1NzE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13425718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanshrott",
            "html_url": "https://github.com/ryanshrott",
            "followers_url": "https://api.github.com/users/ryanshrott/followers",
            "following_url": "https://api.github.com/users/ryanshrott/following{/other_user}",
            "gists_url": "https://api.github.com/users/ryanshrott/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ryanshrott/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ryanshrott/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanshrott/orgs",
            "repos_url": "https://api.github.com/users/ryanshrott/repos",
            "events_url": "https://api.github.com/users/ryanshrott/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ryanshrott/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-07-18T18:24:47Z",
        "updated_at": "2023-07-23T20:17:44Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I am following this basic tutorial, and I'm wondering how I save the fine tuned model and use it later on? For example, in this tutorial, we fine tune a model, but then how can I use it at a later time without having to fine tune again?\r\nhttps://colab.research.google.com/github/bigscience-workshop/petals/blob/main/examples/prompt-tuning-sst2.ipynb",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/367/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/367/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/366",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/366/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/366/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/366/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/366",
        "id": 1810465606,
        "node_id": "I_kwDOHfNHc85r6YNG",
        "number": 366,
        "title": "Decentralized training of large models",
        "user": {
            "login": "Denintendator",
            "id": 85836392,
            "node_id": "MDQ6VXNlcjg1ODM2Mzky",
            "avatar_url": "https://avatars.githubusercontent.com/u/85836392?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Denintendator",
            "html_url": "https://github.com/Denintendator",
            "followers_url": "https://api.github.com/users/Denintendator/followers",
            "following_url": "https://api.github.com/users/Denintendator/following{/other_user}",
            "gists_url": "https://api.github.com/users/Denintendator/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Denintendator/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Denintendator/subscriptions",
            "organizations_url": "https://api.github.com/users/Denintendator/orgs",
            "repos_url": "https://api.github.com/users/Denintendator/repos",
            "events_url": "https://api.github.com/users/Denintendator/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Denintendator/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-07-18T18:21:01Z",
        "updated_at": "2023-07-18T22:19:30Z",
        "closed_at": "2023-07-18T22:19:30Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Not an issue, but there is a question. Have you guys considered doing the same project but for decentralized TRAINING of a model? With this technology open source could create huge models without spending a lot of money on expensive hardware \ud83e\udd14",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/366/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/366/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/365",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/365/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/365/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/365/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/365",
        "id": 1810204220,
        "node_id": "PR_kwDOHfNHc85VzPpN",
        "number": 365,
        "title": "Update readme to show new models",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-18T15:40:05Z",
        "updated_at": "2023-07-18T15:57:44Z",
        "closed_at": "2023-07-18T15:57:42Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/365",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/365",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/365.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/365.patch",
            "merged_at": "2023-07-18T15:57:42Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/365/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/365/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/364",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/364/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/364/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/364/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/364",
        "id": 1808142180,
        "node_id": "PR_kwDOHfNHc85VsN-i",
        "number": 364,
        "title": "Fix typo in generation_algorithms.py",
        "user": {
            "login": "eltociear",
            "id": 22633385,
            "node_id": "MDQ6VXNlcjIyNjMzMzg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22633385?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eltociear",
            "html_url": "https://github.com/eltociear",
            "followers_url": "https://api.github.com/users/eltociear/followers",
            "following_url": "https://api.github.com/users/eltociear/following{/other_user}",
            "gists_url": "https://api.github.com/users/eltociear/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eltociear/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eltociear/subscriptions",
            "organizations_url": "https://api.github.com/users/eltociear/orgs",
            "repos_url": "https://api.github.com/users/eltociear/repos",
            "events_url": "https://api.github.com/users/eltociear/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eltociear/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-17T16:33:18Z",
        "updated_at": "2023-07-18T01:44:46Z",
        "closed_at": "2023-07-18T01:44:42Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/364",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/364",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/364.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/364.patch",
            "merged_at": "2023-07-18T01:44:42Z"
        },
        "body": "seq_lenth -> seq_length",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/364/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/364/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/363",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/363/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/363/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/363/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/363",
        "id": 1807929844,
        "node_id": "I_kwDOHfNHc85rwtH0",
        "number": 363,
        "title": "Is  (IA)^3 Possible?",
        "user": {
            "login": "Jeduh",
            "id": 98840691,
            "node_id": "U_kgDOBeQwcw",
            "avatar_url": "https://avatars.githubusercontent.com/u/98840691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Jeduh",
            "html_url": "https://github.com/Jeduh",
            "followers_url": "https://api.github.com/users/Jeduh/followers",
            "following_url": "https://api.github.com/users/Jeduh/following{/other_user}",
            "gists_url": "https://api.github.com/users/Jeduh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Jeduh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Jeduh/subscriptions",
            "organizations_url": "https://api.github.com/users/Jeduh/orgs",
            "repos_url": "https://api.github.com/users/Jeduh/repos",
            "events_url": "https://api.github.com/users/Jeduh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Jeduh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-17T14:35:43Z",
        "updated_at": "2023-07-18T00:38:52Z",
        "closed_at": "2023-07-18T00:38:52Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "If so, to what extent? First and last layers maybe??",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/363/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/363/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/362",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/362/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/362/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/362/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/362",
        "id": 1807395907,
        "node_id": "PR_kwDOHfNHc85VpqLn",
        "number": 362,
        "title": "Implement shortest-path routing for inference",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-17T09:47:24Z",
        "updated_at": "2023-07-18T04:46:38Z",
        "closed_at": "2023-07-18T04:46:37Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/362",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/362",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/362.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/362.patch",
            "merged_at": "2023-07-18T04:46:37Z"
        },
        "body": "This PR:\r\n\r\n1. **Adds shortest path routing for inference.** We build a graph with client-server and server-server latencies and compute costs, as well as empirically measured overheads. For client-server latencies, we ping possible first and last servers in a sequence in `SequenceManager.update()`. We penalize servers who may not have enough cache for our request. This uses info added to DHT in #355, #356, #358.\r\n\r\n2. **Makes a server ping neighboring servers in addition to next ones.** This is to get an opportunity to change the server even before we use all its blocks (e.g., because a neighboring server is faster). This feature is not enabled though, since it increases graph size for N servers to O(N^2) - but we may enable it if needed.\r\n\r\n3. **Fixes a `SequenceManager` bug with the first `update()`.** Previously, this update was likely to produce incorrect information and cause to `MissingBlocksErrors` until the next update happens.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/362/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/362/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/361",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/361/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/361/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/361/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/361",
        "id": 1807381052,
        "node_id": "I_kwDOHfNHc85runI8",
        "number": 361,
        "title": "Add LogitsProcessing in generative pipeline.",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "artek0chumak",
                "id": 8506431,
                "node_id": "MDQ6VXNlcjg1MDY0MzE=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/artek0chumak",
                "html_url": "https://github.com/artek0chumak",
                "followers_url": "https://api.github.com/users/artek0chumak/followers",
                "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
                "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
                "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
                "repos_url": "https://api.github.com/users/artek0chumak/repos",
                "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
                "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-17T09:38:48Z",
        "updated_at": "2023-08-30T04:00:42Z",
        "closed_at": "2023-08-30T04:00:42Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Currently, the generative pipeline is rigid and not flexible enough to use in many specified cases(Top-k after top-p, contrastive search). The task is to fuse hf tooling with the current inference code.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/361/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/361/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/360",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/360/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/360/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/360/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/360",
        "id": 1806773198,
        "node_id": "PR_kwDOHfNHc85VnhT4",
        "number": 360,
        "title": "Update readme and \"Getting started\" link",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-17T00:25:17Z",
        "updated_at": "2023-07-17T01:02:10Z",
        "closed_at": "2023-07-17T01:02:09Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/360",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/360",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/360.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/360.patch",
            "merged_at": "2023-07-17T01:02:09Z"
        },
        "body": "This updates readme with the latest updates and fixes an old Colab link, as pointed out in #359.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/360/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/360/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/359",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/359/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/359/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/359/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/359",
        "id": 1806551215,
        "node_id": "I_kwDOHfNHc85rrciv",
        "number": 359,
        "title": "Issue with \"Getting started\" Tutorial (PydanticSchemaGenerationError)",
        "user": {
            "login": "lacksfish",
            "id": 6190023,
            "node_id": "MDQ6VXNlcjYxOTAwMjM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6190023?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lacksfish",
            "html_url": "https://github.com/lacksfish",
            "followers_url": "https://api.github.com/users/lacksfish/followers",
            "following_url": "https://api.github.com/users/lacksfish/following{/other_user}",
            "gists_url": "https://api.github.com/users/lacksfish/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lacksfish/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lacksfish/subscriptions",
            "organizations_url": "https://api.github.com/users/lacksfish/orgs",
            "repos_url": "https://api.github.com/users/lacksfish/repos",
            "events_url": "https://api.github.com/users/lacksfish/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lacksfish/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-07-16T11:46:43Z",
        "updated_at": "2023-07-17T01:02:28Z",
        "closed_at": "2023-07-17T01:02:28Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I've attempted to try petals using [this getting started link](https://colab.research.google.com/drive/1Ervk6HPNS6AYVr3xVdQnY5a-TjjmLCdQ?usp=sharing#scrollTo=VsXHWJLuowcn) from the README.md\r\n\r\nUnfortunately, already when running the \"A cat in French is\" example, the following exception is thrown.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/my/folder/path/main.py\", line 3, in <module>\r\n    from petals import DistributedBloomForCausalLM\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/petals/__init__.py\", line 3, in <module>\r\n    import hivemind\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/hivemind/__init__.py\", line 12, in <module>\r\n    from hivemind.optim import GradScaler, Optimizer, TrainingAverager\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/hivemind/optim/__init__.py\", line 2, in <module>\r\n    from hivemind.optim.optimizer import Optimizer\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/hivemind/optim/optimizer.py\", line 16, in <module>\r\n    from hivemind.optim.progress_tracker import LocalTrainingProgress, ProgressTracker\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/hivemind/optim/progress_tracker.py\", line 40, in <module>\r\n    class TrainingProgressSchema(BaseModel):\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_model_construction.py\", line 174, in __new__\r\n    complete_model_class(\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_model_construction.py\", line 431, in complete_model_class\r\n    schema = cls.__get_pydantic_core_schema__(cls, handler)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/main.py\", line 533, in __get_pydantic_core_schema__\r\n    return __handler(__source)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_schema_generation_shared.py\", line 82, in __call__\r\n    schema = self._handler(__source_type)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 280, in generate_schema\r\n    return self._generate_schema_for_type(\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 301, in _generate_schema_for_type\r\n    schema = self._generate_schema(obj)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 519, in _generate_schema\r\n    return self._model_schema(obj)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 370, in _model_schema\r\n    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 370, in <dictcomp>\r\n    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 674, in _generate_md_field_schema\r\n    common_field = self._common_field_schema(name, field_info, decorators)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 714, in _common_field_schema\r\n    schema = self._apply_annotations(\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 1405, in _apply_annotations\r\n    schema = get_inner_schema(source_type)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_schema_generation_shared.py\", line 82, in __call__\r\n    schema = self._handler(__source_type)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 1487, in new_handler\r\n    schema = metadata_get_schema(source, get_inner_schema)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_std_types_schema.py\", line 711, in __get_pydantic_core_schema__\r\n    keys_schema = handler.generate_schema(self.keys_source_type)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_schema_generation_shared.py\", line 96, in generate_schema\r\n    return self._generate_schema.generate_schema(__source_type)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 280, in generate_schema\r\n    return self._generate_schema_for_type(\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 301, in _generate_schema_for_type\r\n    schema = self._generate_schema(obj)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 586, in _generate_schema\r\n    return self._arbitrary_type_schema(obj, obj)\r\n  File \"/my/folder/path/venv/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 638, in _arbitrary_type_schema\r\n    raise PydanticSchemaGenerationError(\r\npydantic.errors.PydanticSchemaGenerationError: Unable to generate pydantic-core schema for <class 'hivemind.dht.schema.conbytes.<locals>.ConstrainedBytesWithRegex'>. Set `arbitrary_types_allowed=True` in the model_config to ignore this error or implement `__get_pydantic_core_schema__` on your type to fully support it.\r\n\r\nIf you got this error by calling handler(<some type>) within `__get_pydantic_core_schema__` then you likely need to call `handler.generate_schema(<some type>)` since we do not call `__get_pydantic_core_schema__` on `<some type>` otherwise to avoid infinite recursion.\r\n\r\nFor further information visit https://errors.pydantic.dev/2.0.3/u/schema-for-unknown-type\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nDo I need to set `arbitrary_types_allowed=True`? If so, where?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/359/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/359/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/358",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/358/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/358/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/358/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/358",
        "id": 1806385420,
        "node_id": "PR_kwDOHfNHc85VmVmZ",
        "number": 358,
        "title": "Report inference, forward, and network RPS separately",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-16T00:52:12Z",
        "updated_at": "2023-07-17T09:46:01Z",
        "closed_at": "2023-07-17T09:46:00Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/358",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/358",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/358.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/358.patch",
            "merged_at": "2023-07-17T09:45:59Z"
        },
        "body": "Inference RPS may be very different from forward RPS. E.g., currently bnb uses a completely different algorithm for NF4 inference. We report detailed RPS info that can be then used for shortest-path routing for inference.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/358/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/358/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/357",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/357/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/357/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/357/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/357",
        "id": 1806361623,
        "node_id": "PR_kwDOHfNHc85VmRZz",
        "number": 357,
        "title": "Use bitsandbytes 0.40.1.post1",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-15T22:55:30Z",
        "updated_at": "2023-07-15T23:07:23Z",
        "closed_at": "2023-07-15T23:07:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/357",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/357",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/357.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/357.patch",
            "merged_at": "2023-07-15T23:07:22Z"
        },
        "body": "This fixes some CUDA lookup errors with bitsandbytes:\r\n\r\n- https://twitter.com/Tim_Dettmers/status/1679944786470670340\r\n- https://twitter.com/Tim_Dettmers/status/1680025836643287041",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/357/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/357/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/356",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/356/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/356/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/356/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/356",
        "id": 1805850023,
        "node_id": "PR_kwDOHfNHc85Vko7k",
        "number": 356,
        "title": "Make a server ping next servers",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-15T03:39:41Z",
        "updated_at": "2023-07-15T16:16:33Z",
        "closed_at": "2023-07-15T16:16:21Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/356",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/356",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/356.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/356.patch",
            "merged_at": "2023-07-15T16:16:21Z"
        },
        "body": "This PR makes a server ping potential next servers in a chain and report the RTTs to DHT:\r\n\r\n<img width=\"1096\" alt=\"Screenshot 2023-07-15 at 20 14 55\" src=\"https://github.com/bigscience-workshop/petals/assets/8748943/6a5262b6-c024-4e8c-a558-7b6cdecb9bc6\">\r\n\r\nThis will be used for shortest-path routing.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/356/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/356/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/355",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/355/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/355/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/355/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/355",
        "id": 1805486673,
        "node_id": "PR_kwDOHfNHc85VjYOX",
        "number": 355,
        "title": "Share more info about a server in DHT",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-14T20:01:27Z",
        "updated_at": "2023-07-14T23:36:33Z",
        "closed_at": "2023-07-14T23:36:32Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/355",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/355",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/355.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/355.patch",
            "merged_at": "2023-07-14T23:36:32Z"
        },
        "body": "Now we share this info and validate the DHT record format with pydantic:\r\n\r\n```python\r\n@pydantic.dataclasses.dataclass\r\nclass ServerInfo:\r\n    state: ServerState\r\n    throughput: pydantic.confloat(ge=0, allow_inf_nan=False, strict=True)\r\n\r\n    adapters: Sequence[str] = ()\r\n    version: Optional[str] = None\r\n    torch_dtype: Optional[str] = None\r\n    quant_type: Optional[str] = None\r\n    using_relay: Optional[bool] = None\r\n    cache_tokens_left: Optional[pydantic.conint(ge=0, strict=True)] = None\r\n```\r\n\r\nThen it can be displayed in the health service:\r\n\r\n<img width=\"679\" alt=\"Screenshot 2023-07-15 at 03 35 45\" src=\"https://github.com/bigscience-workshop/petals/assets/8748943/a805ee5e-f9ee-4e75-8863-5a97075ec52a\">\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/355/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/355/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/354",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/354/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/354/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/354/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/354",
        "id": 1805076105,
        "node_id": "PR_kwDOHfNHc85Vh8uT",
        "number": 354,
        "title": "Fix bugs in _choose_num_blocks() added in #346",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-14T15:33:55Z",
        "updated_at": "2023-07-14T18:33:49Z",
        "closed_at": "2023-07-14T18:33:48Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/354",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/354",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/354.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/354.patch",
            "merged_at": "2023-07-14T18:33:48Z"
        },
        "body": "Fix bugs from #346.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/354/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/354/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/353",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/353/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/353/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/353/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/353",
        "id": 1805016621,
        "node_id": "PR_kwDOHfNHc85Vhvxr",
        "number": 353,
        "title": "Switch adapters slightly faster",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-14T14:51:50Z",
        "updated_at": "2023-07-14T19:04:57Z",
        "closed_at": "2023-07-14T19:04:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/353",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/353",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/353.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/353.patch",
            "merged_at": "2023-07-14T19:04:56Z"
        },
        "body": "Currently, each `TransformerBackend.inference_step` looks for adapters and sets the correct adapter type for each block. This is not very expensive, but it can measurably affect inference time:\r\n\r\n![image](https://github.com/bigscience-workshop/petals/assets/3491902/ca2d05a5-ae5a-430e-aa6f-185de2ab478e)\r\n\r\nThis pull request uses faster adapter switching with just one variable assignment, without iterating over block.modules().",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/353/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/353/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/352",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/352/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/352/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/352/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/352",
        "id": 1804822016,
        "node_id": "PR_kwDOHfNHc85VhFPo",
        "number": 352,
        "title": "Remove unused import os",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-14T12:44:54Z",
        "updated_at": "2023-07-14T14:05:22Z",
        "closed_at": "2023-07-14T14:05:21Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/352",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/352",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/352.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/352.patch",
            "merged_at": "2023-07-14T14:05:21Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/352/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/352/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/351",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/351/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/351/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/351/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/351",
        "id": 1804780619,
        "node_id": "PR_kwDOHfNHc85Vg8Ky",
        "number": 351,
        "title": "Test that bitsandbytes is not imported when it's not used",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-14T12:15:59Z",
        "updated_at": "2023-07-14T14:40:49Z",
        "closed_at": "2023-07-14T14:40:48Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/351",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/351",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/351.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/351.patch",
            "merged_at": "2023-07-14T14:40:48Z"
        },
        "body": "We avoid importing bitsandbytes when it's not used, since bitsandbytes doesn't always find correct CUDA libs and may raise exceptions because of that.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/351/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/351/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/350",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/350/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/350/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/350/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/350",
        "id": 1803751633,
        "node_id": "PR_kwDOHfNHc85Vdbgt",
        "number": 350,
        "title": "Spam less in server logs",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-13T20:55:23Z",
        "updated_at": "2023-07-13T22:52:53Z",
        "closed_at": "2023-07-13T22:52:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/350",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/350",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/350.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/350.patch",
            "merged_at": "2023-07-13T22:52:52Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/350/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/350/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/349",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/349/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/349/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/349/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/349",
        "id": 1803484927,
        "node_id": "PR_kwDOHfNHc85VcguQ",
        "number": 349,
        "title": "Support LLaMA repos without \"-hf\" suffix",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-13T17:40:16Z",
        "updated_at": "2023-07-13T20:43:29Z",
        "closed_at": "2023-07-13T20:43:28Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/349",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/349",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/349.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/349.patch",
            "merged_at": "2023-07-13T20:43:28Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/349/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/349/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/348",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/348/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/348/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/348/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/348",
        "id": 1803136112,
        "node_id": "PR_kwDOHfNHc85VbUqG",
        "number": 348,
        "title": "Fix Docker build by avoiding Python 3.11",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-07-13T14:19:30Z",
        "updated_at": "2023-07-13T15:34:19Z",
        "closed_at": "2023-07-13T15:34:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/348",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/348",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/348.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/348.patch",
            "merged_at": "2023-07-13T15:34:17Z"
        },
        "body": "We want to use `3.10.x` since `grpcio-tools` is not compatible with 3.11 yet. However, `python~=3.10` meant `python>=3.10, python<4.0`, so we ended up with a broken build due to python 3.11 installed.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/348/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/348/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    }
]