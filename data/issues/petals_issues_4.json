[
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/247",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/247/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/247/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/247/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/247",
        "id": 1565644921,
        "node_id": "PR_kwDOHfNHc85I-9M3",
        "number": 247,
        "title": "Minor changes to examples/prompt-tuning notebooks",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-01T08:15:29Z",
        "updated_at": "2023-02-01T11:10:47Z",
        "closed_at": "2023-02-01T11:10:45Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/247",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/247",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/247.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/247.patch",
            "merged_at": "2023-02-01T11:10:45Z"
        },
        "body": "Minor code changes required to run the notebook in a clean python environment\r\n\r\nTo reproduce:\r\n- create a new conda env with py38\r\n- install petals based on instructions in README\r\n- jupyter-notebook ./examples/notebook-name-here.ipynb\r\n- run all",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/247/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/247/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/246",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/246/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/246/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/246/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/246",
        "id": 1564828954,
        "node_id": "I_kwDOHfNHc85dRWUa",
        "number": 246,
        "title": "tensor parallelism exception",
        "user": {
            "login": "quarterturn",
            "id": 780267,
            "node_id": "MDQ6VXNlcjc4MDI2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/780267?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/quarterturn",
            "html_url": "https://github.com/quarterturn",
            "followers_url": "https://api.github.com/users/quarterturn/followers",
            "following_url": "https://api.github.com/users/quarterturn/following{/other_user}",
            "gists_url": "https://api.github.com/users/quarterturn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/quarterturn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/quarterturn/subscriptions",
            "organizations_url": "https://api.github.com/users/quarterturn/orgs",
            "repos_url": "https://api.github.com/users/quarterturn/repos",
            "events_url": "https://api.github.com/users/quarterturn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/quarterturn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "justheuristic",
                "id": 3491902,
                "node_id": "MDQ6VXNlcjM0OTE5MDI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justheuristic",
                "html_url": "https://github.com/justheuristic",
                "followers_url": "https://api.github.com/users/justheuristic/followers",
                "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
                "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
                "organizations_url": "https://api.github.com/users/justheuristic/orgs",
                "repos_url": "https://api.github.com/users/justheuristic/repos",
                "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justheuristic/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 5,
        "created_at": "2023-01-31T18:46:25Z",
        "updated_at": "2023-02-02T18:32:22Z",
        "closed_at": "2023-02-02T12:48:53Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Dual P100 setup:\r\n\r\n```\r\n(petals) qtr@pve:~/petals$ python -m petals.cli.run_server bigscience/bloomz-petals --tensor_parallel_devices cuda:0 cuda:1 --num_blocks 6\r\nJan 31 07:28:41.703 [INFO] Running Petals 1.1.2\r\nJan 31 07:28:56.893 [INFO] Direct reachability: 3/5\r\nJan 31 07:28:56.937 [INFO] This server will run DHT in full peer mode\r\nJan 31 07:28:59.927 [INFO] Connecting to the public swarm, peer_id = 12D3KooWMMiL1fw5oPpsegj4E1iu7Woqqc9rLzjrGoannTdJNxY1\r\nJan 31 07:29:00.045 [INFO] Model weights will be split between cuda:0, cuda:1\r\nJan 31 07:29:00.082 [WARN] [/home/qtr/anaconda3/envs/petals/lib/python3.10/site-packages/petals/server/server.py.__init__:167] Tensor parallelism doesn't work properly with 8-bit weights yet, loading weights in 16-bit. You can explicitly set `--load_in_8bit True` to override this\r\nJan 31 07:29:00.082 [INFO] Model weights will be loaded in auto format\r\nJan 31 07:29:00.082 [INFO] Attention cache for all blocks will consume up to 3.00 GiB\r\nJan 31 07:29:00.084 [INFO] Loading throughput info\r\nJan 31 07:29:01.221 [INFO] Announced that blocks [7, 8, 9, 10, 11, 12] are joining\r\nJan 31 07:29:01.622 [INFO] Reachability service started\r\nJan 31 07:29:29.358 [INFO] Loaded bigscience/bloomz-petals block 7, <All keys matched successfully>\r\nJan 31 07:30:04.819 [INFO] Loaded bigscience/bloomz-petals block 8, <All keys matched successfully>\r\nJan 31 07:30:35.309 [INFO] Loaded bigscience/bloomz-petals block 9, <All keys matched successfully>\r\nJan 31 07:31:05.673 [INFO] Loaded bigscience/bloomz-petals block 10, <All keys matched successfully>\r\nDownloading: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.93G/4.93G [03:15<00:00, 25.2MB/s]\r\nJan 31 07:34:51.803 [INFO] Loaded bigscience/bloomz-petals block 11, <All keys matched successfully>\r\nJan 31 07:35:30.357 [INFO] Loaded bigscience/bloomz-petals block 12, <All keys matched successfully>\r\nJan 31 07:35:34.023 [INFO] Server is reachable from the Internet. It will appear at http://health.petals.ml soon\r\nJan 31 07:35:35.407 [INFO] Started\r\nJan 31 08:16:10.959 [INFO] rpc_inference.open(blocks=7:13, remote_peer=...AM4oxF)\r\nJan 31 08:16:10.962 [INFO] rpc_inference.wait_for_alloc(size=0.16 GiB), already used 0.00/3.00 GiB (0.0%)\r\nJan 31 08:16:10.965 [INFO] rpc_inference.alloc(size=0.16 GiB)\r\nJan 31 08:16:11.371 [ERROR] [hivemind.moe.server.runtime.run:104] Caught indices should be either on cpu or on the same device as the indexed tensor (cuda:1), attempting to recover\r\nTraceback (most recent call last):\r\n  File \"/home/qtr/anaconda3/envs/petals/lib/python3.10/site-packages/hivemind/moe/server/runtime.py\", line 91, in run\r\n    outputs = pool.process_func(*batch)\r\n  File \"/home/qtr/anaconda3/envs/petals/lib/python3.10/site-packages/petals/server/backend.py\", line 175, in __call__\r\n    (hidden_states,) = self.backends[inference_info.uid].inference_step(hidden_states, hypo_ids, inference_info)\r\n  File \"/home/qtr/anaconda3/envs/petals/lib/python3.10/site-packages/torch/autograd/grad_mode.py\", line 27, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/qtr/anaconda3/envs/petals/lib/python3.10/site-packages/petals/server/backend.py\", line 92, in inference_step\r\n    self._reorder_cache_inplace(cache_tensors, hypo_ids)\r\n  File \"/home/qtr/anaconda3/envs/petals/lib/python3.10/site-packages/petals/server/backend.py\", line 102, in _reorder_cache_inplace\r\n    cache_tensor[...] = cache_tensor[hypo_ids]  # in-place reorder cache by hypo ids\r\nRuntimeError: indices should be either on cpu or on the same device as the indexed tensor (cuda:1)\r\nJan 31 08:16:11.407 [INFO] rpc_inference.close(blocks=7:13, remote_peer=...AM4oxF)\r\n\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/246/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/246/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/245",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/245/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/245/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/245/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/245",
        "id": 1564264624,
        "node_id": "PR_kwDOHfNHc85I6VA4",
        "number": 245,
        "title": "Fix typo in prompt-tuning-sst2.ipynb",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-31T12:59:51Z",
        "updated_at": "2023-01-31T13:06:53Z",
        "closed_at": "2023-01-31T13:06:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/245",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/245",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/245.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/245.patch",
            "merged_at": "2023-01-31T13:06:52Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/245/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/245/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/244",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/244/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/244/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/244/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/244",
        "id": 1563123595,
        "node_id": "PR_kwDOHfNHc85I2elH",
        "number": 244,
        "title": "Bump version to 1.1.2",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-30T20:07:29Z",
        "updated_at": "2023-01-30T20:17:40Z",
        "closed_at": "2023-01-30T20:17:38Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/244",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/244",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/244.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/244.patch",
            "merged_at": "2023-01-30T20:17:38Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/244/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/244/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/243",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/243/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/243/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/243/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/243",
        "id": 1563105435,
        "node_id": "PR_kwDOHfNHc85I2alY",
        "number": 243,
        "title": "Prompt-tuning notebooks: use latest Petals from the repo",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-30T19:55:43Z",
        "updated_at": "2023-01-30T20:06:12Z",
        "closed_at": "2023-01-30T20:06:11Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/243",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/243",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/243.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/243.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/243/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/243/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/242",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/242/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/242/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/242/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/242",
        "id": 1561092228,
        "node_id": "I_kwDOHfNHc85dDGCE",
        "number": 242,
        "title": "CPU-only server never passes the throughput check",
        "user": {
            "login": "LuciferianInk",
            "id": 94832312,
            "node_id": "U_kgDOBacGuA",
            "avatar_url": "https://avatars.githubusercontent.com/u/94832312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LuciferianInk",
            "html_url": "https://github.com/LuciferianInk",
            "followers_url": "https://api.github.com/users/LuciferianInk/followers",
            "following_url": "https://api.github.com/users/LuciferianInk/following{/other_user}",
            "gists_url": "https://api.github.com/users/LuciferianInk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LuciferianInk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LuciferianInk/subscriptions",
            "organizations_url": "https://api.github.com/users/LuciferianInk/orgs",
            "repos_url": "https://api.github.com/users/LuciferianInk/repos",
            "events_url": "https://api.github.com/users/LuciferianInk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LuciferianInk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-01-29T02:20:15Z",
        "updated_at": "2023-02-16T14:32:00Z",
        "closed_at": "2023-02-16T14:31:34Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I am building a solution that needs to support the most basic of hardware. As such, I am building a number of default profiles, to fit different hardware configurations.\r\n\r\nI've already confirmed that the Petals Docker image works great, when I expose my GPU to the image.\r\n\r\nHowever, if I don't (if I'm a user who doesn't have a dedicated GPU), the Docker image just hangs indefinitely:\r\n```\r\n[INFO] Measuring network and compute throughput. This takes about a minute and will be cached for future runs\r\n```\r\nI can't join the swarm at all.\r\n\r\nIs this by-design? Does the Hivemind reject CPU clients, by default?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/242/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/242/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/241",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/241/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/241/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/241/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/241",
        "id": 1561074366,
        "node_id": "I_kwDOHfNHc85dDBq-",
        "number": 241,
        "title": "The prompt tuning example (prompt-tuning-sst2) don't work",
        "user": {
            "login": "Gad1001",
            "id": 37439278,
            "node_id": "MDQ6VXNlcjM3NDM5Mjc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/37439278?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Gad1001",
            "html_url": "https://github.com/Gad1001",
            "followers_url": "https://api.github.com/users/Gad1001/followers",
            "following_url": "https://api.github.com/users/Gad1001/following{/other_user}",
            "gists_url": "https://api.github.com/users/Gad1001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Gad1001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Gad1001/subscriptions",
            "organizations_url": "https://api.github.com/users/Gad1001/orgs",
            "repos_url": "https://api.github.com/users/Gad1001/repos",
            "events_url": "https://api.github.com/users/Gad1001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Gad1001/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744238,
                "node_id": "LA_kwDOHfNHc877wTju",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/help%20wanted",
                "name": "help wanted",
                "color": "008672",
                "default": true,
                "description": "Collaborators needed"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "justheuristic",
                "id": 3491902,
                "node_id": "MDQ6VXNlcjM0OTE5MDI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justheuristic",
                "html_url": "https://github.com/justheuristic",
                "followers_url": "https://api.github.com/users/justheuristic/followers",
                "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
                "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
                "organizations_url": "https://api.github.com/users/justheuristic/orgs",
                "repos_url": "https://api.github.com/users/justheuristic/repos",
                "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justheuristic/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 14,
        "created_at": "2023-01-29T01:05:37Z",
        "updated_at": "2023-07-12T13:01:29Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi,\r\nI have tried to run the notebook example you have published (without editing) in colab but it doesn't work...\r\nI get the following error:\r\n```\r\nRuntimeError                              Traceback (most recent call last)\r\n[<ipython-input-12-7f7d7fa267e9>](https://localhost:8080/#) in <module>\r\n     17 \r\n     18         model.train()\r\n---> 19         outputs = model(**batch)\r\n     20         loss = outputs.loss\r\n     21         loss.backward()\r\n\r\n3 frames\r\n[/usr/local/lib/python3.8/dist-packages/torch/nn/modules/linear.py](https://localhost:8080/#) in forward(self, input)\r\n    112 \r\n    113     def forward(self, input: Tensor) -> Tensor:\r\n--> 114         return F.linear(input, self.weight, self.bias)\r\n    115 \r\n    116     def extra_repr(self) -> str:\r\n\r\nRuntimeError: expected scalar type Half but found Float\r\n```\r\nIt is probably about the transformers version out of date but petals 1.1.1 requires transformers==4.25.1",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/241/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/241/timeline",
        "performed_via_github_app": null,
        "state_reason": "reopened"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/240",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/240/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/240/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/240/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/240",
        "id": 1560835863,
        "node_id": "I_kwDOHfNHc85dCHcX",
        "number": 240,
        "title": "how to profile petals inference time cost",
        "user": {
            "login": "mabuyun",
            "id": 45988411,
            "node_id": "MDQ6VXNlcjQ1OTg4NDEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/45988411?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mabuyun",
            "html_url": "https://github.com/mabuyun",
            "followers_url": "https://api.github.com/users/mabuyun/followers",
            "following_url": "https://api.github.com/users/mabuyun/following{/other_user}",
            "gists_url": "https://api.github.com/users/mabuyun/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mabuyun/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mabuyun/subscriptions",
            "organizations_url": "https://api.github.com/users/mabuyun/orgs",
            "repos_url": "https://api.github.com/users/mabuyun/repos",
            "events_url": "https://api.github.com/users/mabuyun/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mabuyun/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2023-01-28T12:04:13Z",
        "updated_at": "2023-03-30T03:25:36Z",
        "closed_at": "2023-03-30T03:25:36Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hello all,\r\n\r\nI launch my own swarm on 24 computers according to [Launch-your-own-swarm](https://github.com/bigscience-workshop/petals/wiki/Launch-your-own-swarm) . \r\nEach computer has 1 gpu and 32GB memory, and contains 3 blocks of petals-bloom.\r\n\r\nIt works fine but takes a long time to inference once.\r\n\r\nFollow `Use the model`, I only inference bloom without train the model. \r\n\r\n```\r\nimport torch\r\nimport torch.nn.functional as F\r\nimport transformers\r\nfrom src import DistributedBloomForCausalLM\r\n\r\ninitial_peers = [TODO_put_one_or_more_server_addresses_here]  # e.g. [\"/ip4/127.0.0.1/tcp/more/stuff/here\"]\r\ntokenizer = transformers.BloomTokenizerFast.from_pretrained(\"bigscience/bloom-petals\")\r\nmodel = DistributedBloomForCausalLM.from_pretrained(\r\n  \"bigscience/bloom-petals\", initial_peers=initial_peers, low_cpu_mem_usage=True, torch_dtype=torch.float32\r\n)\r\n\r\ninputs = tokenizer(\"a cat sat\", return_tensors=\"pt\")[\"input_ids\"]\r\n# use max_new_tokens instead of max_length \r\nremote_outputs = model.generate(inputs, max_new_tokens=50)\r\nprint(tokenizer.decode(remote_outputs[0]))\r\n```\r\n\r\nI tried different max_new_tokens values, and the time-consuming almost 2s/token\r\n\r\n\r\nIs there a way to profile the inference performance , i wonder why it is so slow\r\n\r\n\r\n\r\nThanks",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/240/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/240/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/239",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/239/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/239/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/239/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/239",
        "id": 1558280856,
        "node_id": "I_kwDOHfNHc85c4XqY",
        "number": 239,
        "title": "Is it possible to run bloom on multi cpus",
        "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-01-26T15:01:52Z",
        "updated_at": "2023-02-02T21:57:40Z",
        "closed_at": "2023-02-02T21:57:39Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "It seems that Petals only support GPU for running the bloom model, is there any ways to use CPU as computation resource.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/239/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/239/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/238",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/238/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/238/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/238/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/238",
        "id": 1556595852,
        "node_id": "I_kwDOHfNHc85cx8SM",
        "number": 238,
        "title": "Can support Reinforcement Learning from Human Feedback (RLHF)?",
        "user": {
            "login": "allenyllee",
            "id": 3991134,
            "node_id": "MDQ6VXNlcjM5OTExMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3991134?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/allenyllee",
            "html_url": "https://github.com/allenyllee",
            "followers_url": "https://api.github.com/users/allenyllee/followers",
            "following_url": "https://api.github.com/users/allenyllee/following{/other_user}",
            "gists_url": "https://api.github.com/users/allenyllee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/allenyllee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/allenyllee/subscriptions",
            "organizations_url": "https://api.github.com/users/allenyllee/orgs",
            "repos_url": "https://api.github.com/users/allenyllee/repos",
            "events_url": "https://api.github.com/users/allenyllee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/allenyllee/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-25T12:49:54Z",
        "updated_at": "2023-02-02T21:57:05Z",
        "closed_at": "2023-02-02T21:57:05Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Because ChatGPT use RLHF technique, I wonder if this distributed training system can support RLHF training?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/238/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/238/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/237",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/237/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/237/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/237/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/237",
        "id": 1556493239,
        "node_id": "I_kwDOHfNHc85cxjO3",
        "number": 237,
        "title": "\"NoneType object is not callable\" on stopping P2P",
        "user": {
            "login": "slush0",
            "id": 565341,
            "node_id": "MDQ6VXNlcjU2NTM0MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/565341?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/slush0",
            "html_url": "https://github.com/slush0",
            "followers_url": "https://api.github.com/users/slush0/followers",
            "following_url": "https://api.github.com/users/slush0/following{/other_user}",
            "gists_url": "https://api.github.com/users/slush0/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/slush0/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/slush0/subscriptions",
            "organizations_url": "https://api.github.com/users/slush0/orgs",
            "repos_url": "https://api.github.com/users/slush0/repos",
            "events_url": "https://api.github.com/users/slush0/events{/privacy}",
            "received_events_url": "https://api.github.com/users/slush0/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744233,
                "node_id": "LA_kwDOHfNHc877wTjp",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/bug",
                "name": "bug",
                "color": "d73a4a",
                "default": true,
                "description": "Something isn't working"
            },
            {
                "id": 4223744237,
                "node_id": "LA_kwDOHfNHc877wTjt",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/good%20first%20issue",
                "name": "good first issue",
                "color": "7057ff",
                "default": true,
                "description": "Good for newcomers"
            },
            {
                "id": 4223744238,
                "node_id": "LA_kwDOHfNHc877wTju",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/help%20wanted",
                "name": "help wanted",
                "color": "008672",
                "default": true,
                "description": "Collaborators needed"
            },
            {
                "id": 5016839215,
                "node_id": "LA_kwDOHfNHc88AAAABKwbkLw",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/1day",
                "name": "1day",
                "color": "0E2098",
                "default": false,
                "description": "A problem that can be solved in a single day's time"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 10,
        "created_at": "2023-01-25T11:32:18Z",
        "updated_at": "2023-07-23T15:42:23Z",
        "closed_at": "2023-07-22T17:11:03Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I have very simple inference testing script. No threading or any advanced stuff. Basically \"hello world\" inference on Petals. Everything is going well, but when the script is exiting, I always get this error:\r\n\r\n```\r\nException ignored in: <function P2P.__del__ at 0x7f4ac1feed40>\r\nTraceback (most recent call last):\r\n  File \"/home/dev/.local/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 632, in __del__\r\n  File \"/home/dev/.local/lib/python3.10/site-packages/hivemind/p2p/p2p_daemon.py\", line 659, in _terminate\r\n  File \"/home/dev/.local/lib/python3.10/site-packages/multiaddr/multiaddr.py\", line 254, in value_for_protocol\r\nTypeError: 'NoneType' object is not callable\r\n```\r\nIt is rather cosmetic issue, but something is not OK there.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/237/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/237/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/236",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/236/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/236/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/236/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/236",
        "id": 1554626454,
        "node_id": "I_kwDOHfNHc85cqbeW",
        "number": 236,
        "title": "Failed finding central directory",
        "user": {
            "login": "slush0",
            "id": 565341,
            "node_id": "MDQ6VXNlcjU2NTM0MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/565341?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/slush0",
            "html_url": "https://github.com/slush0",
            "followers_url": "https://api.github.com/users/slush0/followers",
            "following_url": "https://api.github.com/users/slush0/following{/other_user}",
            "gists_url": "https://api.github.com/users/slush0/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/slush0/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/slush0/subscriptions",
            "organizations_url": "https://api.github.com/users/slush0/orgs",
            "repos_url": "https://api.github.com/users/slush0/repos",
            "events_url": "https://api.github.com/users/slush0/events{/privacy}",
            "received_events_url": "https://api.github.com/users/slush0/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-01-24T09:32:37Z",
        "updated_at": "2023-01-27T16:38:56Z",
        "closed_at": "2023-01-27T16:38:02Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I believe the server got stuck on following error, because this is the last output in console and it is many hours old. There's no following line about reading the block from HF. Restarting the server helped and it works normally now.\r\n\r\nIt might be cause by network downtime, but I suppose the server should survive short outages like this.\r\n\r\n```\r\nJan 24 06:36:00.449 [WARN] [/home/petals/src/petals/bloom/from_pretrained.py._load_state_dict:121] Failed to load block 64 from HF Hub (retry in 10240 sec)\r\nTraceback (most recent call last):\r\n  File \"/home/petals/src/petals/bloom/from_pretrained.py\", line 118, in _load_state_dict\r\n    return torch.load(archive_file, map_location=\"cpu\")\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/serialization.py\", line 777, in load\r\n    with _open_zipfile_reader(opened_file) as opened_zipfile:\r\n  File \"/opt/conda/lib/python3.10/site-packages/torch/serialization.py\", line 282, in __init__\r\n    super(_open_zipfile_reader, self).__init__(torch._C.PyTorchFileReader(name_or_buffer))\r\nRuntimeError: PytorchStreamReader failed reading zip archive: failed finding central directory\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/236/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/236/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/235",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/235/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/235/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/235/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/235",
        "id": 1554593514,
        "node_id": "PR_kwDOHfNHc85IZ8_t",
        "number": 235,
        "title": "Add `allowed_servers`, `max_retries` options to the client, improve logs",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-24T09:12:44Z",
        "updated_at": "2023-02-05T22:22:20Z",
        "closed_at": "2023-02-05T22:22:18Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/235",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/235",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/235.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/235.patch",
            "merged_at": "2023-02-05T22:22:18Z"
        },
        "body": "This `allowed_servers` option makes it possible to:\r\n\r\n- Specify a list of **trusted peers** we'd like to use for inference/fine-tuning\r\n- Specify a set of peers whose outputs we'd like to validate",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/235/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/235/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/234",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/234/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/234/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/234/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/234",
        "id": 1554352404,
        "node_id": "PR_kwDOHfNHc85IZK2-",
        "number": 234,
        "title": "Prompt-tuning notebooks: suggest to use a smaller model for faster prototyping",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-24T05:35:57Z",
        "updated_at": "2023-01-24T06:01:33Z",
        "closed_at": "2023-01-24T06:01:32Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/234",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/234",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/234.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/234.patch",
            "merged_at": "2023-01-24T06:01:31Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/234/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/234/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/233",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/233/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/233/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/233/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/233",
        "id": 1554300536,
        "node_id": "I_kwDOHfNHc85cpL54",
        "number": 233,
        "title": "Add prompt tuning to the basic example",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5016839215,
                "node_id": "LA_kwDOHfNHc88AAAABKwbkLw",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/1day",
                "name": "1day",
                "color": "0E2098",
                "default": false,
                "description": "A problem that can be solved in a single day's time"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-24T04:30:50Z",
        "updated_at": "2023-08-30T04:10:34Z",
        "closed_at": "2023-08-30T04:10:34Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "The following code can be added to basic example to run prompt tuning and show demonstrate that it works\r\n\r\n__Quest:__ go to the main example notebook (in readme), and add some simple example based on prompt tuning\r\n\r\nHere's a basic example. I'm not sure it aint missing something, but if it is, we can help add it back.\r\n```python\r\nimport torch\r\nfrom transformers import BloomTokenizerFast\r\nfrom petals.client import DistributedBloomForCausalLM\r\nassert 'model' not in globals(), \"please restart the kernel\"\r\n \r\nMODEL_NAME = \"bigscience/bloom-petals\"\r\ntokenizer = BloomTokenizerFast.from_pretrained(MODEL_NAME, padding_side='right')\r\nmodel = DistributedBloomForCausalLM.from_pretrained(\r\n    MODEL_NAME, tuning_mode='deep_ptune', pre_seq_len=3\r\n).cuda()\r\n\r\ninputs = tokenizer(\"A quick brown fox \", return_tensors=\"pt\")[\"input_ids\"].cuda()\r\nremote_outputs = model.generate(inputs, max_new_tokens=7)\r\nprint(\"generated:\", tokenizer.decode(remote_outputs[0]))\r\n \r\nopt = torch.optim.Adam(model.parameters(), lr=1e-3)\r\n\r\nthe_fox_is_innocent = tokenizer(\"A quick brown fox did not jump over the lazy dog\", return_tensors=\"pt\")[\"input_ids\"].cuda()\r\nfor i in range(50):\r\n  loss = model(input_ids=the_fox_is_innocent, labels=the_fox_is_innocent).loss\r\n  opt.zero_grad()\r\n  loss.backward()\r\n  opt.step()\r\n  print(f\"loss[{i}] = {loss.item():.3f}\")\r\n\r\ninputs = tokenizer(\"A quick brown fox \", return_tensors=\"pt\")[\"input_ids\"].cuda()\r\nremote_outputs = model.generate(inputs, max_new_tokens=7)\r\nprint(\"generated:\", tokenizer.decode(remote_outputs[0]))\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/233/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/233/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/232",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/232/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/232/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/232/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/232",
        "id": 1552912507,
        "node_id": "PR_kwDOHfNHc85IUTOd",
        "number": 232,
        "title": "Add instructions for updating to latest",
        "user": {
            "login": "vadi2",
            "id": 110988,
            "node_id": "MDQ6VXNlcjExMDk4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/110988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadi2",
            "html_url": "https://github.com/vadi2",
            "followers_url": "https://api.github.com/users/vadi2/followers",
            "following_url": "https://api.github.com/users/vadi2/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadi2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadi2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadi2/subscriptions",
            "organizations_url": "https://api.github.com/users/vadi2/orgs",
            "repos_url": "https://api.github.com/users/vadi2/repos",
            "events_url": "https://api.github.com/users/vadi2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadi2/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-23T11:12:40Z",
        "updated_at": "2023-01-23T12:23:33Z",
        "closed_at": "2023-01-23T12:06:03Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/232",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/232",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/232.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/232.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/232/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/232/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/231",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/231/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/231/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/231/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/231",
        "id": 1552102689,
        "node_id": "PR_kwDOHfNHc85IRps5",
        "number": 231,
        "title": "Fix dtype error in fine-tuning notebooks",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-22T12:39:02Z",
        "updated_at": "2023-01-23T01:09:15Z",
        "closed_at": "2023-01-23T01:09:14Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/231",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/231",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/231.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/231.patch",
            "merged_at": "2023-01-23T01:09:14Z"
        },
        "body": "- Fix score_head type in `src/petals/client/remote_model.py`\r\n- Fix sst-2 notebook's second part",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/231/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/231/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/230",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/230/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/230/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/230/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/230",
        "id": 1552010096,
        "node_id": "PR_kwDOHfNHc85IRYml",
        "number": 230,
        "title": "Patch MPFuture to not use shared memory",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-22T05:27:14Z",
        "updated_at": "2023-01-22T06:27:38Z",
        "closed_at": "2023-01-22T05:37:39Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/230",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/230",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/230.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/230.patch",
            "merged_at": "2023-01-22T05:37:39Z"
        },
        "body": "Shmem-related crashes like the one below periodically happen on servers (which causes the swarm downtime), bootstrap peers and the health monitor:\r\n```\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: terminate called after throwing an instance of 'c10::Error'\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]:   what():  could not unlink the shared memory file /torch_32150_2656295120_383\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: Exception raised from close at ../aten/src/ATen/MapAllocator.cpp:514 (most recent call first):\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #0: c10::Error::Error(c10::SourceLocation, std::string) + 0x3e (0x7f3f0aaa156e in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libc10.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #1: c10::detail::torchCheckFail(char const*, char const*, unsigned int, std::string const&) + 0x5c (0x7f3f0aa6bf18 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libc10.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #2: at::RefcountedMapAllocator::close() + 0xd1 (0x7f3ef0d11141 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libtorch_cpu.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #3: THManagedMapAllocator::close() + 0x4b (0x7f3f0b0773ab in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libshm.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #4: <unknown function> + 0x4433 (0x7f3f0b077433 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libshm.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #5: <unknown function> + 0x4ac468 (0x7f3f09cac468 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libtorch_python.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #6: <unknown function> + 0x40465 (0x7f3f0aa89465 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libc10.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #7: c10::TensorImpl::~TensorImpl() + 0x2ca (0x7f3f0aa827ea in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libc10.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #8: c10::TensorImpl::~TensorImpl() + 0x9 (0x7f3f0aa82939 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libc10.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #9: <unknown function> + 0x6f6268 (0x7f3f09ef6268 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libtorch_python.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #10: THPVariable_subclass_dealloc(_object*) + 0x2a5 (0x7f3f09ef6555 in /home/borzunov/.local/lib/python3.10/site-packages/torch/lib/libtorch_python.so)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: <omitting python frames>\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #23: <unknown function> + 0x90402 (0x7f3f0ba90402 in /lib/x86_64-linux-gnu/libc.so.6)\r\nJan 20 03:01:05 petals-bootstrap2 python[32150]: frame #24: <unknown function> + 0x11f590 (0x7f3f0bb1f590 in /lib/x86_64-linux-gnu/libc.so.6)\r\n```\r\n\r\nCurrently it happens **once in 1-3 days even on bootstrap peers**. On servers, this happens more often. There's also a hypothesis that this happens when people run fine-tuning.\r\n\r\nThis PR monkey-patches hivemind not to use it, since we don't need the `.cancel()` functionality in hivemind. This should solve the issue until we ship a proper hivemind fix.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/230/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/230/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/229",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/229/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/229/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/229/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/229",
        "id": 1551728970,
        "node_id": "PR_kwDOHfNHc85IQkfd",
        "number": 229,
        "title": "Create codeball.yml",
        "user": {
            "login": "versoindustries",
            "id": 68095651,
            "node_id": "MDQ6VXNlcjY4MDk1NjUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/68095651?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/versoindustries",
            "html_url": "https://github.com/versoindustries",
            "followers_url": "https://api.github.com/users/versoindustries/followers",
            "following_url": "https://api.github.com/users/versoindustries/following{/other_user}",
            "gists_url": "https://api.github.com/users/versoindustries/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/versoindustries/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/versoindustries/subscriptions",
            "organizations_url": "https://api.github.com/users/versoindustries/orgs",
            "repos_url": "https://api.github.com/users/versoindustries/repos",
            "events_url": "https://api.github.com/users/versoindustries/events{/privacy}",
            "received_events_url": "https://api.github.com/users/versoindustries/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-21T07:52:44Z",
        "updated_at": "2023-01-21T07:54:23Z",
        "closed_at": "2023-01-21T07:54:23Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/229",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/229",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/229.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/229.patch",
            "merged_at": null
        },
        "body": "codeball",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/229/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/229/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/228",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/228/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/228/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/228/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/228",
        "id": 1550500942,
        "node_id": "I_kwDOHfNHc85casRO",
        "number": 228,
        "title": "Critical Code Analysis {backend.py}",
        "user": {
            "login": "versoindustries",
            "id": 68095651,
            "node_id": "MDQ6VXNlcjY4MDk1NjUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/68095651?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/versoindustries",
            "html_url": "https://github.com/versoindustries",
            "followers_url": "https://api.github.com/users/versoindustries/followers",
            "following_url": "https://api.github.com/users/versoindustries/following{/other_user}",
            "gists_url": "https://api.github.com/users/versoindustries/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/versoindustries/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/versoindustries/subscriptions",
            "organizations_url": "https://api.github.com/users/versoindustries/orgs",
            "repos_url": "https://api.github.com/users/versoindustries/repos",
            "events_url": "https://api.github.com/users/versoindustries/events{/privacy}",
            "received_events_url": "https://api.github.com/users/versoindustries/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2023-01-20T08:51:47Z",
        "updated_at": "2023-03-30T03:21:52Z",
        "closed_at": "2023-03-30T03:21:51Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "**Context:** This issue contains the outputs of an LM-based code analysis tool ran by @versoindustries on a part of Petals code. [comment added by @borzunov]\r\n\r\n\\\\\\\\ GPT-3|Codex|ChatGPT Unofficial ChatGPT API ///\r\n~ Fine Tuned Complex Model GPT Model wrapped into a program, and vs extension used to analyze codebases at a reasonable cost~\r\nWill slowly add in other files. I haven't dove all the way into the codebase, but as I do the model will get a clearer picture of what's going on. Some of these may not actually be issues if it's being used in a library or source that's not known to the model yet.\r\n\r\n\r\nThe assert not param.requires_grad and assert not buf.requires_grad checks in the constructor of the TransformerBackend class may cause problems if the model's parameters or buffers are expected to accumulate gradients.\r\n\r\nThe inference_pool and forward_pool variables are being assigned the same instance of PrioritizedTaskPool, which could lead to unexpected behavior when processing requests for forward and inference.\r\n\r\nThe self.cache_bytes_per_token variable is being assigned the value of Counter() which is not being used later on the code and is not being used for any operations.\r\n\r\nThe max_batch_size variable is being used in the constructor of PrioritizedTaskPool but it is not defined in the code.\r\n\r\nThe self.shard_num_heads variable is being used without being defined or assigned any value before.\r\n\r\nThe backward_pool variable is defined but it is not being used in the code.\r\n\r\nThe self.inference_schema variable is defined but it is not being used in the code.\r\n\r\nThe class TransformerBackend inherits from ModuleBackend but it is not being used.\r\n\r\nThe import of BloomConfig is not being used in the code.\r\n\r\nThe import of BloomAttention is not being used in the code.\r\n\r\nThe self.dtype variable is being used but it is not being defined or assigned any value before.\r\n\r\nThe self.memory_cache variable is defined but it is not being used in the code.\r\n\r\nThe import of InferenceMetadata is not being used in the code.\r\n\r\nThe import of Handle is not being used in the code.\r\n\r\nThe import of is_dummy is not being used in the code.\r\n\r\nThe self.forward_pool and self.inference_pool are being defined with the same PrioritizedTaskPool instance, which could cause confusion and unexpected behavior when handling forward and inference requests.\r\n\r\nThe self.forward_pool and self.backward_pool are defined with the same max_batch_size variable, which is not defined in the code. It might cause an error if this variable is not passed as an argument.\r\n\r\nThe self.config variable is defined in the constructor but it is not used anywhere in the code.\r\n\r\nThe *args and **kwargs passed to the constructor are not used in the code, which might cause confusion and unexpected behavior if they are passed with specific values.\r\n\r\nThe from __future__ import annotations statement at the top of the code is not needed and does not affect the execution of the code in any way.\r\n\r\nThe self.inference_schema variable is defined but it is not used in the code. It is unclear if it is intended to be used for validation or documentation of the input and output schema of the inference_step method.\r\n\r\nThe self.cache_bytes_per_token variable is defined but it is not used in the code. It is unclear if it is intended to be used for memory management or performance optimization.\r\n\r\nThe self.get_inference_cache_descriptors method is defined but it is not used in the code. It is unclear what its intended purpose is and how it is related to the self.cache_bytes_per_token variable.\r\n\r\nThe batch_size and max_length arguments passed to the self.get_inference_cache_descriptors method are not used in the code. It is unclear if they are intended to be used for memory management or performance optimization.\r\n\r\nThe self.dtype variable is defined in the constructor but it is not used in the code. It is unclear what the intended use of this variable is.\r\n\r\nThe self.shard_num_heads variable is defined but it is not used in the code. It is unclear what the intended use of this variable is.\r\n\r\nThe self.memory_cache variable is defined in the constructor but it is not used in the code. It is unclear what the intended use of this variable is.\r\n\r\nThere is no clear error handling mechanism in the code. If an error occurs, it might go unnoticed and cause unexpected behavior.\r\n\r\nThe code is not commented, which makes it difficult to understand the intended behavior and the meaning of the variables and methods.\r\n\r\nThe code is not well organized, making it difficult to understand the flow of execution and the dependencies between the different parts of the code.\r\n\r\nThe code is not written in a modular or reusable way, making it difficult to reuse parts of the code for other projects or applications.\r\n\r\nhe self.forward, self.backward and self.inference_step methods are being used in the constructor of the TransformerBackend class, but they are not defined in the code. It is unclear how these methods are supposed to work and what their intended behavior is.\r\n\r\nThe self.inference_pool variable is defined but it is not used in the code. It is unclear what the intended use of this variable is.\r\n\r\nThe self.args_schema, self.kwargs_schema variables are used in the constructor but they are not defined in the code. It is unclear what their intended use is.\r\n\r\ntensor_parallel and petals are not standard python library and are not clear what they are and what they are used for.\r\n\r\nThe self.inference_schema variable is defined but it is not used in the code. It is unclear what the intended use of this variable is.\r\n\r\nOverall the code seems to have been in the middle of development, and not ready for use. It has multiple issues that need to be addressed and cleaned up before it can be used in any real-world scenario.\r\n\r\n|||||||||||||||||||||||||||||||||||||||||||\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/228/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/228/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/227",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/227/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/227/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/227/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/227",
        "id": 1548611858,
        "node_id": "PR_kwDOHfNHc85IGG_G",
        "number": 227,
        "title": "Fix a typo in error message.",
        "user": {
            "login": "zsc",
            "id": 421605,
            "node_id": "MDQ6VXNlcjQyMTYwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/421605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zsc",
            "html_url": "https://github.com/zsc",
            "followers_url": "https://api.github.com/users/zsc/followers",
            "following_url": "https://api.github.com/users/zsc/following{/other_user}",
            "gists_url": "https://api.github.com/users/zsc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zsc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zsc/subscriptions",
            "organizations_url": "https://api.github.com/users/zsc/orgs",
            "repos_url": "https://api.github.com/users/zsc/repos",
            "events_url": "https://api.github.com/users/zsc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zsc/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-19T06:57:35Z",
        "updated_at": "2023-01-19T14:38:44Z",
        "closed_at": "2023-01-19T14:38:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/227",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/227",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/227.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/227.patch",
            "merged_at": "2023-01-19T14:38:44Z"
        },
        "body": "By the code context, it can be inferred that do_sample==False when control reaches this point.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/227/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/227/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/226",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/226/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/226/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/226/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/226",
        "id": 1548503894,
        "node_id": "I_kwDOHfNHc85cTEtW",
        "number": 226,
        "title": "[Feature Request] Direct server-server communication (\"and then\" clause)",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744236,
                "node_id": "LA_kwDOHfNHc877wTjs",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            },
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-01-19T04:41:13Z",
        "updated_at": "2023-04-02T19:41:41Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Based on conversations with @borzunov , @dbaranchuk \r\n\r\n__Premise:__ currently in rpc_inference, each client sends inputs to a given server, collects responses from that server, then sends this input manually to the next server; this is needed for full fault-tolerance, in case one of the servers disconnects. A faster option is to send data directly from server 1 to server 2, if we can make it without compromising fault-tolerance -- and without insane code complexity.\r\n\r\n__Proposed solution:__ in rpc_inference, whenever a client sends a pb2 request, it can add a metadata key, e.g. \"next_peer\", which denotes the peer id of the next server. When a server finishes computing that key, it will immediately send results to the specified peer_id and marks it as \"hidden states for session {inference_session_id}\" - assuming that the next peer currently takes part in the same session.\r\n\r\nOn the receiving end, each server awaits asyncio.wait(request_from_client, request_from_previous_server), whichever comes first. If the request from previous server came first, current server will begin processing it immediately, but will still wait for the client's data to ensure that the results are valid.\r\n\r\nSending data to the next server is not guaranteed: the requested server will simply fire a request and forget about it.\r\nNotably, the server will still return hidden states to the client as usual. The extra communication is fine because rpc_inference performance does not use much network throughput (\"mbps\"), being more sensitive to latency (\"ping\").\r\n\r\nNotes:\r\n- client can request a different next_peer after each new inference step. This happens if one of the \"next servers\" disconnected from the inference session. Servers should send each hidden_states to the server that was specified in the current request.next_peer\r\n- if a server receives a request that doesn't correspond to any active session, it simply ignores the request. this is fine because if that request was valid, the client will still send the same data later\r\n- [security] since the previous server can be faulty/malicious, the \"next peer\" server should check that the data it received from previous peer is equal to the data it eventually received from client; when we implement full verification, the server can simply sign the next peer message so it can be used as a proof of (benign or malicious) activity\r\n     - if this took place, a server may have to re-send inference message; we can support this by specifying the current length in the server's response\r\n- [security] the server-to-server traffic caused by the client is strictly less than client-to-server traffic, which eliminates the potential misuse via ddos amplification\r\n- the current-best routing strategy would still work decently for this algorithm because it uses a strictly non-optimistic (time>=actual) performance model\r\n\r\n@dbaranchuk also proposed a clever alternative solution, where each server runs its own fault-tolerant inference session to subsequent servers. This can be a better solution If we find a way to limit the memory / bandwidth usage on a server.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/226/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/226/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/225",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/225/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/225/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/225/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/225",
        "id": 1548395940,
        "node_id": "PR_kwDOHfNHc85IFZYM",
        "number": 225,
        "title": "Merge inference pools into one to increase inference speed",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-19T01:48:31Z",
        "updated_at": "2023-01-19T15:38:23Z",
        "closed_at": "2023-01-19T15:38:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/225",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/225",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/225.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/225.patch",
            "merged_at": "2023-01-19T15:38:21Z"
        },
        "body": "**Motivation:** It turns out using a separate pool for each block has led to significant slowdown, see #224 for details.\r\n\r\nDeviations from original plan (if you insist, press \"request changes\")\r\n- merged rpc_inference is **enabled** by default - i tested it to match the original inference exactly, with and without prompts\r\n- deep prompts will not be extracted in this PR, but i will create an issue for doing that in a subsequent PR\r\n\r\nWhat was done:\r\n- [x] investigate inference performance for potential bottlenecks\r\n   - see results in #224 \r\n- [x] implement a combined inference pool\r\n- [x] check exact match\r\n- [x] check performance\r\n   - 26s -> 13.8s, mean over 3 runs, experiment setup from #224\r\n- [x] prioritize inference over fwd/bwd by default\r\n- [x] create an issue about extracting deep prompts into a separate file",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/225/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/225/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/224",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/224/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/224/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/224/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/224",
        "id": 1548080471,
        "node_id": "PR_kwDOHfNHc85IEUtH",
        "number": 224,
        "title": "[Benchmark] generation speed (server-side) and how to improve it",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-18T20:45:09Z",
        "updated_at": "2023-01-19T12:28:55Z",
        "closed_at": "2023-01-19T01:45:11Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/224",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/224",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/224.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/224.patch",
            "merged_at": null
        },
        "body": "WARNING: this PR is not meant to be merged; i am running some experiments to discuss with @borzunov . If you are not @borzunov , your comments are welcome too,\r\n\r\nWARNING2: once #225 is merged, these results are no longer valid; that PR reduces the task_pool.* time of ~8x;\r\n\r\n__Premise:__ when petals started, we didn't anticipate that our top-1 app would be chat-like interactive inference. Our inference pipeline is using the code that was intended for large-batch processing; it is likely inefficient; let's figure out what takes so much time and try n optimize it.\r\n\r\n\r\n### Benchmark setup: \r\n- using [this commit](https://github.com/bigscience-workshop/petals/pull/224/commits/49939381f85aa7fcca4b00d9e6f835b136c35bf5), not connected to the main swarm; testing on a slice of an A100 (why: if we can feed a100 with data fast enough, we can feed any other GPU even better)\r\n   -  this branch is a fork of main with 3 changes:\r\n       - [petals.bloom] run blocks with random weights to save time;\r\n       - [petals.constants] remove public bootstrap peers from constants.py \r\n       - [petals.server] measure time manually\r\n- server: `python -m petals.cli.run_server bigscience/bloom-petals --initial_peers /ip6/MY_ADDRESS/tcp/6949/p2p/QmMYIDHERE --block_indices 0:8`\r\n\r\nClient (jupyter, running on the same machine as the server):\r\n```python\r\nimport torch\r\nimport hivemind\r\nimport petals\r\nfrom tqdm.auto import trange\r\nconfig = petals.DistributedBloomConfig.from_pretrained(\r\n    \"bigscience/bloom-petals\",\r\n    dht_prefix=\"bigscience/bloom-petals\",\r\n    initial_peers=[\r\n        \"/ip6/MY_ADDRESS/tcp/6949/p2p/QmserverMYIDHERE\"],\r\n    n_layer=8\r\n)\r\ndht = hivemind.DHT(initial_peers=config.initial_peers, start=True)\r\n\r\nsequence = petals.RemoteSequential(config, dht)\r\n\r\nwith torch.no_grad(), sequence.inference_session(max_length=128) as sess:\r\n    for i in trange(128):\r\n        out = sess.step(torch.randn(1, 1, 14336))\r\n```\r\n\r\n### Results (main):\r\nkey: total seconds per rpc_inference.\r\n\r\nIf key has a prefix (backend.get_cache or task_pool.whatever) , the prefix corresponds to a file. If no prefix, the time is measured on `handler.rpc_inference`.\r\n\r\nFirst inference session, including time to broker a connection\r\n```\r\nINFERENCE: \r\ntotal_time:29.163\r\nt_inside_step:22.678\r\nt_wait_for_taskpool:21.687\r\ntask_pool.from_computed_to_received:7.724\r\ntask_pool.from_submit_before_processing:7.029\r\nbackend.total:6.944\r\nbackend.forward:6.595\r\nbackend.non_forward:0.348\r\nbackend.get_cache:0.141\r\nbackend.preprocess_cache:0.109\r\nbackend.postprocess_cache:0.099\r\n```\r\n\r\nSecond inference session, same jupyter client and server:\r\n\r\n```\r\nINFERENCE: \r\ntotal_time:23.960\r\nt_inside_step:18.248\r\nt_wait_for_taskpool:17.392\r\ntask_pool.from_submit_before_processing:6.481\r\ntask_pool.from_computed_to_received:6.064\r\nbackend.total:4.857\r\nbackend.forward:4.533\r\nbackend.non_forward:0.324\r\nbackend.get_cache:0.142\r\nbackend.preprocess_cache:0.095\r\nbackend.postprocess_cache:0.088\r\n```\r\n\r\n\r\n__Takeaways:__\r\n\r\n- [fine] we wait for a couple of seconds when connecting for the first time\r\n- [good] on-device cache manipulations take a relatively short time, about 5%\r\n- __[super-bad] we spend 75% of the server time on task_pool-related activities__\r\n   - this is overhead becomes negligible (<5%) when processing large batches, e.g. when training\r\n\r\n### Results(no cpu-gpu transfer)\r\n\r\nSame setup, but hidden_states and hypo_ids are not actually sent between handler and backend. Instead, backend creates a dummy tensors in the shape of hidden_states and hypo_ids, respectively. Likewise, output hidden states are deleted and handler reuses input hidden states in their stead\r\n\r\nFirst run:\r\n```\r\nINFERENCE: \r\ntotal_time:18.800\r\nt_inside_step:12.928\r\nt_wait_for_taskpool:12.147\r\nbackend.total:5.788\r\nbackend.forward:5.506\r\ntask_pool.from_submit_before_processing:4.772\r\ntask_pool.from_computed_to_received:1.595\r\nbackend.non_forward:0.281\r\nbackend.get_cache:0.127\r\nbackend.postprocess_cache:0.080\r\nbackend.preprocess_cache:0.074\r\n```\r\nSecond run, same peers:\r\n```\r\nINFERENCE: \r\ntotal_time:16.939\r\nt_inside_step:11.984\r\nt_wait_for_taskpool:11.207\r\ntask_pool.from_submit_before_processing:5.148\r\nbackend.total:4.463\r\nbackend.forward:4.172\r\ntask_pool.from_computed_to_received:1.605\r\nbackend.non_forward:0.291\r\nbackend.get_cache:0.136\r\nbackend.postprocess_cache:0.079\r\nbackend.preprocess_cache:0.076\r\n```\r\n\r\n__Takeaways:__\r\n- the slowdown is not due to cpu-gpu sync: `task_pool.from_computed_to_received` went from 7s to 5s\r\n   - hypothesis: the slowdown is due to runtime scheduling?\r\n   - guaranteed but complicated solution: use a shared pool for all block inferences, chain consecutive inference calls\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/224/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/224/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/223",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/223/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/223/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/223/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/223",
        "id": 1538408338,
        "node_id": "I_kwDOHfNHc85bsj-S",
        "number": 223,
        "title": "Is Petals the Solution that ChatGPT needs?",
        "user": {
            "login": "gssakash",
            "id": 52027687,
            "node_id": "MDQ6VXNlcjUyMDI3Njg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/52027687?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gssakash",
            "html_url": "https://github.com/gssakash",
            "followers_url": "https://api.github.com/users/gssakash/followers",
            "following_url": "https://api.github.com/users/gssakash/following{/other_user}",
            "gists_url": "https://api.github.com/users/gssakash/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gssakash/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gssakash/subscriptions",
            "organizations_url": "https://api.github.com/users/gssakash/orgs",
            "repos_url": "https://api.github.com/users/gssakash/repos",
            "events_url": "https://api.github.com/users/gssakash/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gssakash/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-01-18T17:42:05Z",
        "updated_at": "2023-01-18T18:20:50Z",
        "closed_at": "2023-01-18T18:18:57Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I recently found out about Petals and the way it optimizes the process of running LLM models on your local machine through a Bit-Torrent style-based approach seemed very innovative to me.\r\n\r\nRight now, it is estimated that it costs over a 100k dollars to run ChatGPT daily and I was wondering if this cost could be brought down using solutions like Petal as this could also help the environment by lowering a very massive footprint that this complex operation would cause",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/223/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/223/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/222",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/222/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/222/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/222/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/222",
        "id": 1537712848,
        "node_id": "I_kwDOHfNHc85bp6LQ",
        "number": 222,
        "title": "Specify minimal requirements to GPU's for contributing",
        "user": {
            "login": "Joemgu7",
            "id": 75042374,
            "node_id": "MDQ6VXNlcjc1MDQyMzc0",
            "avatar_url": "https://avatars.githubusercontent.com/u/75042374?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Joemgu7",
            "html_url": "https://github.com/Joemgu7",
            "followers_url": "https://api.github.com/users/Joemgu7/followers",
            "following_url": "https://api.github.com/users/Joemgu7/following{/other_user}",
            "gists_url": "https://api.github.com/users/Joemgu7/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Joemgu7/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Joemgu7/subscriptions",
            "organizations_url": "https://api.github.com/users/Joemgu7/orgs",
            "repos_url": "https://api.github.com/users/Joemgu7/repos",
            "events_url": "https://api.github.com/users/Joemgu7/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Joemgu7/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-18T09:59:34Z",
        "updated_at": "2023-02-06T21:49:22Z",
        "closed_at": "2023-01-19T09:10:30Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I tried to contribute to the Swarm using an 8gb card and then quickly realized, even when setting the Pytorch fragmeneted split size to 512mb that I could not use this card to contribute to inference. It would be nice to have a section in the readme that specifies this.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/222/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/222/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/221",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/221/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/221/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/221/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/221",
        "id": 1537141956,
        "node_id": "PR_kwDOHfNHc85HlNof",
        "number": 221,
        "title": "Mention BLOOMZ in readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-17T23:00:26Z",
        "updated_at": "2023-01-17T23:23:23Z",
        "closed_at": "2023-01-17T23:23:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/221",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/221",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/221.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/221.patch",
            "merged_at": "2023-01-17T23:23:22Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/221/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/221/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/220",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/220/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/220/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/220/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/220",
        "id": 1536659724,
        "node_id": "I_kwDOHfNHc85bl5EM",
        "number": 220,
        "title": "chat.petals integration with Hugging Face Spaces",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744237,
                "node_id": "LA_kwDOHfNHc877wTjt",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/good%20first%20issue",
                "name": "good first issue",
                "color": "7057ff",
                "default": true,
                "description": "Good for newcomers"
            },
            {
                "id": 4223744238,
                "node_id": "LA_kwDOHfNHc877wTju",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/help%20wanted",
                "name": "help wanted",
                "color": "008672",
                "default": true,
                "description": "Collaborators needed"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-01-17T16:15:22Z",
        "updated_at": "2023-02-19T01:40:50Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Currently, you can use the model either directly, via [this notebook](https://colab.research.google.com/drive/1DqaqGkI6ab92WeXDGMStWt_l8BPHUaIj#scrollTo=OJ7AFOumIYlY), or through http://chat.petals.ml/ .\r\n\r\nThe latter is a self-hosted chat app that runs code similar to the colab notebook, but wraps it with a simple web server. The source code is available [here](https://github.com/borzunov/chat.petals.ml).\r\n\r\nIt would be great if anybody could fork the chat project and reuse it for their pet projects. Thing is, not everyone has a server to host that web server - and it is not always convenient to share jupyter notebooks for everything.\r\n\r\nTo make it easier  to create similar apps, we can create an example with Spaces. [Hugging Face Spaces](https://huggingface.co/spaces/launch) allows you to run simple web apps at the expense of HF.\r\n\r\nReferences:\r\n- @younesbelkada has made a space with the early version of Petals: https://huggingface.co/spaces/ybelkada/petals/tree/main\r\n- There is another related project that integrates petals 1.0.0, https://huggingface.co/spaces/hivemind-personalized-chat/chat-gradio/tree/main\r\n\r\n**Task:** create something similar to chat.petals on top of HF spaces. One way to do this is to fork @younesbelkada 's project and update it to the latest stable version of Petals",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/220/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/220/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/219",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/219/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/219/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/219/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/219",
        "id": 1535042901,
        "node_id": "PR_kwDOHfNHc85HeOeD",
        "number": 219,
        "title": "Add citation to readme",
        "user": {
            "login": "Muhtasham",
            "id": 20128202,
            "node_id": "MDQ6VXNlcjIwMTI4MjAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/20128202?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Muhtasham",
            "html_url": "https://github.com/Muhtasham",
            "followers_url": "https://api.github.com/users/Muhtasham/followers",
            "following_url": "https://api.github.com/users/Muhtasham/following{/other_user}",
            "gists_url": "https://api.github.com/users/Muhtasham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Muhtasham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Muhtasham/subscriptions",
            "organizations_url": "https://api.github.com/users/Muhtasham/orgs",
            "repos_url": "https://api.github.com/users/Muhtasham/repos",
            "events_url": "https://api.github.com/users/Muhtasham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Muhtasham/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 5016839215,
                "node_id": "LA_kwDOHfNHc88AAAABKwbkLw",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/1day",
                "name": "1day",
                "color": "0E2098",
                "default": false,
                "description": "A problem that can be solved in a single day's time"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-16T14:33:12Z",
        "updated_at": "2023-01-21T03:05:41Z",
        "closed_at": "2023-01-21T03:05:41Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/219",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/219",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/219.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/219.patch",
            "merged_at": "2023-01-21T03:05:41Z"
        },
        "body": "citation added",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/219/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/219/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/218",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/218/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/218/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/218/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/218",
        "id": 1534055981,
        "node_id": "PR_kwDOHfNHc85Ha4Am",
        "number": 218,
        "title": "Add one more link to the \"Getting started\" tutorial",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-15T23:41:48Z",
        "updated_at": "2023-01-16T00:35:07Z",
        "closed_at": "2023-01-16T00:35:06Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/218",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/218",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/218.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/218.patch",
            "merged_at": "2023-01-16T00:35:06Z"
        },
        "body": "Some people miss the \"Try now in Colab\" link or don't understand that it leads to the comprehensive tutorial, so I added one more explicit link.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/218/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/218/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/217",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/217/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/217/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/217/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/217",
        "id": 1534012378,
        "node_id": "PR_kwDOHfNHc85HavWa",
        "number": 217,
        "title": "Choose --num_blocks automatically for all models",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-15T21:34:51Z",
        "updated_at": "2023-01-15T21:53:10Z",
        "closed_at": "2023-01-15T21:53:09Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/217",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/217",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/217.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/217.patch",
            "merged_at": "2023-01-15T21:53:09Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/217/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/217/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/216",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/216/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/216/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/216/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/216",
        "id": 1533426607,
        "node_id": "I_kwDOHfNHc85bZjuv",
        "number": 216,
        "title": "Integration with gensyn.ai",
        "user": {
            "login": "Olshansk",
            "id": 1892194,
            "node_id": "MDQ6VXNlcjE4OTIxOTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1892194?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Olshansk",
            "html_url": "https://github.com/Olshansk",
            "followers_url": "https://api.github.com/users/Olshansk/followers",
            "following_url": "https://api.github.com/users/Olshansk/following{/other_user}",
            "gists_url": "https://api.github.com/users/Olshansk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Olshansk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Olshansk/subscriptions",
            "organizations_url": "https://api.github.com/users/Olshansk/orgs",
            "repos_url": "https://api.github.com/users/Olshansk/repos",
            "events_url": "https://api.github.com/users/Olshansk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Olshansk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-01-14T18:48:21Z",
        "updated_at": "2023-02-02T21:58:15Z",
        "closed_at": "2023-02-02T21:58:14Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "**tl;dr This is just an idea, that I unfortunately don't have time to work on right now but would be cool if anyone picks it up.**\r\n\r\nI learnt about Petals from [Simon William's Blog Post](https://simonwillison.net/2023/Jan/2/petals/) and thought that tight \"2nd party\" integration with [gensyn.ai](https://www.gensyn.ai) could be interesting.\r\n\r\n`Gensys.ai` is a blockchain-based incentive-driven distributed computing network, and `Petals` is a framework for distributed LLM training.\r\n\r\nIf/when I ever have the time, this would be fun to work on, but just jotting down the idea publically for now.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/216/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/216/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/215",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/215/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/215/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/215/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/215",
        "id": 1532543974,
        "node_id": "PR_kwDOHfNHc85HV83P",
        "number": 215,
        "title": "CI: Update deprecated actions, don't measure network RPS",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-13T16:01:34Z",
        "updated_at": "2023-01-13T16:16:33Z",
        "closed_at": "2023-01-13T16:16:32Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/215",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/215",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/215.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/215.patch",
            "merged_at": "2023-01-13T16:16:31Z"
        },
        "body": "* `actions/cache@v2` has been deprecated and going to be removed soon.\r\n* `measure_network_rps()` doesn't run well on CI, the speedtest servers often ban these hosts (likely due to many requests).",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/215/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/215/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/214",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/214/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/214/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/214/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/214",
        "id": 1532341203,
        "node_id": "PR_kwDOHfNHc85HVQtu",
        "number": 214,
        "title": "Bump version to 1.1.1",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-13T13:55:10Z",
        "updated_at": "2023-01-13T20:34:48Z",
        "closed_at": "2023-01-13T20:34:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/214",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/214",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/214.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/214.patch",
            "merged_at": "2023-01-13T20:34:46Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/214/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/214/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/213",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/213/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/213/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/213/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/213",
        "id": 1532338844,
        "node_id": "PR_kwDOHfNHc85HVQNT",
        "number": 213,
        "title": "CI: Convert model only when convert_model.py or setup.cfg change",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-13T13:53:11Z",
        "updated_at": "2023-01-13T15:53:59Z",
        "closed_at": "2023-01-13T15:53:58Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/213",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/213",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/213.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/213.patch",
            "merged_at": "2023-01-13T15:53:57Z"
        },
        "body": "**Status:** Tested.\r\n\r\nThis reduces the test running time by 2 times, unless `convert_model.py` or `setup.cfg` are changed.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/213/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/213/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/212",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/212/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/212/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/212/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/212",
        "id": 1532286860,
        "node_id": "PR_kwDOHfNHc85HVFGw",
        "number": 212,
        "title": "Improve errors in case of missing blocks, suggest to join your own server",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-13T13:12:32Z",
        "updated_at": "2023-01-13T13:53:02Z",
        "closed_at": "2023-01-13T13:53:01Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/212",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/212",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/212.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/212.patch",
            "merged_at": "2023-01-13T13:53:01Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/212/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/212/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/211",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/211/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/211/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/211/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/211",
        "id": 1532206802,
        "node_id": "PR_kwDOHfNHc85HUzyJ",
        "number": 211,
        "title": "Fix output shape when resuming generation",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-13T12:07:14Z",
        "updated_at": "2023-01-13T12:27:11Z",
        "closed_at": "2023-01-13T12:27:10Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/211",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/211",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/211.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/211.patch",
            "merged_at": "2023-01-13T12:27:10Z"
        },
        "body": "Before this PR, `model.generate()` returned one excess token when resuming generation with an existing (the last token of the previous session, `session.last_token_id`). This is an unexpected behavior not convenient for the downstream apps, so this PR changes it until it's too late.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/211/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/211/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/210",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/210/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/210/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/210/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/210",
        "id": 1531682965,
        "node_id": "PR_kwDOHfNHc85HTCcR",
        "number": 210,
        "title": "Don't switch blocks if it makes swarm disjoint",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-13T04:12:35Z",
        "updated_at": "2023-01-13T04:45:55Z",
        "closed_at": "2023-01-13T04:45:54Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/210",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/210",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/210.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/210.patch",
            "merged_at": "2023-01-13T04:45:54Z"
        },
        "body": "Even if the swarm seems to have at least 2 servers for each block, turning off on one of the servers could break it. That's because once a server is turned off, others may move to a better position, creating a significant downtime on their way. This PR prohibits switching blocks if it would make the swarm disjoint along the way.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/210/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/210/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/209",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/209/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/209/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/209/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/209",
        "id": 1531580070,
        "node_id": "PR_kwDOHfNHc85HSsgu",
        "number": 209,
        "title": "Report server version and dht.client_mode in rpc_info(), check for updates on startup",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-13T01:37:19Z",
        "updated_at": "2023-01-13T03:46:50Z",
        "closed_at": "2023-01-13T03:46:11Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/209",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/209",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/209.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/209.patch",
            "merged_at": "2023-01-13T03:46:10Z"
        },
        "body": "This PR:\r\n\r\n1. Shows the current Petals version and checks for updates on startup, as suggested in #201:\r\n\r\n<img width=\"806\" alt=\"Screenshot 2023-01-13 at 06 38 46\" src=\"https://user-images.githubusercontent.com/8748943/212224809-1892e8eb-3f92-40ed-96c5-2dd5bdbdab1f.png\">\r\n\r\n2. Reports the current version and DHT mode in `rpc_info()`, so it can be shown on http://health.petals.ml or used on clients for efficient routing:\r\n\r\n<img width=\"693\" alt=\"Screenshot 2023-01-13 at 06 42 57\" src=\"https://user-images.githubusercontent.com/8748943/212225107-b1da0ee3-5bfb-4774-a6a2-85011eff27a7.png\">\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/209/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/209/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/208",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/208/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/208/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/208/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/208",
        "id": 1530940890,
        "node_id": "I_kwDOHfNHc85bQE3a",
        "number": 208,
        "title": "Investigate QUIC (v1) reliability",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744238,
                "node_id": "LA_kwDOHfNHc877wTju",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/help%20wanted",
                "name": "help wanted",
                "color": "008672",
                "default": true,
                "description": "Collaborators needed"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "kevmo314",
            "id": 511342,
            "node_id": "MDQ6VXNlcjUxMTM0Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/511342?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kevmo314",
            "html_url": "https://github.com/kevmo314",
            "followers_url": "https://api.github.com/users/kevmo314/followers",
            "following_url": "https://api.github.com/users/kevmo314/following{/other_user}",
            "gists_url": "https://api.github.com/users/kevmo314/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kevmo314/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kevmo314/subscriptions",
            "organizations_url": "https://api.github.com/users/kevmo314/orgs",
            "repos_url": "https://api.github.com/users/kevmo314/repos",
            "events_url": "https://api.github.com/users/kevmo314/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kevmo314/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "kevmo314",
                "id": 511342,
                "node_id": "MDQ6VXNlcjUxMTM0Mg==",
                "avatar_url": "https://avatars.githubusercontent.com/u/511342?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kevmo314",
                "html_url": "https://github.com/kevmo314",
                "followers_url": "https://api.github.com/users/kevmo314/followers",
                "following_url": "https://api.github.com/users/kevmo314/following{/other_user}",
                "gists_url": "https://api.github.com/users/kevmo314/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kevmo314/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kevmo314/subscriptions",
                "organizations_url": "https://api.github.com/users/kevmo314/orgs",
                "repos_url": "https://api.github.com/users/kevmo314/repos",
                "events_url": "https://api.github.com/users/kevmo314/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kevmo314/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-12T15:41:25Z",
        "updated_at": "2023-01-13T15:44:57Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Our network layer supports quic like this:   `hivemind.DHT(..., host_maddrs=['/ip4/1.2.3.4/udp/1337/quic'])`\r\nHowever, petals servers currently default to TCP-only host maddrs, unless user specifies `--host_maddrs`.\r\n\r\nIn other hivemind-based experiments, we found that QUIC is superior to TCP when operating under household NAT because udp hole  punching is more reliable than tcp hole punching. It would be great if we could enable it by default.\r\n\r\nThe reason why QUIC is in default maddrs is that we haven't tested it thoroughly enough and we fear that it might cause throughput issues.\r\n\r\n__Quest:__ try running a quic-only peer in the public swarm, bombard it with requests from (your pc, colab, some publicly accessible machine), check if it works alright.\r\n\r\nCriteria (suggestion):\r\n- cycles per second, forward and inference (vs TCP)\r\n- retries / relay fallbacks (vs TCP)\r\n\r\nWe should check for cases where QUIC makes the system unusable (10x slow or does not work at all).\r\n\r\nIf some cases are slower by tens of %%, this is fine. If there are cases where quic is 2x slower or similar, we can check that running a server with *both* tcp and quic is still as fast as tcp-only - and if so, it is fine to enable quic in main.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/208/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/208/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/207",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/207/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/207/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/207/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/207",
        "id": 1530888801,
        "node_id": "I_kwDOHfNHc85bP4Jh",
        "number": 207,
        "title": "try bloomz in chat.petals.ml",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744238,
                "node_id": "LA_kwDOHfNHc877wTju",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/help%20wanted",
                "name": "help wanted",
                "color": "008672",
                "default": true,
                "description": "Collaborators needed"
            },
            {
                "id": 4224028097,
                "node_id": "MDU6TGFiZWw0MjI0MDI4MDk3",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/research",
                "name": "research",
                "color": "5319E7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "borzunov",
                "id": 8748943,
                "node_id": "MDQ6VXNlcjg3NDg5NDM=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/borzunov",
                "html_url": "https://github.com/borzunov",
                "followers_url": "https://api.github.com/users/borzunov/followers",
                "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
                "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
                "organizations_url": "https://api.github.com/users/borzunov/orgs",
                "repos_url": "https://api.github.com/users/borzunov/repos",
                "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
                "received_events_url": "https://api.github.com/users/borzunov/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-12T15:13:27Z",
        "updated_at": "2023-01-19T16:16:58Z",
        "closed_at": "2023-01-19T16:16:58Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "There are [rumors](https://www.reddit.com/r/MachineLearning/comments/zstequ/d_when_chatgpt_stops_being_free_run_sota_llm_in/) that [bloomz](https://huggingface.co/bigscience/bloomz) makes for a far closer approximation of intruct/chatGPT than the original bloom. Let's see how it works with chat.petals!\r\n\r\n\r\nSteps:\r\n\r\n1. convert the model to petals format, [like this](https://github.com/bigscience-workshop/petals/blob/main/.github/workflows/run-tests.yaml#L40-L42), upload to yourname/bloomz-petals\r\n   - conversion script requires 400gb ram (can be optimized)\r\n2. run some petals servers with the new model:\r\n   - `python -m petals.cli.run_server yourname/bloomz-petals`\r\n3. run a version of chat.petals with the new model\r\n   - take https://github.com/borzunov/chat.petals.ml \r\n   - change [this line](https://github.com/borzunov/chat.petals.ml/blob/main/app.py#L14) to your model name\r\n   - (optional) you may want to change prompts to better fit the model's original role\r\n4. let contributors play with it\r\n\r\nNote: since we don't have active volunteers for the model (yet!), i can help you find some gpus to bootstrap the model",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/207/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/207/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/206",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/206/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/206/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/206/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/206",
        "id": 1530537782,
        "node_id": "PR_kwDOHfNHc85HPJyd",
        "number": 206,
        "title": "Provide attention mask into the transformer layers",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-12T11:17:19Z",
        "updated_at": "2023-08-15T11:23:43Z",
        "closed_at": "2023-08-15T11:23:43Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/206",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/206",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/206.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/206.patch",
            "merged_at": null
        },
        "body": "Replace assert about not working attention_mask logic with actual attention mask transfer.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/206/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/206/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/205",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/205/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/205/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/205/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/205",
        "id": 1529726430,
        "node_id": "PR_kwDOHfNHc85HMZMi",
        "number": 205,
        "title": "Update Anaconda installation commands",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-11T21:31:20Z",
        "updated_at": "2023-01-11T21:43:27Z",
        "closed_at": "2023-01-11T21:43:25Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/205",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/205",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/205.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/205.patch",
            "merged_at": "2023-01-11T21:43:25Z"
        },
        "body": "Addresses #193 (= the current commands installed CPU-only pytorch). The same thing was reported by @Vahe1994 earlier.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/205/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/205/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/204",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/204/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/204/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/204/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/204",
        "id": 1529612260,
        "node_id": "PR_kwDOHfNHc85HMAEi",
        "number": 204,
        "title": "Use length-weighted sampling in routing for inference",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-11T20:01:48Z",
        "updated_at": "2023-01-11T20:26:11Z",
        "closed_at": "2023-01-11T20:26:10Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/204",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/204",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/204.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/204.patch",
            "merged_at": "2023-01-11T20:26:10Z"
        },
        "body": "This pull-request implements a simple (1) greedy (2) latency-agnostic routing optimization that should speed up both our use cases.\r\n\r\nWhy this exists: our effort to merge full routing (ping-aware, throughut-aware, dijkstra) is in a sorry state between several branches; merging it into main would take many days.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/204/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/204/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/203",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/203/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/203/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/203/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/203",
        "id": 1529503720,
        "node_id": "I_kwDOHfNHc85bKl_o",
        "number": 203,
        "title": "Multi-GPU support?",
        "user": {
            "login": "quarterturn",
            "id": 780267,
            "node_id": "MDQ6VXNlcjc4MDI2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/780267?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/quarterturn",
            "html_url": "https://github.com/quarterturn",
            "followers_url": "https://api.github.com/users/quarterturn/followers",
            "following_url": "https://api.github.com/users/quarterturn/following{/other_user}",
            "gists_url": "https://api.github.com/users/quarterturn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/quarterturn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/quarterturn/subscriptions",
            "organizations_url": "https://api.github.com/users/quarterturn/orgs",
            "repos_url": "https://api.github.com/users/quarterturn/repos",
            "events_url": "https://api.github.com/users/quarterturn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/quarterturn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2023-01-11T18:38:49Z",
        "updated_at": "2023-01-11T21:32:24Z",
        "closed_at": "2023-01-11T20:45:01Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Are there docs on enabling multi-GPU support? If not, can we have a feature request to add this? Per the default install instructions, I'm only seeing GPU0 being utilized. Maybe it's as simple as adding a \"device_map='auto'\" in the model creation?",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/203/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/203/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/202",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/202/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/202/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/202/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/202",
        "id": 1529403600,
        "node_id": "I_kwDOHfNHc85bKNjQ",
        "number": 202,
        "title": "Add flag to only use already cached blocks",
        "user": {
            "login": "scuty2000",
            "id": 22243133,
            "node_id": "MDQ6VXNlcjIyMjQzMTMz",
            "avatar_url": "https://avatars.githubusercontent.com/u/22243133?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scuty2000",
            "html_url": "https://github.com/scuty2000",
            "followers_url": "https://api.github.com/users/scuty2000/followers",
            "following_url": "https://api.github.com/users/scuty2000/following{/other_user}",
            "gists_url": "https://api.github.com/users/scuty2000/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scuty2000/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scuty2000/subscriptions",
            "organizations_url": "https://api.github.com/users/scuty2000/orgs",
            "repos_url": "https://api.github.com/users/scuty2000/repos",
            "events_url": "https://api.github.com/users/scuty2000/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scuty2000/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744237,
                "node_id": "LA_kwDOHfNHc877wTjt",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/good%20first%20issue",
                "name": "good first issue",
                "color": "7057ff",
                "default": true,
                "description": "Good for newcomers"
            },
            {
                "id": 4223744238,
                "node_id": "LA_kwDOHfNHc877wTju",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/help%20wanted",
                "name": "help wanted",
                "color": "008672",
                "default": true,
                "description": "Collaborators needed"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2023-01-11T17:14:51Z",
        "updated_at": "2023-03-08T22:18:40Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Allow users to specify the caching dir for the model's blocks\r\n\r\n**BONUS:** add flag to only use already cached blocks, excluding those which are not already on the server",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/202/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/202/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/201",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/201/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/201/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/201/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/201",
        "id": 1529399156,
        "node_id": "I_kwDOHfNHc85bKMd0",
        "number": 201,
        "title": "Outdated server version warning",
        "user": {
            "login": "scuty2000",
            "id": 22243133,
            "node_id": "MDQ6VXNlcjIyMjQzMTMz",
            "avatar_url": "https://avatars.githubusercontent.com/u/22243133?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scuty2000",
            "html_url": "https://github.com/scuty2000",
            "followers_url": "https://api.github.com/users/scuty2000/followers",
            "following_url": "https://api.github.com/users/scuty2000/following{/other_user}",
            "gists_url": "https://api.github.com/users/scuty2000/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scuty2000/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scuty2000/subscriptions",
            "organizations_url": "https://api.github.com/users/scuty2000/orgs",
            "repos_url": "https://api.github.com/users/scuty2000/repos",
            "events_url": "https://api.github.com/users/scuty2000/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scuty2000/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-11T17:12:06Z",
        "updated_at": "2023-01-13T03:48:23Z",
        "closed_at": "2023-01-13T03:48:22Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "- Add a warning message when starting a petals server if the version used is outdated.\r\n  - This should prevent servers from joining the swarm when they are not up-to-date.\r\n\r\n**BONUS:** also warn currently running servers about a new update, and ban them after a defined grace period if the update has not been performed.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/201/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/201/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/200",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/200/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/200/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/200/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/200",
        "id": 1529356810,
        "node_id": "PR_kwDOHfNHc85HLImO",
        "number": 200,
        "title": "[test PR] Increase startup_timeout on server",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-11T16:41:29Z",
        "updated_at": "2023-02-16T14:36:03Z",
        "closed_at": "2023-02-16T14:36:03Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/200",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/200",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/200.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/200.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/200/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/200/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/199",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/199/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/199/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/199/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/199",
        "id": 1528997143,
        "node_id": "PR_kwDOHfNHc85HJ6QB",
        "number": 199,
        "title": "Fix --no_auto_relay help",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-11T13:03:29Z",
        "updated_at": "2023-01-11T18:27:15Z",
        "closed_at": "2023-01-11T18:27:14Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/199",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/199",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/199.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/199.patch",
            "merged_at": "2023-01-11T18:27:14Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/199/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/199/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/198",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/198/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/198/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/198/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/198",
        "id": 1528923830,
        "node_id": "PR_kwDOHfNHc85HJqPS",
        "number": 198,
        "title": "Ignore network RPS if we failed to measure it",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-11T12:08:44Z",
        "updated_at": "2023-01-11T12:37:31Z",
        "closed_at": "2023-01-11T12:37:30Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/198",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/198",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/198.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/198.patch",
            "merged_at": "2023-01-11T12:37:30Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/198/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/198/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/197",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/197/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/197/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/197/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/197",
        "id": 1528891908,
        "node_id": "PR_kwDOHfNHc85HJjRV",
        "number": 197,
        "title": "Make client ignore blacklist if all servers holding a block are blacklisted",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-11T11:43:58Z",
        "updated_at": "2023-01-11T12:50:26Z",
        "closed_at": "2023-01-11T12:50:25Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/197",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/197",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/197.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/197.patch",
            "merged_at": "2023-01-11T12:50:25Z"
        },
        "body": "If all servers holding a certain block are blacklisted, we should display errors from them instead of raising `No peers holding blocks`.\r\n\r\nIndeed, if the error is client-caused, the client should learn its reason from the latest error messages. In turn, if the error is server/network-caused and we only have a few servers, we'd better know the error instead of banning all the servers and making the user think that no servers are available.\r\n\r\nThis also removes the necessity to distinguish between client- and server-caused errors, since they may be hard to tell in practice. For example, if 50% of servers start supporting an increased sequence length but the other 50% don't, the client requesting to process a long sequence may fail after legitimately raised \"client-caused\" error from the older servers, even though it sends a valid request from the pov of the newer servers.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/197/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/197/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/196",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/196/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/196/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/196/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/196",
        "id": 1528406496,
        "node_id": "PR_kwDOHfNHc85HH7bi",
        "number": 196,
        "title": "Increase tolerances in test_tp_block",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-11T04:21:49Z",
        "updated_at": "2023-01-11T14:54:26Z",
        "closed_at": "2023-01-11T14:54:25Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/196",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/196",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/196.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/196.patch",
            "merged_at": "2023-01-11T14:54:25Z"
        },
        "body": "The new test would sometimes fail by a small margin\r\nhttps://github.com/bigscience-workshop/petals/actions/runs/3887806704/attempts/1\r\n\r\nThis PR increases the tolerance to get rid of this failure",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/196/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/196/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/195",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/195/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/195/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/195/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/195",
        "id": 1528384278,
        "node_id": "PR_kwDOHfNHc85HH2h6",
        "number": 195,
        "title": "Add service checking direct reachability from peers",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-11T03:57:18Z",
        "updated_at": "2023-01-12T23:19:25Z",
        "closed_at": "2023-01-12T23:05:39Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/195",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/195",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/195.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/195.patch",
            "merged_at": "2023-01-12T23:05:39Z"
        },
        "body": "### Motivation\r\n\r\nServers joining from behind NATs/firewalls usually take several minutes to join a libp2p relay before they become accessible from the outside Internet. Moreover, requests to such servers are slower and more likely to fail (e.g., if the server switches a relay at the moment). If such servers host certain DHT keys, the swarm may occasionally lose read/write access to these keys, which results in:\r\n\r\n- Clients being unable to find any servers hosting a certain block.\r\n- All servers starting rebalancing to the same place to close the alleged \"gap\" in the swarm.\r\n\r\nThis PRs modifies servers so that DHT keys are only hosted on **directly reachable** servers (the ones who aren't behind NAT/firewall). This way, DHT becomes more stable and works faster. Of course, trhe servers behind NATs/firewalls still accept requests for running inference/forward/backward for blocks they hold (it's more acceptable for this kind of requests to be slower or fail).\r\n\r\n### Intended usage:\r\n\r\n[`server.py L121`](https://github.com/bigscience-workshop/petals/blob/main/src/petals/server/server.py#L121)\r\n\r\n```python\r\nif client_mode is None:    \r\n    reachable = asyncio.run(check_reachability(\r\n        initial_peers=initial_peers, use_relay=False, use_auto_relay=False, **host_and_announce_maddrs\r\n    ))\r\n    client_mode = reachable is False\r\ndht = DHT(**everything_as_usual, client_mode=client_mode)\r\nif not client_mode:\r\n    ReachabilityProtocol.attach_to_dht(dht)\r\n```\r\n\r\n- [x] make check_reachability into a regular non-asyncio function\r\n- [x] switch attach_to_dht from run_coroutine to a background process. why:\r\n  -  the current run_coroutine creates a background asyncio task. there is no guarantee if it will throughout dht lifespan\r\n  - injecting background tasks can overload dht and cause it to be less responsive\r\n- [x] integrate into petals/server/server.py (L121)\r\n\r\n\r\n### What didn't work\r\n\r\n- libp2p contexts - after more careful examination, the option that attempts direct connection does not cover all our use cases. It will attempt to connect the way we want, but if it wails, it will still reuse existing connections.\r\n\r\n\r\n- anything that reuses a P2P node - p2p nodes have background activity that causes them to .connect to each other outside of our direct control. Based on logs, these are: libp2p's internal DHT, autonat checks, talking to relays for other peers.\r\n   - i was unable to convince a normal p2p *not* to spontaneously connect after creation\r\n   - this means that both my early code and health.petals code would sometimes produce incorrect results\r\n   - specifically, if my unreachable laptop connects to [this dude](https://github.com/borzunov/health.petals.ml/blob/main/app.py#L16) there is about 50% chance that the next request to api/v1/is_reachable will say that my laptop is reachable. Because as a matter of fact, it is reachable by the test node specifically\r\n   - if a connection already exists, it does nothing\r\n\r\n- creating a temporary P2P(no_listen=True) on the fly inside rpc_check: worked nice in tests, but caused timeouts on the mainnet. Connecting to peers over the internet is way longer than connecting on localhost (duh)\r\n\r\n\r\n\r\nWhat exactly happens when you connect? [doConnect](https://github.com/learning-at-home/go-libp2p-daemon/blob/master/conn.go#L52)->[d.Host.connect](https://github.com/learning-at-home/go-libp2p-daemon/blob/master/conn.go#L210)->[[interface]Connect](https://github.com/libp2p/go-libp2p/blob/master/core/host/host.go#L45)->[implementation](https://github.com/libp2p/go-libp2p/blob/master/p2p/host/basic/basic_host.go#L701-L713).\r\nWhen connecting to a an already connected peer, [this is a no-op](https://github.com/libp2p/go-libp2p/blob/master/p2p/host/basic/basic_host.go#L707-L709)\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Sanity checks:\r\n\r\n- [x] check_reachability with initial_peers=[] returns None\r\n- [x] a local node on my PC is not reachable from nora\r\n- [x] a local node on my PC is reachable from another local node\r\n- [x] a local node on my PC is not reachable if there is one local node and 4 nodes on nora and beleriand\r\n- [x] a local node on nora is reachable if there are 4 nodes on nora and one misconfigured local laptop node that believes itself to be reachable\r\n- [x] a local node on nora is reachable on another nora-like computer\r\n- [x] terranova (ipv6-only) is not reachable from nora\r\n- [x] a node on nora with no_listen=True is not reachable\r\n- [x] after check_reachability, the number of p2pds does not change (`ps aux| grep p2pd | wc -l` )\r\n- a node with misconfigured announce_maddrs would succeed or fail depending on the specific misconfigurations\r\n   - to the best of my knowledge, if a misconfigured node registers as reachable, it is indeed reachable\r\n   - BUT there are some cases where misconfigured node is still reachable, but registers as not reachable\r\n   - one example: ipv6-only node with ipv4-only announce maddrs\r\n- [x] test petals.run_server startup\r\n- [x] public swarm with 2-3 servers running new code\r\n- [x] public swarm, but you are the only server with new code\r\n- [x] keep it running for 3h",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/195/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/195/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/194",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/194/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/194/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/194/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/194",
        "id": 1528076396,
        "node_id": "PR_kwDOHfNHc85HG0yG",
        "number": 194,
        "title": "Fix fine-tuning notebooks intros",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-10T22:08:10Z",
        "updated_at": "2023-01-10T22:28:50Z",
        "closed_at": "2023-01-10T22:28:49Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/194",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/194",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/194.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/194.patch",
            "merged_at": "2023-01-10T22:28:49Z"
        },
        "body": "The notebook intros were outdated and mentioned the 6B model, while the actual code already runs the 176B model. This led to confusion among our users in Discord.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/194/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/194/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/193",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/193/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/193/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/193/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/193",
        "id": 1527651610,
        "node_id": "I_kwDOHfNHc85bDh0a",
        "number": 193,
        "title": "exception 'Torch not compiled with CUDA enabled' when forcing '--device cuda'",
        "user": {
            "login": "quarterturn",
            "id": 780267,
            "node_id": "MDQ6VXNlcjc4MDI2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/780267?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/quarterturn",
            "html_url": "https://github.com/quarterturn",
            "followers_url": "https://api.github.com/users/quarterturn/followers",
            "following_url": "https://api.github.com/users/quarterturn/following{/other_user}",
            "gists_url": "https://api.github.com/users/quarterturn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/quarterturn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/quarterturn/subscriptions",
            "organizations_url": "https://api.github.com/users/quarterturn/orgs",
            "repos_url": "https://api.github.com/users/quarterturn/repos",
            "events_url": "https://api.github.com/users/quarterturn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/quarterturn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-01-10T16:09:25Z",
        "updated_at": "2023-01-11T21:20:45Z",
        "closed_at": "2023-01-11T18:11:04Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Following the install instructions on the README.md into a dedicated conda env, the server throws an exception as follows:\r\n\r\n```\r\npython -m petals.cli.run_server bigscience/bloom-petals --device cuda\r\nJan 10 05:56:52.030 [INFO] Automatic dht prefix: bigscience/bloom-petals\r\nJan 10 05:56:58.672 [INFO] Connecting to the public swarm, peer_id = 12D3KooWRKGMtAyEzYsqk1fcT4Eu9CC5jd7YeyTHCoQgDcw1nh4i\r\nJan 10 05:56:58.673 [INFO] Model weights will be loaded in 8-bit format\r\nTraceback (most recent call last):\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/runpy.py\", line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/site-packages/petals/cli/run_server.py\", line 213, in <module>\r\n    main()\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/site-packages/petals/cli/run_server.py\", line 196, in main\r\n    server = Server(\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/site-packages/petals/server/server.py\", line 168, in __init__\r\n    num_blocks = self._choose_num_blocks()\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/site-packages/petals/server/server.py\", line 232, in _choose_num_blocks\r\n    total_memory = torch.cuda.get_device_properties(self.device).total_memory\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/site-packages/torch/cuda/__init__.py\", line 371, in get_device_properties\r\n    _lazy_init()  # will define _get_device_properties\r\n  File \"/home/a/anaconda3/envs/petals/lib/python3.10/site-packages/torch/cuda/__init__.py\", line 221, in _lazy_init\r\n    raise AssertionError(\"Torch not compiled with CUDA enabled\")\r\nAssertionError: Torch not compiled with CUDA enabled\r\n```\r\n\r\nIs it a cudatoolkit version mismatch with what I have?\r\n```\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 525.60.13    Driver Version: 525.60.13    CUDA Version: 12.0     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|                               |                      |               MIG M. |\r\n|===============================+======================+======================|\r\n|   0  Tesla P100-PCIE...  On   | 00000000:05:00.0 Off |                    0 |\r\n| N/A   31C    P0    26W / 250W |      0MiB / 16384MiB |      0%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  Tesla P100-PCIE...  On   | 00000000:42:00.0 Off |                    0 |\r\n| N/A   33C    P0    25W / 250W |      0MiB / 16384MiB |      0%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/193/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/193/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/192",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/192/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/192/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/192/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/192",
        "id": 1527448167,
        "node_id": "I_kwDOHfNHc85bCwJn",
        "number": 192,
        "title": "Better throughput estimation",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744236,
                "node_id": "LA_kwDOHfNHc877wTjs",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/enhancement",
                "name": "enhancement",
                "color": "a2eeef",
                "default": true,
                "description": "New feature or request"
            },
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            },
            {
                "id": 5016839215,
                "node_id": "LA_kwDOHfNHc88AAAABKwbkLw",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/1day",
                "name": "1day",
                "color": "0E2098",
                "default": false,
                "description": "A problem that can be solved in a single day's time"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "borzunov",
                "id": 8748943,
                "node_id": "MDQ6VXNlcjg3NDg5NDM=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/borzunov",
                "html_url": "https://github.com/borzunov",
                "followers_url": "https://api.github.com/users/borzunov/followers",
                "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
                "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
                "organizations_url": "https://api.github.com/users/borzunov/orgs",
                "repos_url": "https://api.github.com/users/borzunov/repos",
                "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
                "received_events_url": "https://api.github.com/users/borzunov/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-01-10T14:06:56Z",
        "updated_at": "2023-05-09T21:47:48Z",
        "closed_at": "2023-05-09T21:47:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Current swarm load-balancing relies on a single throughput implemented in #21 .\r\n\r\nIt works, but there are a few ways to make this work better:\r\n- speedtest-based speed can be unreliable. Some users reported that speedtest does not worn\r\n   - quick fix: if speedtest failed, warn and set throughout to 100mbps; add an env variable to set specifically network throughput\r\n- when a server holds many layers, it is less affected by low network throughput\r\n   - find a better way to account for num_blocks;\r\n   - for example, min(compute_throughput, network_throughput * min(num_blocks, 5))\r\n\r\nAddtional information that could help clients find a better chain of servers for training/inference:\r\n   - declare compute and network throughput separately\r\n   - [maybe] declare whether or not a peer is directly reachable (not using relay)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/192/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/192/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/191",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/191/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/191/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/191/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/191",
        "id": 1527304248,
        "node_id": "PR_kwDOHfNHc85HEPjV",
        "number": 191,
        "title": "Return available cache size in rpc_info()",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-10T12:24:56Z",
        "updated_at": "2023-01-12T03:49:42Z",
        "closed_at": "2023-01-12T03:49:41Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/191",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/191",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/191.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/191.patch",
            "merged_at": "2023-01-12T03:49:41Z"
        },
        "body": "This PR makes servers return their free cache (in tokens * layers to make it compression-agnostic)\r\n\r\nTo be used when calling make_sequence(optimize=\"inference\")",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/191/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/191/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/190",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/190/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/190/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/190/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/190",
        "id": 1527231009,
        "node_id": "PR_kwDOHfNHc85HD_r6",
        "number": 190,
        "title": "Bump version to 1.1.0",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-10T11:30:15Z",
        "updated_at": "2023-01-10T11:48:00Z",
        "closed_at": "2023-01-10T11:47:59Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/190",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/190",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/190.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/190.patch",
            "merged_at": "2023-01-10T11:47:59Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/190/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/190/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/189",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/189/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/189/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/189/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/189",
        "id": 1527215154,
        "node_id": "PR_kwDOHfNHc85HD8dG",
        "number": 189,
        "title": "Bump version to 1.1.0",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-10T11:19:01Z",
        "updated_at": "2023-01-10T11:30:46Z",
        "closed_at": "2023-01-10T11:29:34Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/189",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/189",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/189.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/189.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/189/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/189/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/188",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/188/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/188/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/188/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/188",
        "id": 1526971872,
        "node_id": "PR_kwDOHfNHc85HDIJ4",
        "number": 188,
        "title": "Fix psutil-related AccessDenied crash, disable --load_in_8bit by default in case of TP",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-10T08:30:01Z",
        "updated_at": "2023-01-10T09:04:54Z",
        "closed_at": "2023-01-10T09:04:53Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/188",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/188",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/188.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/188.patch",
            "merged_at": "2023-01-10T09:04:53Z"
        },
        "body": "* Don't count open fds since it leads to AccessDenied crashes on some machines\r\n* Use --load_in_8bit=False by default in case of tensor parallelism\r\n* Install petals from PyPI in fine-tuning tutorials",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/188/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/188/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/187",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/187/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/187/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/187/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/187",
        "id": 1524954079,
        "node_id": "PR_kwDOHfNHc85G8UOh",
        "number": 187,
        "title": "Fix GiBs in the \"insufficient disk space\" message",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-09T05:20:19Z",
        "updated_at": "2023-01-09T05:54:45Z",
        "closed_at": "2023-01-09T05:54:44Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/187",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/187",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/187.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/187.patch",
            "merged_at": "2023-01-09T05:54:44Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/187/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/187/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/186",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/186/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/186/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/186/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/186",
        "id": 1524466363,
        "node_id": "PR_kwDOHfNHc85G6sDJ",
        "number": 186,
        "title": "Support libp2p relays for NAT traversal",
        "user": {
            "login": "Vahe1994",
            "id": 4429900,
            "node_id": "MDQ6VXNlcjQ0Mjk5MDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4429900?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Vahe1994",
            "html_url": "https://github.com/Vahe1994",
            "followers_url": "https://api.github.com/users/Vahe1994/followers",
            "following_url": "https://api.github.com/users/Vahe1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/Vahe1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Vahe1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Vahe1994/subscriptions",
            "organizations_url": "https://api.github.com/users/Vahe1994/orgs",
            "repos_url": "https://api.github.com/users/Vahe1994/repos",
            "events_url": "https://api.github.com/users/Vahe1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Vahe1994/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-08T11:23:13Z",
        "updated_at": "2023-01-09T16:41:25Z",
        "closed_at": "2023-01-09T16:41:24Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/186",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/186",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/186.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/186.patch",
            "merged_at": "2023-01-09T16:41:24Z"
        },
        "body": "- Added relay options to servers\r\n- Enabled relay options by default\r\n- Changed hivemind version to 1.1.5\r\n- Moved reachability check to be performed after blocks are loaded",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/186/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/186/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/185",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/185/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/185/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/185/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/185",
        "id": 1524330025,
        "node_id": "PR_kwDOHfNHc85G6SpN",
        "number": 185,
        "title": "Add readme subsections",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-08T05:07:16Z",
        "updated_at": "2023-01-08T05:59:08Z",
        "closed_at": "2023-01-08T05:59:07Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/185",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/185",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/185.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/185.patch",
            "merged_at": "2023-01-08T05:59:07Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/185/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/185/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/184",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/184/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/184/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/184/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/184",
        "id": 1524285612,
        "node_id": "PR_kwDOHfNHc85G6JJ0",
        "number": 184,
        "title": "Add link to health.petals.ml to readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-08T02:32:19Z",
        "updated_at": "2023-01-08T04:41:48Z",
        "closed_at": "2023-01-08T04:41:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/184",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/184",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/184.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/184.patch",
            "merged_at": "2023-01-08T04:41:47Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/184/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/184/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/183",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/183/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/183/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/183/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/183",
        "id": 1523530890,
        "node_id": "PR_kwDOHfNHc85G3n9U",
        "number": 183,
        "title": "Add more links to BLOOM to readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-07T06:35:06Z",
        "updated_at": "2023-01-07T06:48:52Z",
        "closed_at": "2023-01-07T06:48:51Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/183",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/183",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/183.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/183.patch",
            "merged_at": "2023-01-07T06:48:51Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/183/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/183/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/182",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/182/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/182/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/182/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/182",
        "id": 1523202919,
        "node_id": "PR_kwDOHfNHc85G2khR",
        "number": 182,
        "title": "Remove protobuf from requirements",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-06T21:38:57Z",
        "updated_at": "2023-01-06T21:55:57Z",
        "closed_at": "2023-01-06T21:55:40Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/182",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/182",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/182.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/182.patch",
            "merged_at": "2023-01-06T21:55:40Z"
        },
        "body": "A correct protobuf version should be already installed by hivemind.\r\n\r\nThis also resolves version conflict on Colab, where protobuf versions required by Petals were different from the ones required by pre-installed tensorflow and tensorboard packages.\r\n\r\nCo-authored-by: @mryab",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/182/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/182/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/181",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/181/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/181/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/181/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/181",
        "id": 1521737387,
        "node_id": "PR_kwDOHfNHc85Gxi1g",
        "number": 181,
        "title": "hotfix: add initial peer that did not crash :)",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-06T01:49:32Z",
        "updated_at": "2023-01-06T01:57:51Z",
        "closed_at": "2023-01-06T01:57:50Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/181",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/181",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/181.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/181.patch",
            "merged_at": "2023-01-06T01:57:50Z"
        },
        "body": "It appears we killed bootstrap.petals.ml and bootstrap2.petals.ml for some arbitrary reason. This PR lets everyone access the swarm (again) and contribute to it until we revive those two peers.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/181/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/181/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/180",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/180/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/180/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/180/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/180",
        "id": 1520150801,
        "node_id": "PR_kwDOHfNHc85GsGGG",
        "number": 180,
        "title": "Import bitsandbytes only if it's going to be used",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-05T06:14:27Z",
        "updated_at": "2023-01-05T06:34:53Z",
        "closed_at": "2023-01-05T06:34:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/180",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/180",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/180.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/180.patch",
            "merged_at": "2023-01-05T06:34:52Z"
        },
        "body": "This would allow to run Petals on macOS, where bitsandbytes is not supported (see #147).",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/180/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/180/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/179",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/179/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/179/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/179/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/179",
        "id": 1519384049,
        "node_id": "PR_kwDOHfNHc85Gpb11",
        "number": 179,
        "title": "Disable chunked_forward() on AVX512 CPUs",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-04T18:10:03Z",
        "updated_at": "2023-01-04T19:28:18Z",
        "closed_at": "2023-01-04T19:28:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/179",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/179",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/179.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/179.patch",
            "merged_at": "2023-01-04T19:28:17Z"
        },
        "body": "See benchmarks in #176.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/179/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/179/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/178",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/178/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/178/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/178/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/178",
        "id": 1518818426,
        "node_id": "I_kwDOHfNHc85ah1R6",
        "number": 178,
        "title": ":hugs: transformers compatibility issues",
        "user": {
            "login": "gsarti",
            "id": 16674069,
            "node_id": "MDQ6VXNlcjE2Njc0MDY5",
            "avatar_url": "https://avatars.githubusercontent.com/u/16674069?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gsarti",
            "html_url": "https://github.com/gsarti",
            "followers_url": "https://api.github.com/users/gsarti/followers",
            "following_url": "https://api.github.com/users/gsarti/following{/other_user}",
            "gists_url": "https://api.github.com/users/gsarti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gsarti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gsarti/subscriptions",
            "organizations_url": "https://api.github.com/users/gsarti/orgs",
            "repos_url": "https://api.github.com/users/gsarti/repos",
            "events_url": "https://api.github.com/users/gsarti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gsarti/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744238,
                "node_id": "LA_kwDOHfNHc877wTju",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/help%20wanted",
                "name": "help wanted",
                "color": "008672",
                "default": true,
                "description": "Collaborators needed"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-01-04T11:35:13Z",
        "updated_at": "2023-01-17T17:14:26Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hello,\r\n\r\nI'm trying to make the `DistributedBloomForCausalLM` work with our library [`inseq`](https://github.com/inseq-team/inseq) to extract feature attributions from BLOOM generations. However, at the moment I am facing some issues that prevent me from using the distributed model:\r\n\r\n1. Inseq assumes the possibility of producing a structured output from `model.generate` by passing the `return_dict_in_generate=True` argument, as supported by HuggingFace. In your current implementation, there doesn't seem to be a way to extract such outputs, so when we access the property `sequences` an exception is thrown. To reproduce:\r\n\r\n```python\r\nimport torch\r\nimport inseq\r\nfrom transformers import BloomTokenizerFast \r\nfrom petals import DistributedBloomForCausalLM\r\n\r\nMODEL_NAME = \"bigscience/bloom-petals\"\r\nmodel = DistributedBloomForCausalLM.from_pretrained(MODEL_NAME)\r\nmodel = model.cuda()\r\ninseq_model = inseq.load_model(model=model, tokenizer=\"bigscience/bloom-petals\", attribution_method=\"saliency\")\r\nout = inseq_model.attribute(\r\n    \"A cat in French is \\\"\",\r\n    generation_args={\"max_new_tokens\": 3}\r\n)\r\n```\r\n\r\n```shell\r\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\r\n\u2502 <ipython-input-7-60ac37021f03>:1 in <module>                                              \u2502\r\n\u2502 /usr/local/lib/python3.8/dist-packages/inseq/models/attribution_model.py:184 in attribute \u2502\r\n\u2502                                                                                           \u2502\r\n\u2502   181 \u2502   \u2502   \u2502   )                                                                       \u2502\r\n\u2502   182 \u2502   \u2502   if not constrained_decoding:                                                \u2502\r\n\u2502   183 \u2502   \u2502   \u2502   encoded_input = self.encode(input_texts, return_baseline=True, include_ \u2502\r\n\u2502 \u2771 184 \u2502   \u2502   \u2502   generated_texts = self.generate(encoded_input, return_generation_output \u2502\r\n\u2502   185 \u2502   \u2502   logger.debug(f\"reference_texts={generated_texts}\")                          \u2502\r\n\u2502   186 \u2502   \u2502   attribution_method = self.get_attribution_method(method, override_default_a \u2502\r\n\u2502   187 \u2502   \u2502   attributed_fn = self.get_attributed_fn(attributed_fn)                       \u2502\r\n\u2502                                                                                           \u2502\r\n\u2502 /usr/local/lib/python3.8/dist-packages/inseq/models/model_decorators.py:13 in             \u2502\r\n\u2502 attribution_free_wrapper                                                                  \u2502\r\n\u2502                                                                                           \u2502\r\n\u2502   10 \u2502   \u2502   if self.is_hooked:                                                           \u2502\r\n\u2502   11 \u2502   \u2502   \u2502   was_hooked = True                                                        \u2502\r\n\u2502   12 \u2502   \u2502   \u2502   self.attribution_method.unhook()                                         \u2502\r\n\u2502 \u2771 13 \u2502   \u2502   out = f(self, *args, **kwargs)                                               \u2502\r\n\u2502   14 \u2502   \u2502   if was_hooked:                                                               \u2502\r\n\u2502   15 \u2502   \u2502   \u2502   self.attribution_method.hook()                                           \u2502\r\n\u2502   16 \u2502   \u2502   return out                                                                   \u2502\r\n\u2502                                                                                           \u2502\r\n\u2502 /usr/local/lib/python3.8/dist-packages/inseq/models/huggingface_model.py:190 in generate  \u2502\r\n\u2502                                                                                           \u2502\r\n\u2502   187 \u2502   \u2502   \u2502   **kwargs,                                                               \u2502\r\n\u2502   188 \u2502   \u2502   )                                                                           \u2502\r\n\u2502   189 \u2502   \u2502   texts = self.tokenizer.batch_decode(                                        \u2502\r\n\u2502 \u2771 190 \u2502   \u2502   \u2502   generation_out.sequences,                                               \u2502\r\n\u2502   191 \u2502   \u2502   \u2502   skip_special_tokens=True,                                               \u2502\r\n\u2502   192 \u2502   \u2502   )                                                                           \u2502\r\n\u2502   193 \u2502   \u2502   if return_generation_output:                                                \u2502\r\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\r\nAttributeError: 'Tensor' object has no attribute 'sequences'\r\n```\r\n\r\n2. Using Inseq we can bypass the generation step by attributing a pre-specified generation. In that case, feature attributions will be performed by calling normal forward/backward passes on the model step by step. If I try this by adapting the call to `model.attribute` as:\r\n\r\n```python\r\nout = inseq_model.attribute(\r\n    \"A cat in French is \\\"\",\r\n\tgenerated_texts=\"A cat in French is \\\"chat\\\"\",\r\n    generation_args={\"max_new_tokens\": 3}\r\n)\r\n```\r\n\r\nI get the following error:\r\n\r\n```shell\r\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\r\n\u2502 /usr/local/lib/python3.8/dist-packages/petals/client/remote_model.py:163 in forward       \u2502\r\n\u2502                                                                                           \u2502\r\n\u2502   160 \u2502   \u2502   attention_mask: Optional[torch.Tensor] = None,                              \u2502\r\n\u2502   161 \u2502   \u2502   **kwargs,                                                                   \u2502\r\n\u2502   162 \u2502   ):                                                                              \u2502\r\n\u2502 \u2771 163 \u2502   \u2502   assert attention_mask is None, \"DistributedBloomModel does not support atte \u2502\r\n\u2502   164 \u2502   \u2502                                                                               \u2502\r\n\u2502   165 \u2502   \u2502   for k, v in kwargs.items():                                                 \u2502\r\n\u2502   166 \u2502   \u2502   \u2502   if not (v is None or v is False):                                       \u2502\r\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\r\nAssertionError: DistributedBloomModel does not support attention masks right now\r\n```\r\n\r\nCorrect me if I'm wrong, but I believe both `return_dict_in_generate` and `attention_mask` support should be achievable for the `petals` implementation, right? Would you consider supporting such usage? Thanks in advance! :slightly_smiling_face: ",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/178/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/178/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/177",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/177/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/177/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/177/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/177",
        "id": 1518376194,
        "node_id": "PR_kwDOHfNHc85Gl-oK",
        "number": 177,
        "title": "Use slightly less memory in .generate()",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-04T06:06:15Z",
        "updated_at": "2023-01-05T05:34:04Z",
        "closed_at": "2023-01-05T05:34:03Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/177",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/177",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/177.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/177.patch",
            "merged_at": "2023-01-05T05:34:03Z"
        },
        "body": "- Forget `session.step()` inputs once we get outputs\r\n- Use `torch.inference_mode()` instead of `torch.no_grad()`",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/177/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/177/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/176",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/176/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/176/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/176/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/176",
        "id": 1518166729,
        "node_id": "PR_kwDOHfNHc85GlP9D",
        "number": 176,
        "title": "Allow to disable chunked forward",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-04T01:47:37Z",
        "updated_at": "2023-01-04T03:47:16Z",
        "closed_at": "2023-01-04T02:42:04Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/176",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/176",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/176.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/176.patch",
            "merged_at": "2023-01-04T02:42:04Z"
        },
        "body": "I've benchmarked the client, measuring the **time for computing logits**, and got the following results:\r\n\r\n**Intel(R) Xeon(R) 3rd gen, 4 CPU (DigitalOcean dedicated instances, nora)**\r\n\r\n- CPU-only, bfloat16, chunked forward: 1.9 sec/token\r\n- CPU-only, bfloat16, no chunked forward: 0.2 sec/token **(10x faster!)**\r\n- CPU-only, float32: 0.2 sec/token\r\n- GPU: 0.003 sec/token\r\n\r\nThis is thanks to [native bfloat16 support](https://pytorch.org/blog/empowering-pytorch-on-intel-xeon-scalable-processors-with-bfloat16/) on these CPUs.\r\n\r\n**AMD EPYC-Rome Processor, 4 CPU (Datacrunch CPU instance)**\r\n\r\n- CPU-only, bfloat16, chunked forward: 2.7 sec/token\r\n- CPU-only, bfloat16, no chunked forward: 19.6 sec/token **(7x slower!)**\r\n- CPU-only, float32: 0.6 sec/token\r\n\r\nThus, it's useful to have a way to disable `chunked_forward()` on some CPU models.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/176/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/176/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/175",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/175/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/175/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/175/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/175",
        "id": 1517983371,
        "node_id": "PR_kwDOHfNHc85GknCU",
        "number": 175,
        "title": "Make Docker command more visible",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-01-03T22:16:23Z",
        "updated_at": "2023-01-03T22:18:46Z",
        "closed_at": "2023-01-03T22:18:45Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/175",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/175",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/175.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/175.patch",
            "merged_at": "2023-01-03T22:18:45Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/175/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/175/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/174",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/174/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/174/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/174/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/174",
        "id": 1517204849,
        "node_id": "I_kwDOHfNHc85abrVx",
        "number": 174,
        "title": "Ways to view: total GPU capacity, total GPU utilization, and personal speedup on public Petal Network?",
        "user": {
            "login": "davidleejy",
            "id": 1690072,
            "node_id": "MDQ6VXNlcjE2OTAwNzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1690072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/davidleejy",
            "html_url": "https://github.com/davidleejy",
            "followers_url": "https://api.github.com/users/davidleejy/followers",
            "following_url": "https://api.github.com/users/davidleejy/following{/other_user}",
            "gists_url": "https://api.github.com/users/davidleejy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/davidleejy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/davidleejy/subscriptions",
            "organizations_url": "https://api.github.com/users/davidleejy/orgs",
            "repos_url": "https://api.github.com/users/davidleejy/repos",
            "events_url": "https://api.github.com/users/davidleejy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/davidleejy/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-03T10:34:55Z",
        "updated_at": "2023-01-03T16:37:08Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Really cool project! Feels like it has the potential to be a game-changer for poor students like myself \ud83d\ude2e\r\n\r\nDoes anyone know how/where to view the following statistics of the public Petal network:\r\n- Total GPU capacity of Petal network\r\n- Total GPU utilization of Petal network (how heavily the network is being taxed)\r\n- Personal speed-up",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/174/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/174/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/173",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/173/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/173/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/173/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/173",
        "id": 1514890272,
        "node_id": "PR_kwDOHfNHc85GaLio",
        "number": 173,
        "title": "Add link to PyPI",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-30T22:39:31Z",
        "updated_at": "2022-12-30T22:51:53Z",
        "closed_at": "2022-12-30T22:51:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/173",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/173",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/173.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/173.patch",
            "merged_at": "2022-12-30T22:51:52Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/173/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/173/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/172",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/172/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/172/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/172/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/172",
        "id": 1514874648,
        "node_id": "PR_kwDOHfNHc85GaIP_",
        "number": 172,
        "title": "Add PyPI badge, update instructions and links in readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-30T22:04:42Z",
        "updated_at": "2022-12-30T22:22:41Z",
        "closed_at": "2022-12-30T22:22:40Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/172",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/172",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/172.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/172.patch",
            "merged_at": "2022-12-30T22:22:40Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/172/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/172/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/171",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/171/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/171/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/171/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/171",
        "id": 1514862419,
        "node_id": "PR_kwDOHfNHc85GaFlk",
        "number": 171,
        "title": "[internal] Better cache interface",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-30T21:41:46Z",
        "updated_at": "2022-12-30T22:09:24Z",
        "closed_at": "2022-12-30T22:09:24Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/171",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/171",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/171.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/171.patch",
            "merged_at": "2022-12-30T22:09:24Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/171/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/171/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/170",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/170/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/170/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/170/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/170",
        "id": 1514727589,
        "node_id": "PR_kwDOHfNHc85GZm7y",
        "number": 170,
        "title": "Fix instruction for developers",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-30T18:51:54Z",
        "updated_at": "2022-12-30T19:42:08Z",
        "closed_at": "2022-12-30T19:42:07Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/170",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/170",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/170.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/170.patch",
            "merged_at": "2022-12-30T19:42:07Z"
        },
        "body": "Found by @Vahe1994 ",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/170/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/170/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/169",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/169/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/169/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/169/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/169",
        "id": 1514587651,
        "node_id": "PR_kwDOHfNHc85GZIXy",
        "number": 169,
        "title": "Fix code example in readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-30T15:14:51Z",
        "updated_at": "2022-12-30T15:50:39Z",
        "closed_at": "2022-12-30T15:50:39Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/169",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/169",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/169.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/169.patch",
            "merged_at": "2022-12-30T15:50:38Z"
        },
        "body": "Makes it closer to runnable code, except for imports and defining tokenizer & data loader.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/169/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/169/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/168",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/168/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/168/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/168/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/168",
        "id": 1514212613,
        "node_id": "PR_kwDOHfNHc85GX4Zs",
        "number": 168,
        "title": "Add link to chat.petals.ml",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-30T03:34:15Z",
        "updated_at": "2022-12-30T03:58:35Z",
        "closed_at": "2022-12-30T03:58:34Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/168",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/168",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/168.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/168.patch",
            "merged_at": "2022-12-30T03:58:34Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/168/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/168/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/167",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/167/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/167/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/167/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/167",
        "id": 1513155983,
        "node_id": "I_kwDOHfNHc85aMO2P",
        "number": 167,
        "title": "Inference issues on Volta-based swarm",
        "user": {
            "login": "barsuna",
            "id": 23635856,
            "node_id": "MDQ6VXNlcjIzNjM1ODU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/23635856?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/barsuna",
            "html_url": "https://github.com/barsuna",
            "followers_url": "https://api.github.com/users/barsuna/followers",
            "following_url": "https://api.github.com/users/barsuna/following{/other_user}",
            "gists_url": "https://api.github.com/users/barsuna/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/barsuna/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/barsuna/subscriptions",
            "organizations_url": "https://api.github.com/users/barsuna/orgs",
            "repos_url": "https://api.github.com/users/barsuna/repos",
            "events_url": "https://api.github.com/users/barsuna/events{/privacy}",
            "received_events_url": "https://api.github.com/users/barsuna/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2022-12-28T20:47:37Z",
        "updated_at": "2023-01-02T20:46:21Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hello folks,\r\n\r\nTrying to run a private swarm on a 7x Volta-generation GPUs. As suggested by docs, i've set torch_dtype to float16 and NUM_BLOCKS to 10 (these are 32GB GPUs) and removed load-8-bit argument. All 7 are running on the same linux host. \r\n\r\nSwarm starts ok and loads all the model blocks, but many of included tests fail.\r\n\r\nTrying even the most basic generation seems to always generate the same token (0 == UNK) \r\n\r\nAre older GPUs even supported? There are some notes in documentation on what to set for pre-Turing, but the arxiv paper says the server needs to have Turing or later gen GPU.\r\n\r\nIf older GPUs are supported,  do i also need to specify the torch_dtype to be float16 on instantiating model?\r\n(i get RuntimeError: \"LayerNormKernelImpl\" not implemented for 'Half' when running .generate() in this case)\r\n\r\nIt is torch 1.12.1+cu113 on cuda 11.3 \r\n\r\nThis is what i get as tests:\r\n\r\ntests/test_aux_functions.py::test_throughput_basic FAILED <-- this system is behind proxy, i think this is expected\r\ntests/test_block_exact_match.py::test_remote_block_exact_match FAILED\r\ntests/test_chained_calls.py::test_forward_backward_exact_match FAILED\r\ntests/test_chained_calls.py::test_chained_inference_exact_match FAILED\r\ntests/test_full_model.py::test_full_model_exact_match[True] FAILED\r\ntests/test_full_model.py::test_full_model_exact_match[False] FAILED\r\ntests/test_full_model.py::test_greedy_generation PASSED \r\ntests/test_full_model.py::test_sampling[sampling_options0] SKIPPED (Sampling is currently not consistent with outputs from Transformers)\r\ntests/test_full_model.py::test_sampling[sampling_options1] SKIPPED (Sampling is currently not consistent with outputs from Transformers)\r\ntests/test_full_model.py::test_sampling[sampling_options2] SKIPPED (Sampling is currently not consistent with outputs from Transformers)\r\ntests/test_full_model.py::test_sampling[sampling_options3] SKIPPED (Sampling is currently not consistent with outputs from Transformers)\r\ntests/test_full_model.py::test_beam_search_generation FAILED\r\ntests/test_linear8bitlt.py::test_layout_exact_match SKIPPED (this test requires a turing-generation or newer GPU, see bitsandbytes docs)\r\ntests/test_linear8bitlt.py::test_linear_exact_match SKIPPED (this test requires a turing-generation or newer GPU, see bitsandbytes docs)\r\ntests/test_linear8bitlt.py::test_linear_no_igemmlt PASSED\r\ntests/test_priority_pool.py::test_priority_pools PASSED\r\ntests/test_remote_sequential.py::test_remote_sequential FAILED\r\ntests/test_remote_sequential.py::test_remote_sequential_prompts  FAILED\r\n\r\nThe greedy search test seems to pass, but i'm suspicious... could it be an issue with a test?\r\n\r\nHere is what i see from .generate():\r\n\r\nmodel = DistributedBloomForCausalLM.from_pretrained(\"bigscience/bloom-petals\", initial_peers=INITIAL_PEERS)\r\ninputs = tokenizer(\"Cat sat on\", return_tensors=\"pt\")[\"input_ids\"]\r\noutputs = model.generate(inputs, max_new_tokens=5)\r\nprint(tokenizer.decode(outputs[0])) \r\nCat sat on<unk><unk><unk><unk><unk>\r\ntype(outputs), outputs.shape, outputs\r\n(torch.Tensor,\r\n torch.Size([1, 8]),\r\n tensor([[40171, 13770,   664,     0,     0,     0,     0,     0]]))\r\n\r\nIf needed, can provide the log from tests.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/167/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/167/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/166",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/166/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/166/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/166/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/166",
        "id": 1512617503,
        "node_id": "PR_kwDOHfNHc85GShkv",
        "number": 166,
        "title": "Correct grammar in readme",
        "user": {
            "login": "vadi2",
            "id": 110988,
            "node_id": "MDQ6VXNlcjExMDk4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/110988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadi2",
            "html_url": "https://github.com/vadi2",
            "followers_url": "https://api.github.com/users/vadi2/followers",
            "following_url": "https://api.github.com/users/vadi2/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadi2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadi2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadi2/subscriptions",
            "organizations_url": "https://api.github.com/users/vadi2/orgs",
            "repos_url": "https://api.github.com/users/vadi2/repos",
            "events_url": "https://api.github.com/users/vadi2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadi2/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-12-28T09:52:43Z",
        "updated_at": "2022-12-29T16:07:19Z",
        "closed_at": "2022-12-29T13:46:24Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/166",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/166",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/166.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/166.patch",
            "merged_at": "2022-12-29T13:46:24Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/166/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/166/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/165",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/165/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/165/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/165/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/165",
        "id": 1511284995,
        "node_id": "PR_kwDOHfNHc85GOFGz",
        "number": 165,
        "title": "Update wording in readme",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-26T22:27:02Z",
        "updated_at": "2022-12-26T22:40:37Z",
        "closed_at": "2022-12-26T22:40:37Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/165",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/165",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/165.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/165.patch",
            "merged_at": "2022-12-26T22:40:37Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/165/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/165/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/164",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/164/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/164/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/164/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/164",
        "id": 1510176461,
        "node_id": "I_kwDOHfNHc85aA3bN",
        "number": 164,
        "title": "Running on SLURM",
        "user": {
            "login": "ghost",
            "id": 10137,
            "node_id": "MDQ6VXNlcjEwMTM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghost",
            "html_url": "https://github.com/ghost",
            "followers_url": "https://api.github.com/users/ghost/followers",
            "following_url": "https://api.github.com/users/ghost/following{/other_user}",
            "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
            "organizations_url": "https://api.github.com/users/ghost/orgs",
            "repos_url": "https://api.github.com/users/ghost/repos",
            "events_url": "https://api.github.com/users/ghost/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ghost/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2022-12-24T19:16:18Z",
        "updated_at": "2023-01-03T09:37:06Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Having to specifically hard code IP adresses makes it very hard to run petals on a SLURM cluster. There I submit batch jobs that are then run on some node of the partition I specified. I do not know the IP beforehand of the node or any nodes that I run a petals server instance on.\r\n\r\nSo one thing that would be helpful is a \"self discovery\" of petals server instances inside a specified network.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/164/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/164/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/163",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/163/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/163/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/163/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/163",
        "id": 1507848221,
        "node_id": "PR_kwDOHfNHc85GCifF",
        "number": 163,
        "title": "Shield alloc & free from cancellation",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-22T13:04:41Z",
        "updated_at": "2022-12-22T16:05:58Z",
        "closed_at": "2022-12-22T16:05:57Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/163",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/163",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/163.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/163.patch",
            "merged_at": "2022-12-22T16:05:57Z"
        },
        "body": "A handler's RPC code may be cancelled due to a request timeout or a client closing the connection. Before this PR:\r\n\r\n- If `.cancel()` happens while waiting for `hivemind.utils.enter_asynchronously()`, the lock will never be released.\r\n- If `.cancel()` happens while doing that before freeing memory, the memory will never be freed.\r\n\r\nThis PR fixes it by deferring the cancellation with [asyncio.shield()](https://docs.python.org/3/library/asyncio-task.html#asyncio.shield). Now, the cancellation will happen only when all locks are released and alloc/free has completed.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/163/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/163/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/162",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/162/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/162/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/162/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/162",
        "id": 1503137461,
        "node_id": "PR_kwDOHfNHc85FyvuY",
        "number": 162,
        "title": "Hot fix: Increase hivemind.P2P's startup_timeout for Colab, remove absent initial peer",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-19T15:19:33Z",
        "updated_at": "2022-12-19T15:36:21Z",
        "closed_at": "2022-12-19T15:36:20Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/162",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/162",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/162.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/162.patch",
            "merged_at": "2022-12-19T15:36:20Z"
        },
        "body": "Something on Colab has changed, and today we usually get this while creating a model:\r\n\r\n<img width=\"672\" alt=\"Screenshot 2022-12-19 at 19 18 57\" src=\"https://user-images.githubusercontent.com/8748943/208459022-864d1646-4828-4e0b-9bb7-1c009c80889b.png\">\r\n\r\nThis PR increases the startup timeout and removes the absent 3rd initial peer to speed up the startup a little.\r\n\r\nThe reason of the failure also could be a strange state of the 2nd bootstrap peer. I'm investigating it.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/162/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/162/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/161",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/161/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/161/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/161/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/161",
        "id": 1500311575,
        "node_id": "PR_kwDOHfNHc85FpXTw",
        "number": 161,
        "title": "Fix misstypos in the example notebooks.",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-16T14:20:48Z",
        "updated_at": "2022-12-16T15:42:19Z",
        "closed_at": "2022-12-16T15:42:18Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/161",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/161",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/161.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/161.patch",
            "merged_at": "2022-12-16T15:42:18Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/161/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/161/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/160",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/160/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/160/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/160/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/160",
        "id": 1499617741,
        "node_id": "PR_kwDOHfNHc85Fm-2J",
        "number": 160,
        "title": "Alloc inference cache as one contiguous buffer",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-16T05:19:18Z",
        "updated_at": "2022-12-16T06:38:21Z",
        "closed_at": "2022-12-16T06:38:21Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/160",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/160",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/160.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/160.patch",
            "merged_at": "2022-12-16T06:38:21Z"
        },
        "body": "If a client calls `rpc_inference()` for `N` blocks, server now allocates a single tensor for all caches instead of `N` tensors for each block's cache. This is useful because:\r\n\r\n- **Bug:** If one block's cache size is less than `attn_cache_size`, but the total cache size is greater than `attn_cache_size`, the server will block until the `alloc_timeout` (60 sec) expires. Nobody else will not be able to call `rpc_inference()` during this time.\r\n- **Optimization:** Allocating one large tensor decrease memory fragmentation.\r\n\r\nThe PR also fixes another **bug**: the max task size was not enforced to `rpc_inference()`, so a user could send very large requests and overload the server (see the comment).",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/160/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/160/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/159",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/159/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/159/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/159/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/159",
        "id": 1499544529,
        "node_id": "PR_kwDOHfNHc85FmuuV",
        "number": 159,
        "title": "Fix issues related to `petals` as a module",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-16T04:06:23Z",
        "updated_at": "2022-12-16T05:09:07Z",
        "closed_at": "2022-12-16T05:09:06Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/159",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/159",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/159.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/159.patch",
            "merged_at": "2022-12-16T05:09:06Z"
        },
        "body": "1. Added `from petals.client import *` to `petals/__init__.py`, so you can write just that:\r\n\r\n    ```python\r\n    from petals import DistributedBloomForCausalLM\r\n    ```\r\n\r\n    I didn't do the same with server, since its classes are supposed to by used by `petals.cli.run_server`, not end-users. Though it's still possible to do `from petals.server.smth import smth` if necessary.\r\n\r\n2. Fixed one more logging issue: log lines from hivemind were shown twice due to a bug in #156.\r\n\r\n3. Removed unused `runtime.py`, since the server actually uses `hivemind.moe.Runtime`, and `runtime.py` has no significant changes comparing to it.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/159/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/159/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/158",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/158/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/158/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/158/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/158",
        "id": 1499320102,
        "node_id": "I_kwDOHfNHc85ZXc8m",
        "number": 158,
        "title": "With setting the device to cpu in the hyperparameters used for training in the sst2 prompt tuning example",
        "user": {
            "login": "jeromemassot",
            "id": 20254310,
            "node_id": "MDQ6VXNlcjIwMjU0MzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/20254310?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeromemassot",
            "html_url": "https://github.com/jeromemassot",
            "followers_url": "https://api.github.com/users/jeromemassot/followers",
            "following_url": "https://api.github.com/users/jeromemassot/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeromemassot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeromemassot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeromemassot/subscriptions",
            "organizations_url": "https://api.github.com/users/jeromemassot/orgs",
            "repos_url": "https://api.github.com/users/jeromemassot/repos",
            "events_url": "https://api.github.com/users/jeromemassot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeromemassot/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-12-16T00:13:11Z",
        "updated_at": "2022-12-16T14:19:44Z",
        "closed_at": "2022-12-16T14:19:43Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi Big-Science team,\r\n\r\nquick question: Why is the device set to 'CPU' in these training hyperparameters?\r\n\r\nEspecially when the notebook recommends using a GPU.\r\n\r\nMODEL_NAME = \"bigscience/bloom-petals\" # select model you like\r\nNUM_PREFIX_TOKENS = 16\r\nDEVICE = 'cpu'\r\nBATCH_SIZE = 16\r\nLR = 1e-2\r\nWEIGHT_DECAY = 0.0\r\nNUM_EPOCHS = 3\r\nSEED = 42\r\nMODEL_MAX_LENGTH = 64\r\nTUNING_MODE = 'ptune' # choose between ['ptune', 'deep_ptune'] \r\n\r\nThanks\r\n\r\nBest regards\r\n\r\nJerome",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/158/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/158/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/157",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/157/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/157/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/157/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/157",
        "id": 1498194107,
        "node_id": "PR_kwDOHfNHc85FiIFQ",
        "number": 157,
        "title": "Switch to speedtest-cli",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-15T10:37:12Z",
        "updated_at": "2022-12-15T12:21:34Z",
        "closed_at": "2022-12-15T12:21:33Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/157",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/157",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/157.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/157.patch",
            "merged_at": "2022-12-15T12:21:33Z"
        },
        "body": "This pullrequest removes custom speed_test code in favour of speedtest-cli module.\r\nThis is necessary to ensure that random warnings / print-outs do not mess with our outputs:\r\n![image](https://user-images.githubusercontent.com/3491902/207837803-621db043-6262-49a9-93dc-6183fa626a69.png)\r\n\r\n\r\nspeedtest-cli is a fairly popular module trusted by many devs\r\n![image](https://user-images.githubusercontent.com/3491902/207837635-37c473bb-90ba-41d1-acca-62374807f918.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/157/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/157/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/156",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/156/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/156/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/156/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/156",
        "id": 1497779285,
        "node_id": "PR_kwDOHfNHc85FguXU",
        "number": 156,
        "title": "Fix logging: do not duplicate lines, enable colors in Colab",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-15T04:45:28Z",
        "updated_at": "2022-12-15T05:12:19Z",
        "closed_at": "2022-12-15T05:12:18Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/156",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/156",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/156.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/156.patch",
            "merged_at": "2022-12-15T05:12:18Z"
        },
        "body": "Before this PR, logs contained duplicate lines in Colab, and the colors were disabled. This PR fixes it and does some refactoring of logging along the way. Now it's beautiful:\r\n\r\n<img width=\"1249\" alt=\"Screenshot 2022-12-15 at 09 11 23\" src=\"https://user-images.githubusercontent.com/8748943/207777764-d6544435-5b17-415c-bfda-ffbd866f0780.png\">\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/156/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/156/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/155",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/155/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/155/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/155/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/155",
        "id": 1497597091,
        "node_id": "PR_kwDOHfNHc85FgHSv",
        "number": 155,
        "title": "Check reachability automatically and give advice how to fix it",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-15T00:18:06Z",
        "updated_at": "2022-12-15T03:35:53Z",
        "closed_at": "2022-12-15T01:04:09Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/155",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/155",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/155.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/155.patch",
            "merged_at": "2022-12-15T01:04:09Z"
        },
        "body": "1. If we connect to the **public swarm**, the server now **automatically checks its DHT's reachability** from the outside world using [a new API](https://github.com/borzunov/petals-health/blob/main/app.py#L60) at http://health.petals.ml This is important to disallow unreachable servers to proceed (they create issues for the clients, such as repetitive retries).\r\n\r\n    If http://health.petals.ml is down, the server proceeds without the check (so we don't depend on it). However, if the API is up and explicitly tells us that we are unreachable, the server shows the following error (with the public IP fetched automatically):\r\n\r\n    ```\r\n    RuntimeError: Server is not reachable from the Internet:\r\n    \r\n    Failed to connect in 5 sec. Firewall may be blocking connections\r\n    \r\n    You need to fix your port forwarding and/or firewall settings. How to do that:\r\n    \r\n        1. Choose a specific port for the Petals server, for example, 31337.\r\n        2. Ensure that this port is accessible from the Internet and not blocked by your firewall.\r\n        3. Add these arguments to explicitly announce your IP address and port to other peers:\r\n            python -m petals.cli.run_server ... --public_ip 93.106.106.33 --port 31337\r\n        4. If it does not help, ask for help in our Discord: https://discord.gg/Wuk8BnrEPH\r\n    ```\r\n    The check may be disabled with the `--skip_reachability_check` option (though I can't imagine cases where someone needs to use it).\r\n\r\n2. Added `--port` and `--public_ip` as **simplified convenience options** for users not familiar with libp2p multiaddrs.\r\n\r\n    This is **useful for us as well**, since once we add QUIC, you'd need to write a crazy long `--announce_maddrs` (with 4 copies of your public IP for IPv4/TCP, IPv4/QUIC, IPv6/TCP, IPv6/QUIC) without having the simplified `--public_ip` option.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/155/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/155/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/154",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/154/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/154/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/154/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/154",
        "id": 1497188362,
        "node_id": "PR_kwDOHfNHc85Fes54",
        "number": 154,
        "title": "Reset MemoryCache during rebalancings",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-14T18:39:44Z",
        "updated_at": "2022-12-14T20:11:47Z",
        "closed_at": "2022-12-14T20:11:46Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/154",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/154",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/154.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/154.patch",
            "merged_at": "2022-12-14T20:11:46Z"
        },
        "body": "Before this PR, if there were open inference sessions right when rebalancing is triggered, their cache was never properly destroyed.\r\n\r\nSee the logs:\r\n\r\n```\r\nDec 14 17:10:01.824 [INFO] rpc_inference.alloc(total_size=4.34 GiB), used 4.34/13.50 GiB (32.1%)      \r\nDec 14 17:11:16.547 [INFO] Swarm balance quality: 45.6%                                                                                                                                                     \r\nDec 14 17:11:16.547 [INFO] Swarm is imbalanced, server will load other blocks                      \r\nDec 14 17:11:16.863 [INFO] Announced that blocks [...] are offline                                                         \r\nDec 14 17:11:18.894 [INFO] Shutting down                                                              \r\nDec 14 17:11:18.898 [INFO] Module container shut down successfully                                                                                                                                          \r\nDec 14 17:11:18.987 [INFO] Cleaning up, left 110 open file descriptors                                                                                                                                      \r\nDec 14 17:11:19.052 [INFO] Cleaning up, left 4.3 GiB allocated memory, 11.2 GiB reserved memory\r\nDec 14 17:11:19.535 [INFO] Announced that blocks [43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69] are joining\r\n...\r\nDec 14 18:07:19.325 [INFO] Started                                                                    \r\nDec 14 18:08:16.135 [INFO] Swarm balance quality: 78.5%          \r\nDec 14 18:09:07.562 [INFO] Swarm balance quality: 78.5%                                            \r\nDec 14 18:10:42.685 [INFO] Swarm balance quality: 78.5%          \r\nDec 14 18:11:57.418 [INFO] rpc_inference.open(blocks=43:70, remote_peer=...Q3aiDh)                 \r\nDec 14 18:11:57.427 [INFO] rpc_inference.alloc(total_size=3.78 GiB), used 8.12/13.50 GiB (60.2%)\r\n```\r\n\r\nHere, the first `alloc` in the ModuleContainer reports that 8.12 GiB = 4.34 GiB + 3.78 GiB are already allocated. The 4.34 GiB are actually left from the inference session opened before the rebalancing, and would be never freed without this fix.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/154/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/154/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/153",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/153/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/153/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/153/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/153",
        "id": 1494502331,
        "node_id": "PR_kwDOHfNHc85FVWRD",
        "number": 153,
        "title": "Fix arguments in remove_old_models.py",
        "user": {
            "login": "mryab",
            "id": 16766985,
            "node_id": "MDQ6VXNlcjE2NzY2OTg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/16766985?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mryab",
            "html_url": "https://github.com/mryab",
            "followers_url": "https://api.github.com/users/mryab/followers",
            "following_url": "https://api.github.com/users/mryab/following{/other_user}",
            "gists_url": "https://api.github.com/users/mryab/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mryab/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mryab/subscriptions",
            "organizations_url": "https://api.github.com/users/mryab/orgs",
            "repos_url": "https://api.github.com/users/mryab/repos",
            "events_url": "https://api.github.com/users/mryab/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mryab/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-13T15:30:52Z",
        "updated_at": "2022-12-13T16:01:13Z",
        "closed_at": "2022-12-13T16:01:12Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/153",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/153",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/153.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/153.patch",
            "merged_at": "2022-12-13T16:01:12Z"
        },
        "body": "New versions of huggingface-hub [do not have](https://huggingface.co/docs/huggingface_hub/v0.11.0/en/package_reference/hf_api#huggingface_hub.HfApi.delete_repo) `name` as an argument for `delete_repo`, thus we need to replace it with `repo_id`",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/153/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/153/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/152",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/152/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/152/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/152/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/152",
        "id": 1493230381,
        "node_id": "PR_kwDOHfNHc85FQ-Qz",
        "number": 152,
        "title": "Clean up disk space",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-13T02:50:57Z",
        "updated_at": "2022-12-13T14:50:45Z",
        "closed_at": "2022-12-13T14:50:44Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/152",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/152",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/152.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/152.patch",
            "merged_at": "2022-12-13T14:50:44Z"
        },
        "body": "**What's good in this PR?**\r\n\r\n- The server (with rebalancing enabled) now works with any amount of free disk space, starting from 5 GiB.\r\n- In case of 350+ GiB, it cashes the full model.\r\n- In case of lesser amount of free space, it removes least recently used blocks once no free space is left.\r\n- This works even in case of 5 GiB (the server loads a block, then removes it to free space for the next one).\r\n- Optionally, a user may specify `--max_disk_space` to limit the space Petals use.\r\n- This PR correctly handles multi-GPU machines with multiple Petals servers running by using a system-wide read-write lock. A block is never removed if it is being read by another server on the same machine.\r\n\r\n**What can be improved in later PRs?**\r\n\r\n1. On multi-GPU machines, Petals servers can simultaneously read from cache, but only one server can download a block at a time.\r\n    - This limitation is introduced to keep the code simple. Otherwise, we'd need complex multi-process sync primitives, which will significantly increase the size of code base.\r\n    - Still, I hope this limitation is reasonable. If the download speed is disk-bounded, we'd better download blocks sequentially (to reduce the number of the disk head's moves) than in parallel.\r\n    - Otherwise, we could download blocks in parallel inside one server, which can be done in a separate PR and wouldn't require the complex sync primitives.\r\n    - Finally, the recommended way of utilizing multi-GPU machines may be using one Petals server with tensor parallelism, so this feature becomes just unnecessary in this case.\r\n  \r\n2. Instead of loading blocks from `start` to `end`, we could load the cached blocks at first, then download new blocks (which may trigger removal of the old ones).\r\n    - This saves traffic on machines with free disk space < 2 * gpu_memory. However, such setups are rare.\r\n\r\n3. Currently, the LRU cache is built on top of block's access time. The downside is that if someone runs `grep -R ~`, the relevant access time of the files will be erased.\r\n    - We could use a separate, explicit LRU cache, but this would significantly complicate the code (we need to serialize it, recover somehow if the file is corrupted, etc.). I think the cost of losing access time info (and using some extra traffic) in these rare cases is not large enough to justify the complications.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/152/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/152/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/151",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/151/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/151/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/151/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/151",
        "id": 1492573478,
        "node_id": "PR_kwDOHfNHc85FOtVV",
        "number": 151,
        "title": "Bump transformers to 4.25.1",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-12T19:15:26Z",
        "updated_at": "2022-12-13T08:03:51Z",
        "closed_at": "2022-12-13T08:03:49Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/151",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/151",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/151.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/151.patch",
            "merged_at": "2022-12-13T08:03:49Z"
        },
        "body": "- latest accelerate, transformers, huggingface_hub\r\n- rearrange attention caches to support https://github.com/huggingface/transformers/pull/18344\r\n- remove unused code\r\n- fix edge case where session crashes when receiving seq length 0\r\n- assert transformer version when importing WrappedBloomBlock",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/151/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/151/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/150",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/150/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/150/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/150/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/150",
        "id": 1492556435,
        "node_id": "PR_kwDOHfNHc85FOpfJ",
        "number": 150,
        "title": "Fix OOMs during server rebalancing",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-12T19:05:18Z",
        "updated_at": "2022-12-12T20:44:42Z",
        "closed_at": "2022-12-12T20:44:41Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/150",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/150",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/150.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/150.patch",
            "merged_at": "2022-12-12T20:44:41Z"
        },
        "body": "The cause of OOMs were the cyclic references `TransformerBackend <-> PrioritizedTaskPool` that could not have been garbage collected properly:\r\n\r\n<img width=\"751\" alt=\"Screenshot 2022-12-13 at 00 31 30\" src=\"https://user-images.githubusercontent.com/8748943/207150551-902fb289-e54a-497f-8047-2a7b70faebd2.png\">\r\n\r\nStill, I've added explicit tensor removal just in case.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/150/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/150/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/149",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/149/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/149/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/149/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/149",
        "id": 1491040596,
        "node_id": "PR_kwDOHfNHc85FJXvq",
        "number": 149,
        "title": "Improve block size calculations",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-12-12T05:55:29Z",
        "updated_at": "2022-12-12T09:16:02Z",
        "closed_at": "2022-12-12T09:15:23Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/149",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/149",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/149.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/149.patch",
            "merged_at": "2022-12-12T09:15:23Z"
        },
        "body": "Now GPUs will hold more blocks by default. In case of `bigscience/bloom-petals`, `load_in_8bit=True`:\r\n\r\n- 80 GB -> 27 blocks\r\n- 48 GB -> 16 blocks\r\n- 40 GB -> 13 blocks\r\n- 32 GB -> 10 blocks\r\n- 16 GB -> 4 blocks\r\n- 8 GB -> 2 blocks",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/149/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/149/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/148",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/148/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/148/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/148/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/148",
        "id": 1489772839,
        "node_id": "PR_kwDOHfNHc85FE0dw",
        "number": 148,
        "title": "Update advanced notebooks",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-11T10:14:21Z",
        "updated_at": "2022-12-15T05:28:26Z",
        "closed_at": "2022-12-15T05:28:26Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/148",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/148",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/148.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/148.patch",
            "merged_at": "2022-12-15T05:28:26Z"
        },
        "body": "Update examples with:\n- new interactive chat mode, where session is saved while the dialog\n- add adapters in sst-2 example",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/148/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/148/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    }
]