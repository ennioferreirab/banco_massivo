[
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/47",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/47/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/47/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/47/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/47",
        "id": 1345623203,
        "node_id": "PR_kwDOHfNHc849hVri",
        "number": 47,
        "title": "Priority tasks",
        "user": {
            "login": "GreenFatGuy",
            "id": 44449246,
            "node_id": "MDQ6VXNlcjQ0NDQ5MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/44449246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GreenFatGuy",
            "html_url": "https://github.com/GreenFatGuy",
            "followers_url": "https://api.github.com/users/GreenFatGuy/followers",
            "following_url": "https://api.github.com/users/GreenFatGuy/following{/other_user}",
            "gists_url": "https://api.github.com/users/GreenFatGuy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GreenFatGuy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GreenFatGuy/subscriptions",
            "organizations_url": "https://api.github.com/users/GreenFatGuy/orgs",
            "repos_url": "https://api.github.com/users/GreenFatGuy/repos",
            "events_url": "https://api.github.com/users/GreenFatGuy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GreenFatGuy/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-08-21T23:17:15Z",
        "updated_at": "2022-09-10T19:24:43Z",
        "closed_at": "2022-09-10T19:24:43Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/47",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/47",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/47.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/47.patch",
            "merged_at": "2022-09-10T19:24:43Z"
        },
        "body": "Here we implement first version of \"financial\" side of the cooperation in petals\r\nTODO:\r\n- [x] Tests ",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/47/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/47/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/46",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/46/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/46/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/46/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/46",
        "id": 1342185148,
        "node_id": "PR_kwDOHfNHc849WH5D",
        "number": 46,
        "title": "Convert actual model weights",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-17T19:25:12Z",
        "updated_at": "2022-08-17T20:32:14Z",
        "closed_at": "2022-08-17T20:32:14Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/46",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/46",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/46.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/46.patch",
            "merged_at": "2022-08-17T20:32:14Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/46/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/46/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/45",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/45/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/45/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/45/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/45",
        "id": 1341593309,
        "node_id": "PR_kwDOHfNHc849UIxk",
        "number": 45,
        "title": "Reduce vocabulary size in test model, fix bug in routing when overlapped",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-17T11:06:00Z",
        "updated_at": "2022-08-17T15:50:53Z",
        "closed_at": "2022-08-17T15:50:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/45",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/45",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/45.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/45.patch",
            "merged_at": "2022-08-17T15:50:52Z"
        },
        "body": "More than half of the test 560m model parameters is it's embedding layer (250_880 x 1024).\r\nThis adds 1-2 GB of RAM depending on the test scenario\r\nThis PR reduces this vocabulary size to save memory during conversion, keeping only the first 50k tokens\r\n\r\nAs a result,\r\n* tests that load client-side embeddings need significantly less RAM\r\n* we can now run CI tests with 4 servers instead of 2 - needed to test routing - see bugs uncovered\r\n* some of the servers now use load balancing\r\n* CI convert_model now takes 4-5 minutes (was 6-7)\r\n\r\nRunning CI with 4 servers uncovered a bug:\r\nhttps://github.com/bigscience-workshop/petals/runs/7879399020?check_suite_focus=true\r\nwhich is now also fixed\r\n\r\n\r\nThis PR also temporarily pins an older bnb version, pending @TimDettmers 's fix for cpuonly",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/45/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/45/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/44",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/44/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/44/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/44/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/44",
        "id": 1334819869,
        "node_id": "PR_kwDOHfNHc84899YA",
        "number": 44,
        "title": "make pytest outputs more verbose",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-10T15:41:23Z",
        "updated_at": "2022-08-10T15:53:29Z",
        "closed_at": "2022-08-10T15:53:29Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/44",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/44",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/44.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/44.patch",
            "merged_at": "2022-08-10T15:53:28Z"
        },
        "body": "New log format:\r\n\r\n![image](https://user-images.githubusercontent.com/3491902/183948246-804e2581-d3c2-423c-a06c-9016fa42a680.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/44/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/44/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/43",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/43/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/43/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/43/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/43",
        "id": 1334221104,
        "node_id": "PR_kwDOHfNHc8487-gc",
        "number": 43,
        "title": "Rename 350m -> 560m",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-10T07:49:18Z",
        "updated_at": "2022-08-10T08:03:11Z",
        "closed_at": "2022-08-10T08:03:10Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/43",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/43",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/43.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/43.patch",
            "merged_at": "2022-08-10T08:03:10Z"
        },
        "body": "* Rename the test model according to the latest rebranding in bigscience/bloom-*. It's required to make tests passed ",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/43/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/43/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/42",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/42/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/42/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/42/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/42",
        "id": 1332340029,
        "node_id": "PR_kwDOHfNHc8481sco",
        "number": 42,
        "title": "Distributed prompt tuning",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-08-08T20:06:48Z",
        "updated_at": "2022-08-12T15:28:22Z",
        "closed_at": "2022-08-12T15:28:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/42",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/42",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/42.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/42.patch",
            "merged_at": "2022-08-12T15:28:22Z"
        },
        "body": "* **Technically** working shallow and deep prompt tuning\r\n* **TODO:**  test allclose to the original model for all cases\r\n* **TODO:** debug segfault for blockwise quantization",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/42/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/42/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/41",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/41/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/41/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/41/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/41",
        "id": 1326689786,
        "node_id": "PR_kwDOHfNHc848jJUK",
        "number": 41,
        "title": "Tmp PR ",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-08-03T05:15:33Z",
        "updated_at": "2022-09-19T21:14:51Z",
        "closed_at": "2022-09-19T21:14:51Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/41",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/41",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/41.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/41.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/41/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/41/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/40",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/40/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/40/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/40/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/40",
        "id": 1325837031,
        "node_id": "PR_kwDOHfNHc848gS8I",
        "number": 40,
        "title": "Use \"PETALS\" as the readme title",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-02T13:12:03Z",
        "updated_at": "2022-08-02T14:48:55Z",
        "closed_at": "2022-08-02T14:48:55Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/40",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/40",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/40.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/40.patch",
            "merged_at": "2022-08-02T14:48:55Z"
        },
        "body": "Since we've chosen the system name, let's use it in the repo name and the readme title.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/40/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/40/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/39",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/39/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/39/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/39/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/39",
        "id": 1321542161,
        "node_id": "PR_kwDOHfNHc848SCjb",
        "number": 39,
        "title": "integrate mixed-8bit model",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-28T22:02:50Z",
        "updated_at": "2022-08-04T06:57:38Z",
        "closed_at": "2022-08-04T06:57:38Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/39",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/39",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/39.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/39.patch",
            "merged_at": "2022-08-04T06:57:38Z"
        },
        "body": "* Support 8-bit model\r\n* Support various backend dtypes for inference, forward and backward\r\n* Fix a bug with duplicated model weights in RAM\r\n* Support various quantization methods\r\n* Update hivemind version that supports blockwise-8bit quantization",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/39/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/39/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/38",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/38/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/38/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/38/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/38",
        "id": 1320321288,
        "node_id": "PR_kwDOHfNHc848N90Y",
        "number": 38,
        "title": "Support various backend dtypes & async serialization",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-28T02:49:32Z",
        "updated_at": "2022-07-28T15:33:58Z",
        "closed_at": "2022-07-28T15:33:58Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/38",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/38",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/38.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/38.patch",
            "merged_at": "2022-07-28T15:33:58Z"
        },
        "body": "* Backends cast inputs to torch_dtype from a model config or the weight dtype. At the moment, it's supported only for forward and backward. TODO: add this for inference;\r\n \r\n* Async serialization on the client side to reduce the overhead of advanced quantization methods;\r\n\r\n* Update hivemind version that supports bfloat16;\r\n\r\n* Fix a bug with autograd backward. ",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/38/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/38/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/37",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/37/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/37/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/37/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/37",
        "id": 1318398422,
        "node_id": "PR_kwDOHfNHc848HvJE",
        "number": 37,
        "title": "Pack of Inference Changes",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-26T15:20:53Z",
        "updated_at": "2022-07-27T06:19:45Z",
        "closed_at": "2022-07-27T06:19:45Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/37",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/37",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/37.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/37.patch",
            "merged_at": "2022-07-27T06:19:45Z"
        },
        "body": "- Return Multibatch inference\r\n- Tests for greedy generation\r\n- small style&fix",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/37/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/37/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/36",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/36/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/36/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/36/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/36",
        "id": 1315325493,
        "node_id": "PR_kwDOHfNHc847932k",
        "number": 36,
        "title": "Efficient forward & backward",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-07-22T18:59:07Z",
        "updated_at": "2022-07-23T11:32:39Z",
        "closed_at": "2022-07-23T11:32:39Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/36",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/36",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/36.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/36.patch",
            "merged_at": "2022-07-23T11:32:39Z"
        },
        "body": "* Fault-tolerant sequential forward and backward;\r\n* Efficient forward and backward calls that process an input batch in parallel by splitting it on small sub-batches;\r\n* Update server deployment scripts.\r\n---\r\n\r\nSome measurements:\r\n\r\n**Config:** Bloom 6b3 | input_ids.shape = (32, 128) | A100 | 3 servers, 10 block each\r\n\r\n**Naive (current)**\r\n84.2 sec / it | (1/3 GPUs is utilized at time)\r\n\r\n**Sequential**\r\n37.4 sec / it | (1/3 GPUs is utilized at time)\r\n\r\n**Sequential + Parallel**\r\n19.4 sec / it | (2/3 or 3/3 GPUs are utilized at time)\r\n\r\n**Reference Gradient Checkpointing (Single GPU A100)**\r\n8.8 sec / it | 100% gpu utils\r\n\r\n**Reference (Single GPU A100)**\r\n5.7 sec / it | 100% gpu utils",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/36/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/36/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/35",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/35/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/35/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/35/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/35",
        "id": 1315249506,
        "node_id": "PR_kwDOHfNHc8479nhU",
        "number": 35,
        "title": "Miscellaneous fixes to automatic tests",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-22T17:21:48Z",
        "updated_at": "2022-07-22T19:38:40Z",
        "closed_at": "2022-07-22T19:38:40Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/35",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/35",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/35.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/35.patch",
            "merged_at": "2022-07-22T19:38:40Z"
        },
        "body": "1. __Reduce memory usage in in test_full_model__ \r\n     - previously, loading the full model would consistently fail IF github is enforcing memory limit [example](https://github.com/bigscience-workshop/distributed-bloom/runs/7473920049?check_suite_focus=true)\r\n     - the new version uses accelerate to save 2GB of peak memory, that was previously used when loading both reference model AND its state dict at the same time - only to load that state dict :)\r\n2. __Safer delays when creating servers__\r\n    - run-tests will now wait for a few seconds after creating the first server - and before creating the second one, so as to make \r\nsure that the first server creates a DHT instance that subsequent servers can connect to.\r\n    - also increased the wait time after creating servers by 30 seconds to make sure we load the model in time even when bumping into slow remotes on HF side\r\n3. __Fix environment variables in CI to avoid build conflicts__\r\n    - the previous code was using a wrong environment variable that was always \"main\". The current one will correctly resolve branch name, both in main and on pull request.\r\n    - For reference, below you can find sample environments when running CI in both cases: on pull request and on push to main.\r\n\r\n<details>\r\n<summary> Environment variables when building this branch (on pull request) </summary>\r\n\r\nSELENIUM_JAR_PATH=/usr/share/java/selenium-server.jar GOROOT_1_17_X64=/opt/hostedtoolcache/go/1.17.12/x64 CONDA=/usr/share/miniconda GITHUB_WORKSPACE=/home/runner/work/distributed-bloom/distributed-bloom JAVA_HOME_11_X64=/usr/lib/jvm/temurin-11-jdk-amd64 GITHUB_PATH=/home/runner/work/_temp/_runner_file_commands/add_path_0aba811a-a04b-40a2-ba42-79efb2723e9e GITHUB_ACTION=__run_2 JAVA_HOME=/usr/lib/jvm/temurin-11-jdk-amd64 GITHUB_RUN_NUMBER=98 RUNNER_NAME=GitHub Actions 3 GRADLE_HOME=/usr/share/gradle-7.5 XDG_CONFIG_HOME=/home/runner/.config DOTNET_SKIP_FIRST_TIME_EXPERIENCE=1 ANT_HOME=/usr/share/ant JAVA_HOME_8_X64=/usr/lib/jvm/temurin-8-jdk-amd64 HOMEBREW_PREFIX=/home/linuxbrew/.linuxbrew pythonLocation=/opt/hostedtoolcache/Python/3.9.13/x64 GITHUB_REF_TYPE=branch HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS=3650 BOOTSTRAP_HASKELL_NONINTERACTIVE=1 *** PIPX_BIN_DIR=/opt/pipx_bin DEPLOYMENT_BASEPATH=/opt/runner GITHUB_ACTIONS=true ANDROID_NDK_LATEST_HOME=/usr/local/lib/android/sdk/ndk/24.0.8215888 GITHUB_SHA=3b457e8a14e5ecb0d65d6e4c0e9161f7756a8861 POWERSHELL_DISTRIBUTION_CHANNEL=GitHub-Actions-ubuntu20 DOTNET_MULTILEVEL_LOOKUP=0 GITHUB_REF=refs/pull/35/merge RUNNER_OS=Linux GITHUB_REF_PROTECTED=false HOME=/home/runner GITHUB_API_URL=https://api.github.com/ LANG=C.UTF-8 BLOOM_TESTING_WRITE_TOKEN=*** RUNNER_TRACKING_ID=github_cc9b46e4-56a1-40c5-ba08-5a91e21f0f95 STATS_KEEPALIVE=false RUNNER_ARCH=X64 RUNNER_TEMP=/home/runner/work/_temp EDGEWEBDRIVER=/usr/local/share/edge_driver GITHUB_ENV=/home/runner/work/_temp/_runner_file_commands/set_env_0aba811a-a04b-40a2-ba42-79efb2723e9e GITHUB_EVENT_PATH=/home/runner/work/_temp/_github_workflow/event.json INVOCATION_ID=8f0072e74f2847c0851e7ff9b5e4af7c GITHUB_EVENT_NAME=pull_request GITHUB_RUN_ID=2720198689 JAVA_HOME_17_X64=/usr/lib/jvm/temurin-17-jdk-amd64 ANDROID_NDK_HOME=/usr/local/lib/android/sdk/ndk-bundle GITHUB_STEP_SUMMARY=/home/runner/work/_temp/_runner_file_commands/step_summary_0aba811a-a04b-40a2-ba42-79efb2723e9e HOMEBREW_NO_AUTO_UPDATE=1 GITHUB_ACTOR=justheuristic NVM_DIR=/home/runner/.nvm SGX_AESM_ADDR=1 GITHUB_RUN_ATTEMPT=1 ANDROID_HOME=/usr/local/lib/android/sdk GITHUB_GRAPHQL_URL=https://api.github.com/graphql ACCEPT_EULA=Y RUNNER_USER=runner USER=runner GITHUB_SERVER_URL=https://github.com/ HOMEBREW_CELLAR=/home/linuxbrew/.linuxbrew/Cellar PIPX_HOME=/opt/pipx GECKOWEBDRIVER=/usr/local/share/gecko_driver CHROMEWEBDRIVER=/usr/local/share/chrome_driver SHLVL=0 ANDROID_SDK_ROOT=/usr/local/lib/android/sdk VCPKG_INSTALLATION_ROOT=/usr/local/share/vcpkg HOMEBREW_REPOSITORY=/home/linuxbrew/.linuxbrew/Homebrew RUNNER_TOOL_CACHE=/opt/hostedtoolcache ImageVersion=20220717.1 DOTNET_NOLOGO=1 GITHUB_REF_NAME=35/merge STATS_PFS=true GRAALVM_11_ROOT=/usr/local/graalvm/graalvm-ce-java11-22.1.0 GITHUB_JOB=convert-model LD_LIBRARY_PATH=/opt/hostedtoolcache/Python/3.9.13/x64/lib XDG_RUNTIME_DIR=/run/user/1001 AZURE_EXTENSION_DIR=/opt/az/azcliextensions PERFLOG_LOCATION_SETTING=RUNNER_PERFLOG GITHUB_REPOSITORY=bigscience-workshop/distributed-bloom ANDROID_NDK_ROOT=/usr/local/lib/android/sdk/ndk-bundle CHROME_BIN=/usr/bin/google-chrome GOROOT_1_18_X64=/opt/hostedtoolcache/go/1.18.4/x64 GITHUB_RETENTION_DAYS=90 JOURNAL_STREAM=8:23653 RUNNER_WORKSPACE=/home/runner/work/distributed-bloom LEIN_HOME=/usr/local/lib/lein LEIN_JAR=/usr/local/lib/lein/self-installs/leiningen-2.9.8-standalone.jar GITHUB_ACTION_REPOSITORY= PATH=/opt/hostedtoolcache/Python/3.9.13/x64/bin:/opt/hostedtoolcache/Python/3.9.13/x64:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin RUNNER_PERFLOG=/home/runner/perflog GITHUB_BASE_REF=main CI=true SWIFT_PATH=/usr/share/swift/usr/bin ImageOS=ubuntu20 GITHUB_REPOSITORY_OWNER=bigscience-workshop GITHUB_HEAD_REF=fix-branch-name GITHUB_ACTION_REF= GITHUB_WORKFLOW=Tests DEBIAN_FRONTEND=noninteractive AGENT_TOOLSDIRECTORY=/opt/hostedtoolcache GOROOT_1_16_X64=/opt/hostedtoolcache/go/1.16.15/x64 _=/usr/bin/env\r\n</details>\r\n<details>\r\n<summary> Environment variables when building in main (on push) </summary>\r\n\r\nSELENIUM_JAR_PATH=/usr/share/java/selenium-server.jar GOROOT_1_17_X64=/opt/hostedtoolcache/go/1.17.11/x64 CONDA=/usr/share/miniconda GITHUB_WORKSPACE=/home/runner/work/distributed-bloom/distributed-bloom JAVA_HOME_11_X64=/usr/lib/jvm/temurin-11-jdk-amd64 GITHUB_PATH=/home/runner/work/_temp/_runner_file_commands/add_path_cd6c1ed2-0d0f-496d-b7a6-ffa476dcc144 GITHUB_ACTION=__run_2 JAVA_HOME=/usr/lib/jvm/temurin-11-jdk-amd64 GITHUB_RUN_NUMBER=53 RUNNER_NAME=GitHub Actions 3 GRADLE_HOME=/usr/share/gradle-7.4.2 XDG_CONFIG_HOME=/home/runner/.config DOTNET_SKIP_FIRST_TIME_EXPERIENCE=1 ANT_HOME=/usr/share/ant JAVA_HOME_8_X64=/usr/lib/jvm/temurin-8-jdk-amd64 HOMEBREW_PREFIX=/home/linuxbrew/.linuxbrew pythonLocation=/opt/hostedtoolcache/Python/3.9.13/x64 GITHUB_REF_TYPE=branch HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS=3650 BOOTSTRAP_HASKELL_NONINTERACTIVE=1 *** PIPX_BIN_DIR=/opt/pipx_bin DEPLOYMENT_BASEPATH=/opt/runner GITHUB_ACTIONS=true ANDROID_NDK_LATEST_HOME=/usr/local/lib/android/sdk/ndk/24.0.8215888 GITHUB_SHA=49242d81006454d687ff3293c49f6bf234793627 POWERSHELL_DISTRIBUTION_CHANNEL=GitHub-Actions-ubuntu20 DOTNET_MULTILEVEL_LOOKUP=0 GITHUB_REF=refs/heads/main RUNNER_OS=Linux GITHUB_REF_PROTECTED=true HOME=/home/runner GITHUB_API_URL=https://api.github.com/ LANG=C.UTF-8 BLOOM_TESTING_WRITE_TOKEN=*** RUNNER_TRACKING_ID=github_7668f06a-99e1-4ed1-81e9-46d75fab3f33 STATS_KEEPALIVE=false RUNNER_ARCH=X64 RUNNER_TEMP=/home/runner/work/_temp EDGEWEBDRIVER=/usr/local/share/edge_driver GITHUB_ENV=/home/runner/work/_temp/_runner_file_commands/set_env_cd6c1ed2-0d0f-496d-b7a6-ffa476dcc144 GITHUB_EVENT_PATH=/home/runner/work/_temp/_github_workflow/event.json INVOCATION_ID=3dadac48981b4a679a33224db89be1ed GITHUB_EVENT_NAME=push GITHUB_RUN_ID=2680158280 JAVA_HOME_17_X64=/usr/lib/jvm/temurin-17-jdk-amd64 ANDROID_NDK_HOME=/usr/local/lib/android/sdk/ndk-bundle GITHUB_STEP_SUMMARY=/home/runner/work/_temp/_runner_file_commands/step_summary_cd6c1ed2-0d0f-496d-b7a6-ffa476dcc144 HOMEBREW_NO_AUTO_UPDATE=1 GITHUB_ACTOR=justheuristic NVM_DIR=/home/runner/.nvm SGX_AESM_ADDR=1 GITHUB_RUN_ATTEMPT=1 ANDROID_HOME=/usr/local/lib/android/sdk GITHUB_GRAPHQL_URL=https://api.github.com/graphql ACCEPT_EULA=Y RUNNER_USER=runner USER=runner GITHUB_SERVER_URL=https://github.com/ HOMEBREW_CELLAR=/home/linuxbrew/.linuxbrew/Cellar PIPX_HOME=/opt/pipx GECKOWEBDRIVER=/usr/local/share/gecko_driver CHROMEWEBDRIVER=/usr/local/share/chrome_driver SHLVL=0 ANDROID_SDK_ROOT=/usr/local/lib/android/sdk VCPKG_INSTALLATION_ROOT=/usr/local/share/vcpkg HOMEBREW_REPOSITORY=/home/linuxbrew/.linuxbrew/Homebrew RUNNER_TOOL_CACHE=/opt/hostedtoolcache ImageVersion=20220710.1 DOTNET_NOLOGO=1 GITHUB_REF_NAME=main STATS_PFS=true GRAALVM_11_ROOT=/usr/local/graalvm/graalvm-ce-java11-22.1.0 GITHUB_JOB=convert-model LD_LIBRARY_PATH=/opt/hostedtoolcache/Python/3.9.13/x64/lib XDG_RUNTIME_DIR=/run/user/1001 AZURE_EXTENSION_DIR=/opt/az/azcliextensions PERFLOG_LOCATION_SETTING=RUNNER_PERFLOG GITHUB_REPOSITORY=bigscience-workshop/distributed-bloom CHROME_BIN=/usr/bin/google-chrome ANDROID_NDK_ROOT=/usr/local/lib/android/sdk/ndk-bundle GOROOT_1_18_X64=/opt/hostedtoolcache/go/1.18.3/x64 GITHUB_RETENTION_DAYS=90 JOURNAL_STREAM=8:22000 RUNNER_WORKSPACE=/home/runner/work/distributed-bloom LEIN_HOME=/usr/local/lib/lein LEIN_JAR=/usr/local/lib/lein/self-installs/leiningen-2.9.8-standalone.jar GITHUB_ACTION_REPOSITORY= PATH=/opt/hostedtoolcache/Python/3.9.13/x64/bin:/opt/hostedtoolcache/Python/3.9.13/x64:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin RUNNER_PERFLOG=/home/runner/perflog GITHUB_BASE_REF= CI=true SWIFT_PATH=/usr/share/swift/usr/bin ImageOS=ubuntu20 GITHUB_REPOSITORY_OWNER=bigscience-workshop GITHUB_HEAD_REF= GITHUB_ACTION_REF= GITHUB_WORKFLOW=Tests DEBIAN_FRONTEND=noninteractive AGENT_TOOLSDIRECTORY=/opt/hostedtoolcache GOROOT_1_16_X64=/opt/hostedtoolcache/go/1.16.15/x64 _=/usr/bin/env\r\n</details>\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/35/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/35/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/34",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/34/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/34/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/34/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/34",
        "id": 1314926118,
        "node_id": "PR_kwDOHfNHc8478hxI",
        "number": 34,
        "title": "Rebalance swarm when necessary",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-22T12:08:33Z",
        "updated_at": "2022-10-12T10:28:27Z",
        "closed_at": "2022-10-12T10:28:27Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/34",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/34",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/34.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/34.patch",
            "merged_at": "2022-10-12T10:28:27Z"
        },
        "body": "**Status:** I've tested it on simple cases, it works.\r\n\r\n**Future work:**\r\n\r\n- [ ] Sometimes server fails to restart due to shmem errors. Rebalancing is disabled by default until we solve that.\r\n- [ ] `Server` should follow `ModuleContainer` status and restart it if it crashes.\r\n- [ ] I'd like to add some docs on properties of the greedy algorithm in `block_selection.py`.\r\n- [ ] Add unit tests for algorithms from `block_selection.py`.\r\n- [ ] (maybe) Add functional tests for real server rebalancing.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/34/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/34/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/33",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/33/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/33/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/33/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/33",
        "id": 1313943695,
        "node_id": "PR_kwDOHfNHc8475D0O",
        "number": 33,
        "title": "[DRAFT] Routing for lowest inference time",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-07-21T23:43:14Z",
        "updated_at": "2022-09-06T23:15:23Z",
        "closed_at": "2022-09-06T23:15:23Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/33",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/33",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/33.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/33.patch",
            "merged_at": null
        },
        "body": "TODO:\r\n- [x] RemoteSequenceInfo\r\n- [x] RoutingStrategy interface - and forward kwargs from init\r\n- [x] RandomRoutingStrategy\r\n- [ ] change update_ into a background thread, implement RemoteSequenceManager.run\r\n- [ ] move lock_changes from RemoteSequenceManager to RemoteSequenceInfo\r\n- [ ] basic tests for RemoteSequenceManager\r\n- [ ] make it pass tests again\r\n- [ ] move RemoteSequenceManager.rpc_info to RemoteSequenceInfo.rpc_info (make manager.rpc_info point to the new location)\r\n- [ ] change RandomRoutingStrategy to trigger refresh in case there is no path - as opposed to crashing in on_update\r\n- [ ] make some warnings that indicate that the sequence is not ready\r\n- [ ] EFSearchStrategy\r\n- [ ] revert run-tests.html\r\n\r\nThings changed in this PR:\r\n- RemoteSequenceManager will now run a **background thread** that looks up DHT entries periodically\r\n  - previously, manager would reload all DHT entries on each RemoteSequential.forward, increasing latency\r\n- RemoteSequenceManager.make_sequence now supports multiple routing strategies\r\n\r\n\r\nThings beyond the scope of this PR:\r\n- __Load-balanced routing__ will be done in a subsequent PR\r\n- __Routing code decomposition / support for user-defined strategies__ - important, but complicated and not urgent -> later\r\n- __Optimized model init__ - prepare sequence manager in parallel with loading embeddings? save latency and blacklists on disk?\r\n- __Cleaning up src.client file structure__ - there will come a day when we organize the client-side more neatly. But that day is not today.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/33/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/33/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/32",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/32/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/32/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/32/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/32",
        "id": 1309950483,
        "node_id": "PR_kwDOHfNHc847rHQP",
        "number": 32,
        "title": "fix is_subsequence",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-19T19:26:32Z",
        "updated_at": "2022-07-19T19:37:19Z",
        "closed_at": "2022-07-19T19:37:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/32",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/32",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/32.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/32.patch",
            "merged_at": "2022-07-19T19:37:19Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/32/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/32/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/31",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/31/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/31/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/31/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/31",
        "id": 1309925042,
        "node_id": "PR_kwDOHfNHc847rBvw",
        "number": 31,
        "title": "[test PR]",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-19T18:58:33Z",
        "updated_at": "2022-07-19T18:59:56Z",
        "closed_at": "2022-07-19T18:59:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/31",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/31",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/31.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/31.patch",
            "merged_at": null
        },
        "body": "this is a description",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/31/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/31/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/30",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/30/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/30/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/30/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/30",
        "id": 1308662836,
        "node_id": "PR_kwDOHfNHc847myal",
        "number": 30,
        "title": "Decouple make_sequence and move to RemoteSequenceManager",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-07-18T21:21:27Z",
        "updated_at": "2022-07-19T01:28:04Z",
        "closed_at": "2022-07-19T01:28:04Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/30",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/30",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/30.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/30.patch",
            "merged_at": "2022-07-19T01:28:04Z"
        },
        "body": "This PR:\r\n- [x] finish renaming RemoteSequenceInfo -> RemoteSequenceManager (why: if it was an *Info, user would expect it to be similar to a dataclass; whereas in actuality, the class is doing heavy network interactions on its own)\r\n- [x] implement RemoteSequenceManager.make_sequence (from https://pastebin.com/uXgy2U8B )\r\n- [x] make RemoteSequentialInferenceSession use RemoteSequenceManager.make_sequence\r\n- [x] make tests pass again\r\n- [x] make it possible to create inference session without RemoteTransformerBlock\r\n- [x] make a standalone test for RemoteSequential\r\n- [x] rollback convert-model\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/30/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/30/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/29",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/29/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/29/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/29/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/29",
        "id": 1306804442,
        "node_id": "PR_kwDOHfNHc847gr8Q",
        "number": 29,
        "title": "Add GenerationMixin class",
        "user": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-07-16T13:13:47Z",
        "updated_at": "2022-07-18T21:44:17Z",
        "closed_at": "2022-07-18T21:44:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/29",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/29",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/29.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/29.patch",
            "merged_at": "2022-07-18T21:44:16Z"
        },
        "body": "Add generation abstraction, that's using inference_session.\r\nAdded modes:\r\n- Greedy, top-k/top-p sampling\r\n- Multibatch generation\r\n- Constraint abstraction\r\nIn the future, I'll add prefix-tuned generation, beam-search and more hf-like stuff.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/29/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/29/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/28",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/28/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/28/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/28/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/28",
        "id": 1306660021,
        "node_id": "PR_kwDOHfNHc847gQlp",
        "number": 28,
        "title": "CI: use GIT_REF_NAME instead of GIT_HEAD_REF",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-16T01:17:14Z",
        "updated_at": "2022-07-16T08:43:24Z",
        "closed_at": "2022-07-16T08:43:24Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/28",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/28",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/28.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/28.patch",
            "merged_at": "2022-07-16T08:43:24Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/28/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/28/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/27",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/27/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/27/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/27/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/27",
        "id": 1306653349,
        "node_id": "PR_kwDOHfNHc847gPMI",
        "number": 27,
        "title": "Fix CI runs in master",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-16T00:53:15Z",
        "updated_at": "2022-07-16T01:06:37Z",
        "closed_at": "2022-07-16T01:06:37Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/27",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/27",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/27.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/27.patch",
            "merged_at": "2022-07-16T01:06:37Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/27/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/27/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/26",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/26/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/26/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/26/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/26",
        "id": 1306636652,
        "node_id": "PR_kwDOHfNHc847gLp6",
        "number": 26,
        "title": "Fix default branch in CI",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-16T00:00:28Z",
        "updated_at": "2022-07-16T00:11:27Z",
        "closed_at": "2022-07-16T00:11:27Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/26",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/26",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/26.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/26.patch",
            "merged_at": "2022-07-16T00:11:27Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/26/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/26/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/25",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/25/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/25/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/25/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/25",
        "id": 1306625561,
        "node_id": "PR_kwDOHfNHc847gJSY",
        "number": 25,
        "title": "[Test CI] add instructions to test the full model",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-15T23:32:17Z",
        "updated_at": "2022-07-15T23:45:11Z",
        "closed_at": "2022-07-15T23:45:11Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/25",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/25",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/25.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/25.patch",
            "merged_at": "2022-07-15T23:45:11Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/25/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/25/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/24",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/24/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/24/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/24/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/24",
        "id": 1306612562,
        "node_id": "PR_kwDOHfNHc847gGiG",
        "number": 24,
        "title": "Clean up readme",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-15T23:01:14Z",
        "updated_at": "2022-07-15T23:11:18Z",
        "closed_at": "2022-07-15T23:11:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/24",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/24",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/24.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/24.patch",
            "merged_at": "2022-07-15T23:11:17Z"
        },
        "body": "This PR removes some deprecated sections of README and turns on CI for main branch",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/24/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/24/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/23",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/23/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/23/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/23/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/23",
        "id": 1306082965,
        "node_id": "PR_kwDOHfNHc847eTLb",
        "number": 23,
        "title": "minimalistic automated tests",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-15T14:07:56Z",
        "updated_at": "2022-07-15T22:59:24Z",
        "closed_at": "2022-07-15T22:59:24Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/23",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/23",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/23.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/23.patch",
            "merged_at": "2022-07-15T22:59:24Z"
        },
        "body": "This PR will run basic tests automatically on each subsequent PR\r\n\r\n- [x] convert small model\r\n- [x] run existing tests\r\n- [x] enforce black / isort\r\n- [x] make tests pass\r\n- [x] allow running multiple conversions concurrently\r\n- [x] require checks on merge\r\n- [x] test for flappiness",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/23/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/23/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/22",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/22/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/22/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/22/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/22",
        "id": 1303766932,
        "node_id": "PR_kwDOHfNHc847WpXE",
        "number": 22,
        "title": "Shallow prompt tuning with run example on SST-2",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-07-13T18:01:26Z",
        "updated_at": "2022-07-15T14:37:27Z",
        "closed_at": "2022-07-15T14:37:27Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/22",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/22",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/22.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/22.patch",
            "merged_at": "2022-07-15T14:37:27Z"
        },
        "body": "* Added DistributedBloomPrefix which is a DistributedBloomModel with shallow prompt tuning;\r\n* Added BloomForSequenceClassification from transformers and the corresponding distributed version.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/22/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/22/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/21",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/21/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/21/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/21/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/21",
        "id": 1302722660,
        "node_id": "PR_kwDOHfNHc847TKMG",
        "number": 21,
        "title": "Measure and cache network & compute throughput",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-07-12T23:33:02Z",
        "updated_at": "2022-07-13T01:46:27Z",
        "closed_at": "2022-07-13T01:46:26Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/21",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/21",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/21.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/21.patch",
            "merged_at": "2022-07-13T01:46:26Z"
        },
        "body": "**Status:** Tested all features: measuring network/CPU/GPU throughput, saving/reading the cache, using the lock to avoid from simultaneous throughput benchmarks, etc.\r\n\r\nOn the first run, it works like this:\r\n\r\n<img width=\"928\" alt=\"Screenshot 2022-07-13 at 03 29 04\" src=\"https://user-images.githubusercontent.com/8748943/178615656-598a5ea4-384f-46ff-a052-6167e25947d9.png\">\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/21/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/21/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/20",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/20/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/20/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/20/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/20",
        "id": 1301443405,
        "node_id": "PR_kwDOHfNHc847O220",
        "number": 20,
        "title": "Implement block selection on servers",
        "user": {
            "login": "borzunov",
            "id": 8748943,
            "node_id": "MDQ6VXNlcjg3NDg5NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/borzunov",
            "html_url": "https://github.com/borzunov",
            "followers_url": "https://api.github.com/users/borzunov/followers",
            "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
            "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
            "organizations_url": "https://api.github.com/users/borzunov/orgs",
            "repos_url": "https://api.github.com/users/borzunov/repos",
            "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/borzunov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-12T02:13:42Z",
        "updated_at": "2022-07-12T10:42:31Z",
        "closed_at": "2022-07-12T10:42:30Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/20",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/20",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/20.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/20.patch",
            "merged_at": "2022-07-12T10:42:30Z"
        },
        "body": "Addresses https://github.com/learning-at-home/etc/issues/45.\r\n\r\nIn this PR, we assume that the throughput of all servers is 1.0 unless another value is specified. Still, this allows to observe the load balancing behavior.\r\n\r\nAuto-measuring the throughput and caching it will be implemented in the next PR.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/20/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/20/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/19",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/19/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/19/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/19/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/19",
        "id": 1299977606,
        "node_id": "PR_kwDOHfNHc847J9wx",
        "number": 19,
        "title": "LM head module",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-10T17:45:04Z",
        "updated_at": "2022-07-12T11:25:24Z",
        "closed_at": "2022-07-12T11:25:24Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/19",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/19",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/19.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/19.patch",
            "merged_at": "2022-07-12T11:25:24Z"
        },
        "body": "* BloomForCausalLM == BloomForCausalLM from HF transformers;\r\n* Added LMHead module that doesn't duplicate word embeddings;\r\n* This module also allows for efficient chunked forward when embeddings are in half-precision on CPU. The chunk size can be set in DistributedBloomConfig (default: 10000). Default chunk_size provides reasonable performance and consumes extra ~0.6Gb memory instead of ~7.2Gb for the 176B model;\r\n* Moved 'set_requires_grad' from BloomModel to DistributedBloomModel to make BloomModel == BloomModel from HF transformers.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/19/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/19/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/18",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/18/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/18/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/18/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/18",
        "id": 1296119391,
        "node_id": "PR_kwDOHfNHc84688rz",
        "number": 18,
        "title": "Chained rpc_forward & rpc_backward",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-06T16:47:11Z",
        "updated_at": "2022-07-06T21:58:10Z",
        "closed_at": "2022-07-06T21:58:10Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/18",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/18",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/18.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/18.patch",
            "merged_at": "2022-07-06T21:58:10Z"
        },
        "body": "Added chained rpc_forward & rpc_backward that allow us to handle sequences of Bloom blocks without redundant communication with  client.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/18/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/18/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/17",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/17/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/17/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/17/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/17",
        "id": 1293523637,
        "node_id": "PR_kwDOHfNHc8460RZu",
        "number": 17,
        "title": "Update model",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-07-04T19:50:41Z",
        "updated_at": "2022-07-05T13:41:36Z",
        "closed_at": "2022-07-05T13:41:36Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/17",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/17",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/17.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/17.patch",
            "merged_at": "2022-07-05T13:41:36Z"
        },
        "body": "* Default for client's model parameters: requires_grad=False;\r\n* Interface: \"abstract\" class BloomForYou. DistributedBloomForYou inherits from it. All consequent classes for various Bloom applications inherit DistributedBloomForYou;\r\n* lm_head -> h @ word_embs for DistributedBloomForCausalLM;\r\n* Updated converted_model without lm_head: [dbaranchuk/test-bloomd-6b3](https://huggingface.co/dbaranchuk/test-bloomd-6b3);\r\n* h @ word_embs is very slow in fp16 on CPU. Let's keep fp32 for now. TODO @dbaranchuk: understand why fp16 is slow on CPU. If everything is correct then (TODO @dbaranchuk) keep embeddings in fp16 but calculate fp32 casting on the fly;\r\n* Minor bug fix in run_local_server.sh;\r\n* Updated tests/test_full_model.py: \r\nTest results for REF_NAME='bigscience/bloom-6b3': \r\n  CPU vs GPU (\u0410100) (fp32) passes with (forward_atol=1e-2, inference_atol=1e-2)\r\n  CPU vs CPU (fp32) passes with (forward_atol=1e-4, inference_atol=1e-3)",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/17/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/17/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/16",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/16/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/16/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/16/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/16",
        "id": 1290773021,
        "node_id": "I_kwDOHfNHc85M76Id",
        "number": 16,
        "title": "Client-side code improvements [Yozh-todo-list]",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-07-01T00:53:30Z",
        "updated_at": "2023-01-02T19:16:17Z",
        "closed_at": "2023-01-02T19:16:16Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "### Important stuff\r\n\r\n- [ ] optimal (instead of random) routing in RemoteSequenceManager\r\n- [x] fault tolerance in RemoteSequentialInferenceSession\r\n- [x] quick slicing with RemoteSequential[5:15] ( @TimDettmers )\r\n- [x] BloomForCausalLM.generate ( @artek0chumak )\r\n- [x] remove lm_head WEIGHT from checkpoint and/or model, convert BloomModel instead (to save 2x client RAM) [@dbaranchuk did it]\r\n\r\n\r\n### Minor stuff\r\nThis list contains all the things i've delegated to future me. They are typically too obscure for anyone else to worry about\r\n\r\n- [x] fault tolerance inside RemoteTransformerBlock (as opposed to RemoteSequential)\r\n\r\n- [x] in SequenceInfo, keep block_infos as TimedStorage instead of just RemoteSequenceInfo for automatic removal of expired servers\r\n- [x] make RemoteSequential print the state of the model ( @TimDettmers )\r\n- [x] less frequent DHT lookups in RemoteSequenceInfo\r\n- [x] change BloomForCausalLM.forward to call RemoteSequential instead of working layer-by-layer (why: to allow chaining subsequent blocks efficiently)\r\n\r\n\r\nNote from #45  by @borzunov \r\n\r\nPlease consider running a loop instead, maybe using just --num_blocks without explicit --block_indices. If it gets more complicated than just repeating something N times, please move it to a Python script.\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/16/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/16/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/15",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/15/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/15/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/15/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/15",
        "id": 1284647019,
        "node_id": "I_kwDOHfNHc85Mkihr",
        "number": 15,
        "title": "Access to the public model requires HF API token",
        "user": {
            "login": "dbaranchuk",
            "id": 14850984,
            "node_id": "MDQ6VXNlcjE0ODUwOTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/14850984?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbaranchuk",
            "html_url": "https://github.com/dbaranchuk",
            "followers_url": "https://api.github.com/users/dbaranchuk/followers",
            "following_url": "https://api.github.com/users/dbaranchuk/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbaranchuk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbaranchuk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbaranchuk/subscriptions",
            "organizations_url": "https://api.github.com/users/dbaranchuk/orgs",
            "repos_url": "https://api.github.com/users/dbaranchuk/repos",
            "events_url": "https://api.github.com/users/dbaranchuk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbaranchuk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-06-25T16:09:44Z",
        "updated_at": "2022-06-29T10:58:56Z",
        "closed_at": "2022-06-29T10:58:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "When run: \r\n`python -m cli.run_server --prefix bloom6b3 --converted_model_name_or_path bigscience/test-bloomd-6b3 \\\r\n  --block_indices 3:5 --torch_dtype float32 --identity_path ./server1.id --host_maddrs /ip4/127.0.0.1/tcp/31337`\r\n\r\nFails with:\r\n`OSError: You specified use_auth_token=True, but a huggingface token was not found.`\r\n\r\nFix: set use_auth_token=False here:\r\nhttps://github.com/learning-at-home/bloom-demo/blob/ca3c08acc1c36d1da396ff95d9016522ea84b83c/src/server/server.py#L134\r\n\r\nand here:\r\nhttps://github.com/learning-at-home/bloom-demo/blob/ca3c08acc1c36d1da396ff95d9016522ea84b83c/src/bloom/from_pretrained.py#L73",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/15/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/15/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/14",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/14/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/14/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/14/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/14",
        "id": 1280189361,
        "node_id": "I_kwDOHfNHc85MTiOx",
        "number": 14,
        "title": "[TALKING] talk to potential users, find use cases",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "justheuristic",
                "id": 3491902,
                "node_id": "MDQ6VXNlcjM0OTE5MDI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justheuristic",
                "html_url": "https://github.com/justheuristic",
                "followers_url": "https://api.github.com/users/justheuristic/followers",
                "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
                "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
                "organizations_url": "https://api.github.com/users/justheuristic/orgs",
                "repos_url": "https://api.github.com/users/justheuristic/repos",
                "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justheuristic/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-06-22T13:56:44Z",
        "updated_at": "2022-07-15T23:15:17Z",
        "closed_at": "2022-07-15T23:15:17Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/14/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/14/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/13",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/13/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/13/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/13/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/13",
        "id": 1278779987,
        "node_id": "I_kwDOHfNHc85MOKJT",
        "number": 13,
        "title": "Implement standard inference modes",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "artek0chumak",
            "id": 8506431,
            "node_id": "MDQ6VXNlcjg1MDY0MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artek0chumak",
            "html_url": "https://github.com/artek0chumak",
            "followers_url": "https://api.github.com/users/artek0chumak/followers",
            "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
            "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
            "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
            "repos_url": "https://api.github.com/users/artek0chumak/repos",
            "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "artek0chumak",
                "id": 8506431,
                "node_id": "MDQ6VXNlcjg1MDY0MzE=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8506431?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/artek0chumak",
                "html_url": "https://github.com/artek0chumak",
                "followers_url": "https://api.github.com/users/artek0chumak/followers",
                "following_url": "https://api.github.com/users/artek0chumak/following{/other_user}",
                "gists_url": "https://api.github.com/users/artek0chumak/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/artek0chumak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/artek0chumak/subscriptions",
                "organizations_url": "https://api.github.com/users/artek0chumak/orgs",
                "repos_url": "https://api.github.com/users/artek0chumak/repos",
                "events_url": "https://api.github.com/users/artek0chumak/events{/privacy}",
                "received_events_url": "https://api.github.com/users/artek0chumak/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-06-21T17:37:06Z",
        "updated_at": "2022-12-31T00:46:24Z",
        "closed_at": "2022-12-31T00:46:23Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "It would be awesome to have a collection of standard inference methods, e.g. greedy, temperature, top-p, top-k, eventually tree / beam search and batched inference, once we support it on the backend.\r\n\r\nFor now, perhaps, it would be best to implement them as standalone functions / functors that take the full model as input and do the inference. Eventually, we'll figure out the best way of integrating them together.\r\n\r\nRoadmap (tentative)\r\n1. sampling, greedy, top-k, nucleus, etc -- with obligatory support for prefixes\r\n2. inference with prompt-tuned model\r\n3. beam search (requires changes on backend)\r\n\r\n.. and then, in no particular order,\r\n* inference with LoRA / AdaMix\r\n* user-defined, constraints, other crazy stuff\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/13/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/13/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/12",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/12/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/12/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/12/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/12",
        "id": 1277014955,
        "node_id": "I_kwDOHfNHc85MHbOr",
        "number": 12,
        "title": "Roadmap (tentative)",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2022-06-20T14:26:11Z",
        "updated_at": "2023-08-30T04:08:07Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "__Current tasks:__\r\n  - [ ] prototype bloom points system @borzunov  (#6 )\r\n  - [x] local tensor parallelism ( #143 , using [BlackSamorez/tesnor_parallel](https://github.com/BlackSamorez/tensor_parallel) by @blacksamorez and @IaroslavLisniak )\r\n  - [x] increase default max sequence length (from #146 )\r\n  - [x] allow running a server without open ports @Vahe1994 \r\n  - [ ] option to download pre-quantized blocks (@mryab )\r\n  - [x] improved routing (@justheuristic )\r\n  - [x] newest-latest libp2p - @Vahe1994\r\n  - [ ] touch up fine-tuning examples, make sure they work in reasonable time ( @justheuristic  )\r\n  - [ ] a way to temporarily shutdown petals server \r\n      - suggested by @craffel : when running a petals server on a machine that is often in use, people should be able to shut off petals servers while running their experiments\r\n      - suggested behavior: shut down asap, restart once gpus are not in use for T minutes\r\n  - __Wanna contribute?__\r\n     - go to [our discord server](https://discord.gg/D9MwApKgWa) and ask around!\r\n     - always in demand:\r\n        - contribute examples (recommended but not required: create an issue / draft first, before you code them)\r\n        - OS support / hardware support ( e.g. see #147 )\r\n        - more models: OPT-175B, switch-XXL, whatever comes into fashion\r\n        - host a server! (see README)\r\n\r\n\r\n\r\n__End of december:__ cover more use cases\r\n  - [x] tutorial: generation notebook\r\n  - [x] tutorial: prompt-tuning notebook\r\n  - [x] PreLayer prompt-tuning - mentioned as one of the baselines in https://arxiv.org/abs/2106.09685 - DONE\r\n  - [x] inference with prompt-tuning ( https://github.com/learning-at-home/bloom-demo/issues/13 by @artek0chumak)\r\n  - [x] advanced inference: beam search, constraints/fusion, LoRA/AdaMix ( @artek0chumak , https://github.com/learning-at-home/bloom-demo/issues/13 )\r\n  - [x] some kind of hub for tutorials, e.g. a minimalistic website\r\n  - [x] alpha test: let more people play with 176B model (where? no-brainer: bigscience, stability, discord)\r\n  - [x] rich inference interface for designing custom generation algorithms (by: @artek0chumak )\r\n  - [x] let servers run requests with different priorities ( https://github.com/learning-at-home/bloom-demo/issues/8  by: @greenfatguy )\r\n  - By this point, we must answer the main questions: (1) will people use it? (2a) what for? (2b) why not?\r\n\r\n\r\n__End of ~july~ august:__ make it reliable, test with early adopters\r\n  - [x] make it so that servers cannot be _killed_ by a bad client request ( https://github.com/learning-at-home/hivemind/issues/3 by: @justheuristic)\r\n  - [x] find the best way to reduce the size of 176B model ( https://github.com/learning-at-home/bloom-demo/issues/4  by: @TimDettmers )\r\n  - [x] let servers automatically find and serve the most in-demand layers ( @borzunov )\r\n  - [x] implement popular non-beam inference types ( https://github.com/learning-at-home/bloom-demo/issues/13 by  @artek0chumak )\r\n  - [x] compress the activations sent between client and server nodes ( by: @mryab )\r\n  - [x] find enough hardware to run the 176B model ( https://github.com/learning-at-home/bloom-demo/issues/14 by: @justheuristic )\r\n  - [x] pre-alpha test: once it is stable enough, let some (trusted) folks play with it and get their feedback\r\n  - [x] submit a EMNLP system demonstration proposal ( https://2022.emnlp.org/calls/System_Demonstrations/ )\r\n  - begin investigating: tutorials, documentation, examples\r\n\r\n__End of june:__ build a proof-of-concept\r\n  - [x] agree on the user interface (see https://github.com/learning-at-home/bloom-demo/issues/5#issuecomment-1159776494 )\r\n  - [x] run simple (__but correct!__) inference with a smaller model (for generation)\r\n  - [x] do simple (__but correct!__) forward/backward with frozen layers (for prompt tuning)\r\n  - [x] client can dynamically choose which remote servers to use for inference ( by: @justheuristic )\r\n  - [x] create basic correctness tests for later\r\n  - [x] check if 8-bit compression is remotely feasible ( by: @TimDettmers )\r\n  - it's okay if the code is not super reliable for now\r\n  - it's okay if servers have to be set up manually for now\r\n  - begin investigating: quantized weights, quantized communication, automatic server allocation, \"bloom points\"\r\n\r\n\r\n\r\n__Important, but not urgent:__\r\n  - multiplicative adapters from https://wandb.ai/learning-at-home/LM_OWT/reports/Parameter-sharing-revisited--VmlldzoxOTAxNjcx ?\r\n  - non-critical performance improvements ( #11 )\r\n  - better finetuning methods: LoRA, AdaMix, PreLayer (see LoRA/AdaMix), whatever is SoTA at the time of building\r\n  - fully decentralized point system",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/12/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/12/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/11",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/11/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/11/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/11/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/11",
        "id": 1276129523,
        "node_id": "I_kwDOHfNHc85MEDDz",
        "number": 11,
        "title": "[CODE] miscellaneous small issues for later",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-06-19T18:02:35Z",
        "updated_at": "2023-01-02T19:16:47Z",
        "closed_at": "2023-01-02T19:16:47Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Things that can be done to improve the code, but were left out to launch MVP faster:\r\n- server-side: connection_handler, backend, runtime\r\n    - [x] modify task pool to deal cache handles as pure-python integers? (currently they are converted to tensors)\r\n    - when running inference over multiple layers on the same server, avoid passing layer activations between cpu<->gpu by \r\nstoring them in MemoryCache \r\n          - moved to #68\r\n    - [x] optimize disk space. r/n a server will eventually download all bloom blocks and store them into HF cache. Check for disk space in advance and/or figure out some cache eviction policy.\r\n- server-side: MemoryCache\r\n    - [x] in allocate_cache, if there is not enough memory, wait for memory to be freed by existing tasks up to a given timeout.\r\n            - note: this can be done using mp.Condtion\r\n    - [x] allocate cache as one contigous buffer to avoid fragmentation\r\n            - note: this feature is active as of [#779959bc](https://github.com/bigscience-workshop/petals/tree/779959bc70a0270ceb46660db251087fe560337c) we will eventually switch back to non-cached version; rationale: did not observe significant issues from fragmentation, but contiguous buffers did complicate the code\r\n    - quantize cached values using bitsandbytes\r\n           -  wontfix (as of 2022.01.02): our current code relies on transformers' default bloom implementation, so we can't intervene in attention internals\r\n    - LRU-offload cache from gpu to ram?\r\n          - moved to #68 \r\n- client-side: internals\r\n    - [x] make begin_inference_session into a contextmanager",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/11/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/11/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/10",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/10/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/10/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/10/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/10",
        "id": 1276129200,
        "node_id": "I_kwDOHfNHc85MEC-w",
        "number": 10,
        "title": "[CODE] Basic tests",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-06-19T18:01:07Z",
        "updated_at": "2022-06-20T13:53:39Z",
        "closed_at": "2022-06-20T13:52:54Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "- [x] test for allclose between rpc_inference and local inference",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/10/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/10/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/9",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/9/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/9/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/9/events",
        "html_url": "https://github.com/bigscience-workshop/petals/pull/9",
        "id": 1270333313,
        "node_id": "PR_kwDOHfNHc845m-Kk",
        "number": 9,
        "title": "Rudimentary decentralization",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-06-14T06:46:36Z",
        "updated_at": "2022-06-14T06:46:43Z",
        "closed_at": "2022-06-14T06:46:43Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/pulls/9",
            "html_url": "https://github.com/bigscience-workshop/petals/pull/9",
            "diff_url": "https://github.com/bigscience-workshop/petals/pull/9.diff",
            "patch_url": "https://github.com/bigscience-workshop/petals/pull/9.patch",
            "merged_at": "2022-06-14T06:46:43Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/9/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/9/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/8",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/8/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/8/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/8/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/8",
        "id": 1268438131,
        "node_id": "I_kwDOHfNHc85LmtRz",
        "number": 8,
        "title": "[DESIGN] auction-like priorities for servers",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "GreenFatGuy",
            "id": 44449246,
            "node_id": "MDQ6VXNlcjQ0NDQ5MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/44449246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GreenFatGuy",
            "html_url": "https://github.com/GreenFatGuy",
            "followers_url": "https://api.github.com/users/GreenFatGuy/followers",
            "following_url": "https://api.github.com/users/GreenFatGuy/following{/other_user}",
            "gists_url": "https://api.github.com/users/GreenFatGuy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GreenFatGuy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GreenFatGuy/subscriptions",
            "organizations_url": "https://api.github.com/users/GreenFatGuy/orgs",
            "repos_url": "https://api.github.com/users/GreenFatGuy/repos",
            "events_url": "https://api.github.com/users/GreenFatGuy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GreenFatGuy/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "GreenFatGuy",
                "id": 44449246,
                "node_id": "MDQ6VXNlcjQ0NDQ5MjQ2",
                "avatar_url": "https://avatars.githubusercontent.com/u/44449246?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/GreenFatGuy",
                "html_url": "https://github.com/GreenFatGuy",
                "followers_url": "https://api.github.com/users/GreenFatGuy/followers",
                "following_url": "https://api.github.com/users/GreenFatGuy/following{/other_user}",
                "gists_url": "https://api.github.com/users/GreenFatGuy/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/GreenFatGuy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GreenFatGuy/subscriptions",
                "organizations_url": "https://api.github.com/users/GreenFatGuy/orgs",
                "repos_url": "https://api.github.com/users/GreenFatGuy/repos",
                "events_url": "https://api.github.com/users/GreenFatGuy/events{/privacy}",
                "received_events_url": "https://api.github.com/users/GreenFatGuy/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-06-12T04:12:30Z",
        "updated_at": "2023-01-02T19:14:32Z",
        "closed_at": "2023-01-02T19:14:31Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "[for the record: this was proposed by @TimDettmers ]\r\n\r\nCurrently, hivemind-server treats all requests on a first come first served basis.\r\nIf we want to reward active participants with faster inference/training, we could change that into an auction.\r\n\r\nHere's how client-server interaction looks like:\r\n- server gives client its stats, the current-highest bid, and maybe some metadata for bidding, e.g. the lowest serviced bids over last T seconds\r\n- client makes a bid - and signs it in such a way that it becomes a commitment ( see #6 )\r\n- [in TaskPool.iterate_minibatches](https://github.com/learning-at-home/hivemind/blob/master/hivemind/moe/server/task_pool.py#L124), server will now generate minibatches in the order of highest bid first\r\n- [in TaskPool.priority](https://github.com/learning-at-home/hivemind/blob/master/hivemind/moe/server/task_pool.py#L175), server will now set pool's priority based on highest bid in the pool, instead of wait time\r\n\r\nAs suggested by @GreenFatGuy , we need to think through how to deal with situations when low bids on high-demand servers won't ever be processed, and will hence take up memory on both client and server. First order solution: add absolute expiration time to each request, drop requests that hit expiration time.",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/8/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/8/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/1",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/1/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/1/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/1/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/1",
        "id": 1268432908,
        "node_id": "I_kwDOHfNHc85LmsAM",
        "number": 1,
        "title": "[CODE] optimize BloomAttention, remove unnecessary host-to-device transfers",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4223744233,
                "node_id": "LA_kwDOHfNHc877wTjp",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/bug",
                "name": "bug",
                "color": "d73a4a",
                "default": true,
                "description": "Something isn't working"
            },
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-06-12T03:34:46Z",
        "updated_at": "2022-06-20T14:00:13Z",
        "closed_at": "2022-06-20T14:00:12Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "__TL;DR__ the current code for BloomAttention is surprisingly inefficient, with obvious problems that should be easy to fix\r\n\r\nThe current code for BloomAttention is surprisingly inefficient:\r\n- it does batch-repetition on CPU before copying larger tensor to GPU - https://github.com/huggingface/transformers/blob/ca2a55e9dfb245527b5e1c954fec6ffbb7aef07b/src/transformers/models/bloom/modeling_bloom.py#L358\r\n- it checks for \"0 in mask\" on each layer, triggering needless CUDA synchronization https://github.com/huggingface/transformers/blob/ca2a55e9dfb245527b5e1c954fec6ffbb7aef07b/src/transformers/models/bloom/modeling_bloom.py#L361\r\n- it checks runs a for-loop with synchronization to shift alibi weights inside each layer in each forward pass https://github.com/huggingface/transformers/blob/ca2a55e9dfb245527b5e1c954fec6ffbb7aef07b/src/transformers/models/bloom/modeling_bloom.py#L162-L167\r\n- it computes alibi biases on CPU in python - https://github.com/huggingface/transformers/blob/ca2a55e9dfb245527b5e1c954fec6ffbb7aef07b/src/transformers/models/bloom/modeling_bloom.py#L94\r\n\r\nIt also misses a ton of opportunities for in-place ops for memory savings, but that's the least of its problems",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/1/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/1/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/4",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/4/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/4/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/4/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/4",
        "id": 1268436435,
        "node_id": "I_kwDOHfNHc85Lms3T",
        "number": 4,
        "title": "[RESEARCH] 8-bit bloom / opt",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            },
            {
                "id": 4224028097,
                "node_id": "MDU6TGFiZWw0MjI0MDI4MDk3",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/research",
                "name": "research",
                "color": "5319E7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "TimDettmers",
            "id": 5260050,
            "node_id": "MDQ6VXNlcjUyNjAwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5260050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TimDettmers",
            "html_url": "https://github.com/TimDettmers",
            "followers_url": "https://api.github.com/users/TimDettmers/followers",
            "following_url": "https://api.github.com/users/TimDettmers/following{/other_user}",
            "gists_url": "https://api.github.com/users/TimDettmers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TimDettmers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TimDettmers/subscriptions",
            "organizations_url": "https://api.github.com/users/TimDettmers/orgs",
            "repos_url": "https://api.github.com/users/TimDettmers/repos",
            "events_url": "https://api.github.com/users/TimDettmers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TimDettmers/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "TimDettmers",
                "id": 5260050,
                "node_id": "MDQ6VXNlcjUyNjAwNTA=",
                "avatar_url": "https://avatars.githubusercontent.com/u/5260050?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/TimDettmers",
                "html_url": "https://github.com/TimDettmers",
                "followers_url": "https://api.github.com/users/TimDettmers/followers",
                "following_url": "https://api.github.com/users/TimDettmers/following{/other_user}",
                "gists_url": "https://api.github.com/users/TimDettmers/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/TimDettmers/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TimDettmers/subscriptions",
                "organizations_url": "https://api.github.com/users/TimDettmers/orgs",
                "repos_url": "https://api.github.com/users/TimDettmers/repos",
                "events_url": "https://api.github.com/users/TimDettmers/events{/privacy}",
                "received_events_url": "https://api.github.com/users/TimDettmers/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-05-31T19:47:19Z",
        "updated_at": "2022-12-21T16:43:00Z",
        "closed_at": "2022-12-21T16:43:00Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "__Why?:__ the more stages we can fit on the same GPU, the less latency users gonna get on _everything_.\r\n\r\n- investigate ways to cast model to 8 bits\r\n  - minimalistic example with bitsandbytes: https://huggingface.co/hivemind/gpt-j-6B-8bit\r\n  - [optional] maybe below 8 bits?\r\n- investigate ways to use less memory for attention cache\r\n  - quantize? sparsify?\r\n\r\n@TimDettmers knows this part best, ask him before we do anything",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/4/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/4/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/5",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/5/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/5/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/5/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/5",
        "id": 1268436479,
        "node_id": "I_kwDOHfNHc85Lms3_",
        "number": 5,
        "title": "[DESIGN] user experience",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            },
            {
                "id": 4224028435,
                "node_id": "MDU6TGFiZWw0MjI0MDI4NDM1",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/writing",
                "name": "writing",
                "color": "FBCA04",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2022-05-31T19:44:19Z",
        "updated_at": "2022-12-21T16:45:06Z",
        "closed_at": "2022-12-21T16:45:06Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "__This issue__ is about how to make distributed bloom user-friendly. See comments below for interface prototype.\n\n\n__\nA bunch of things that we may want to make alongside the tech so that people can... you know... use it :)\n\n- basic website (see training-transformers-together.github.io/ )\n  - what to expect from it?\n    - like openai api\n  - why can't i just use ram/ssd offload?\n    - it's faster together; passing activations for large models is faster than swapping layers\n  - legal disclaimer: by using our model you agree to follow the model's license, read more here\n\n- inference notebook\n  - as responsive as possible, print words as they appear\n  - option to show what happens under the hood (i.e. running through this guy; that guy disconnected; waiting for this)\n  - [optional] make it easy to customize sampling method\n\n- prompt-tuning notebook\n  - pick some task that can be solved relatively quickly with visible results\n  - TODO ask @artek0chumak on best practices\n  - [optional] explain how to add other adapters / ptuning modes\n  - [optional] inference prompt-tuned model? push adapters to HF?\n  - [optional] collaborative prompt-tuning?\n\n- inference website\n  - the default option can simply run inference notebook on server hosted by us\n\n- System Demonstration\n  - August 1st: https://2022.emnlp.org/calls/System_Demonstrations/\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/5/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/5/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/7",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/7/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/7/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/7/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/7",
        "id": 1268436831,
        "node_id": "I_kwDOHfNHc85Lms9f",
        "number": 7,
        "title": "[CODE] fault-tolerant inference (client side)",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "justheuristic",
                "id": 3491902,
                "node_id": "MDQ6VXNlcjM0OTE5MDI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justheuristic",
                "html_url": "https://github.com/justheuristic",
                "followers_url": "https://api.github.com/users/justheuristic/followers",
                "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
                "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
                "organizations_url": "https://api.github.com/users/justheuristic/orgs",
                "repos_url": "https://api.github.com/users/justheuristic/repos",
                "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justheuristic/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-05-31T19:30:47Z",
        "updated_at": "2022-12-21T16:42:23Z",
        "closed_at": "2022-12-21T16:42:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "__Why:__ this is the main \"value added\" by LM api: users can open colab notebook and run a gigantic model.\r\n\r\nDepends on learning-at-home/bloom-demo#3 \r\n\r\nSolution (sketch)\r\nEach client holds embeddings/logits on their side (loads a special a huggingface model)\r\n\r\nInputs: prefix(tokens), sampling parameters (top-k, top-p, etc)\r\n\r\nInit:\r\n1. tokenize prefix tokens and compute embeddings\r\n2. for each stage, send out K initial requests to random servers in parallel. (no tensors are sent yet). Servers respond with their throughput sizes, queue sizes, latency. Pick the best server in each group.\r\n   - figure out how servers represent themselves in DHT\r\n   - [heuristic] if the chosen server has several consecutive stages, always choose to run all these stages.\r\n3. client finds a sequence of servers that collectively have all model layers\r\n   - [optional] record non-selected servers locally as backups for generation\r\n5. client runs prefix through all stages, __stores inter-stage activations__\r\n\r\n\r\nGeneration:\r\n6. get last prefix token embedding from final stage\r\n7. run through logits, run top-k/top-p/whatever inference\r\n   - optional: use knn (e.g. hnsw from faiss) to quickly find nearest token; alternative = colab gpu\r\n8. embed this token using local embeddings\r\n9. send it through one pipeline stage at a time\r\n   - on each stage, add one more vector to prefix_embeddings\r\n10. GOTO 6\r\n\r\nFault recovery:\r\n- If a given pipeline stage fails, find a replacement stage using the same procedure as during initial stage selection\r\n- feed the new stage with __locally_saved__ intermediate embeddings that serve as inputs to that stage\r\n- continue inferencing normally",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/7/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/7/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/6",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/6/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/6/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/6/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/6",
        "id": 1268436544,
        "node_id": "I_kwDOHfNHc85Lms5A",
        "number": 6,
        "title": "[RESEARCH] LM API merit system",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4224028097,
                "node_id": "MDU6TGFiZWw0MjI0MDI4MDk3",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/research",
                "name": "research",
                "color": "5319E7",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [
            {
                "login": "borzunov",
                "id": 8748943,
                "node_id": "MDQ6VXNlcjg3NDg5NDM=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8748943?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/borzunov",
                "html_url": "https://github.com/borzunov",
                "followers_url": "https://api.github.com/users/borzunov/followers",
                "following_url": "https://api.github.com/users/borzunov/following{/other_user}",
                "gists_url": "https://api.github.com/users/borzunov/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/borzunov/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/borzunov/subscriptions",
                "organizations_url": "https://api.github.com/users/borzunov/orgs",
                "repos_url": "https://api.github.com/users/borzunov/repos",
                "events_url": "https://api.github.com/users/borzunov/events{/privacy}",
                "received_events_url": "https://api.github.com/users/borzunov/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-05-31T19:14:14Z",
        "updated_at": "2023-01-27T06:33:21Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Why:\r\n- contributors who support the swarm over long time should feel that they are appreciated\r\n- one client should not be able to DDOS the entire swarm - it should be prioritized according to some pre-defined system\r\n\r\nOptional:\r\n- client that has higher point total may end up prioritized on the processing queue\r\n- contributors who run their GPUs should be motivated to use the model for something of theirs (free coupon effect)\r\n\r\n__Demo constraint:__ the first public version must not have a mechanism for converting internal points into anything except for priority usage and participant self-worth (e.g. via leaderboards).\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/6/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/6/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/2",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/2/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/2/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/2/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/2",
        "id": 1268435948,
        "node_id": "I_kwDOHfNHc85Lmsvs",
        "number": 2,
        "title": "[CODE] port HF bloom to hivemind",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [
            {
                "login": "justheuristic",
                "id": 3491902,
                "node_id": "MDQ6VXNlcjM0OTE5MDI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justheuristic",
                "html_url": "https://github.com/justheuristic",
                "followers_url": "https://api.github.com/users/justheuristic/followers",
                "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
                "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
                "organizations_url": "https://api.github.com/users/justheuristic/orgs",
                "repos_url": "https://api.github.com/users/justheuristic/repos",
                "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justheuristic/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 5,
        "created_at": "2022-05-31T19:04:46Z",
        "updated_at": "2022-06-19T16:56:54Z",
        "closed_at": "2022-06-19T16:56:53Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "__Why:__ so we can play with in in inference mode\r\n\r\nOriginal bloom code: https://github.com/huggingface/transformers/pull/17474\r\n\r\nThe quest is to\r\n- implement bloom __transformer layer__  as a hivemind expert.\r\n- prepare a huggingface model that only has bloom embeddings and logits, but runs all transformer layers via hivemind.RemoteExpert\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/2/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/2/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/3",
        "repository_url": "https://api.github.com/repos/bigscience-workshop/petals",
        "labels_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/3/labels{/name}",
        "comments_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/3/comments",
        "events_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/3/events",
        "html_url": "https://github.com/bigscience-workshop/petals/issues/3",
        "id": 1268436178,
        "node_id": "I_kwDOHfNHc85LmszS",
        "number": 3,
        "title": "[CODE] Basic Inferencing API on hivemind.Server aka rpc_inference",
        "user": {
            "login": "justheuristic",
            "id": 3491902,
            "node_id": "MDQ6VXNlcjM0OTE5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justheuristic",
            "html_url": "https://github.com/justheuristic",
            "followers_url": "https://api.github.com/users/justheuristic/followers",
            "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
            "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
            "organizations_url": "https://api.github.com/users/justheuristic/orgs",
            "repos_url": "https://api.github.com/users/justheuristic/repos",
            "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justheuristic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 4224022684,
                "node_id": "MDU6TGFiZWw0MjI0MDIyNjg0",
                "url": "https://api.github.com/repos/bigscience-workshop/petals/labels/development",
                "name": "development",
                "color": "0052CC",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [
            {
                "login": "justheuristic",
                "id": 3491902,
                "node_id": "MDQ6VXNlcjM0OTE5MDI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/3491902?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justheuristic",
                "html_url": "https://github.com/justheuristic",
                "followers_url": "https://api.github.com/users/justheuristic/followers",
                "following_url": "https://api.github.com/users/justheuristic/following{/other_user}",
                "gists_url": "https://api.github.com/users/justheuristic/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justheuristic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justheuristic/subscriptions",
                "organizations_url": "https://api.github.com/users/justheuristic/orgs",
                "repos_url": "https://api.github.com/users/justheuristic/repos",
                "events_url": "https://api.github.com/users/justheuristic/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justheuristic/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-05-31T18:54:55Z",
        "updated_at": "2022-06-20T13:54:55Z",
        "closed_at": "2022-06-19T18:00:33Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "__Why:__ talk to a 176B model ran on hundreds of small devices.\r\n\r\nImplement an extended hivemind.Server that has  forward/backward as usual, and an additional RPC named `forward_incremental` (stream<->stream)\r\n\r\n\r\n1. Here's the protocol for forward_incremental:\r\n- client sends request containing:\r\n  - requested layers\r\n  - requested max sequence length\r\n  - [optional: bid?]\r\n\r\n2. server responds with info protobuf that contains:\r\n  - bool accepted: if True, server decides to let client run inference and will await first request for T=10 seconds.\r\n      - [optional: queue?]\r\n  - [float queue length: 0 if accepted right now, N if need to wait for N other nodes to finish before running]\r\n  - [float throughput: server's estimated computation time, including time in queue]\r\n\r\n3. client sends prefix embeddings:\r\n  - Tensor prefix input_embeddings [1, prefix_length, hidden_size] with compression\r\n  - [optional prefix attention mask[prefix_length, prefix_length], default = tril]\r\n\r\n4. server runs forward pass, __saves attention caches__ and return\r\n  - Tensor prefix output_embeddings [1, prefix_length, hidden_size] with compression \r\n\r\n5. client sends another token input embeddings\r\n  - Tensor input_embeddings [1, 1, hidden_size] with compression \r\n  - [optional prefix attention mask[1, prefix_length + prev_tokens], default = tril]\r\n\r\n6. server runs forward pass with attention cache and returns\r\n  - Tensor output_embeddings\r\n  - current length\r\n\r\nGOTO step 5 while current length <= max length\r\nIf client does not send ping in T seconds (maybe empty message if no data yet), server closes connection.\r\n\r\n\r\nDon't think about it:\r\n- support fixed max length for now, e.g. 1024 or 2048?\r\n- inference up to 256 steps excluding prefix - to ensure we don't spend too long with the same node?\r\n- select one or more of that node's consequent layers to inference at once?\r\n- send more than one token at a time?\r\n- option to backtrack for a few tokens for beam search inference?\r\n- beam search with multiple hypotheses - and an option to reorder them internally?\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/bigscience-workshop/petals/issues/3/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/bigscience-workshop/petals/issues/3/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    }
]